const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fixProfile-BWudWgM5.js","assets/react-vendor-Bky_MTeY.js","assets/supabase-vendor-DJU2_pxu.js"])))=>i.map(i=>d[i]);
import{r as j,b as Ls,u as ne,L as q,O as Ps,d as ns,e as Te,f as ls,B as As,R as Is,h as Q,N as ss,i as Os}from"./react-vendor-Bky_MTeY.js";import{c as $s}from"./supabase-vendor-DJU2_pxu.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const o of l)if(o.type==="childList")for(const t of o.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&i(t)}).observe(document,{childList:!0,subtree:!0});function a(l){const o={};return l.integrity&&(o.integrity=l.integrity),l.referrerPolicy&&(o.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?o.credentials="include":l.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(l){if(l.ep)return;l.ep=!0;const o=a(l);fetch(l.href,o)}})();var ts={exports:{}},Ie={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var r=j,s=Symbol.for("react.element"),a=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),n=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),c=Symbol.for("react.lazy"),h=Symbol.for("react.offscreen"),p=Symbol.iterator,b="@@iterator";function C(u){if(u===null||typeof u!="object")return null;var y=p&&u[p]||u[b];return typeof y=="function"?y:null}var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function V(u){{for(var y=arguments.length,_=new Array(y>1?y-1:0),A=1;A<y;A++)_[A-1]=arguments[A];T("error",u,_)}}function T(u,y,_){{var A=S.ReactDebugCurrentFrame,F=A.getStackAddendum();F!==""&&(y+="%s",_=_.concat([F]));var z=_.map(function($){return String($)});z.unshift("Warning: "+y),Function.prototype.apply.call(console[u],console,z)}}var P=!1,v=!1,w=!1,x=!1,D=!1,g;g=Symbol.for("react.module.reference");function L(u){return!!(typeof u=="string"||typeof u=="function"||u===i||u===o||D||u===l||u===d||u===f||x||u===h||P||v||w||typeof u=="object"&&u!==null&&(u.$$typeof===c||u.$$typeof===N||u.$$typeof===t||u.$$typeof===n||u.$$typeof===m||u.$$typeof===g||u.getModuleId!==void 0))}function M(u,y,_){var A=u.displayName;if(A)return A;var F=y.displayName||y.name||"";return F!==""?_+"("+F+")":_}function Y(u){return u.displayName||"Context"}function U(u){if(u==null)return null;if(typeof u.tag=="number"&&V("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case i:return"Fragment";case a:return"Portal";case o:return"Profiler";case l:return"StrictMode";case d:return"Suspense";case f:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case n:var y=u;return Y(y)+".Consumer";case t:var _=u;return Y(_._context)+".Provider";case m:return M(u,u.render,"ForwardRef");case N:var A=u.displayName||null;return A!==null?A:U(u.type)||"Memo";case c:{var F=u,z=F._payload,$=F._init;try{return U($(z))}catch{return null}}}return null}var R=Object.assign,I=0,W,re,Z,Ee,ue,le,de;function ce(){}ce.__reactDisabledLog=!0;function xe(){{if(I===0){W=console.log,re=console.info,Z=console.warn,Ee=console.error,ue=console.group,le=console.groupCollapsed,de=console.groupEnd;var u={configurable:!0,enumerable:!0,value:ce,writable:!0};Object.defineProperties(console,{info:u,log:u,warn:u,error:u,group:u,groupCollapsed:u,groupEnd:u})}I++}}function Se(){{if(I--,I===0){var u={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:R({},u,{value:W}),info:R({},u,{value:re}),warn:R({},u,{value:Z}),error:R({},u,{value:Ee}),group:R({},u,{value:ue}),groupCollapsed:R({},u,{value:le}),groupEnd:R({},u,{value:de})})}I<0&&V("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var k=S.ReactCurrentDispatcher,H;function B(u,y,_){{if(H===void 0)try{throw Error()}catch(F){var A=F.stack.trim().match(/\n( *(at )?)/);H=A&&A[1]||""}return`
`+H+u}}var ee=!1,Ne;{var Ue=typeof WeakMap=="function"?WeakMap:Map;Ne=new Ue}function ye(u,y){if(!u||ee)return"";{var _=Ne.get(u);if(_!==void 0)return _}var A;ee=!0;var F=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var z;z=k.current,k.current=null,xe();try{if(y){var $=function(){throw Error()};if(Object.defineProperty($.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($,[])}catch(ae){A=ae}Reflect.construct(u,[],$)}else{try{$.call()}catch(ae){A=ae}u.call($.prototype)}}else{try{throw Error()}catch(ae){A=ae}u()}}catch(ae){if(ae&&A&&typeof ae.stack=="string"){for(var O=ae.stack.split(`
`),ie=A.stack.split(`
`),J=O.length-1,X=ie.length-1;J>=1&&X>=0&&O[J]!==ie[X];)X--;for(;J>=1&&X>=0;J--,X--)if(O[J]!==ie[X]){if(J!==1||X!==1)do if(J--,X--,X<0||O[J]!==ie[X]){var oe=`
`+O[J].replace(" at new "," at ");return u.displayName&&oe.includes("<anonymous>")&&(oe=oe.replace("<anonymous>",u.displayName)),typeof u=="function"&&Ne.set(u,oe),oe}while(J>=1&&X>=0);break}}}finally{ee=!1,k.current=z,Se(),Error.prepareStackTrace=F}var be=u?u.displayName||u.name:"",me=be?B(be):"";return typeof u=="function"&&Ne.set(u,me),me}function ge(u,y,_){return ye(u,!1)}function he(u){var y=u.prototype;return!!(y&&y.isReactComponent)}function fe(u,y,_){if(u==null)return"";if(typeof u=="function")return ye(u,he(u));if(typeof u=="string")return B(u);switch(u){case d:return B("Suspense");case f:return B("SuspenseList")}if(typeof u=="object")switch(u.$$typeof){case m:return ge(u.render);case N:return fe(u.type,y,_);case c:{var A=u,F=A._payload,z=A._init;try{return fe(z(F),y,_)}catch{}}}return""}var ve=Object.prototype.hasOwnProperty,He={},Be=S.ReactDebugCurrentFrame;function ke(u){if(u){var y=u._owner,_=fe(u.type,u._source,y?y.type:null);Be.setExtraStackFrame(_)}else Be.setExtraStackFrame(null)}function hs(u,y,_,A,F){{var z=Function.call.bind(ve);for(var $ in u)if(z(u,$)){var O=void 0;try{if(typeof u[$]!="function"){var ie=Error((A||"React class")+": "+_+" type `"+$+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof u[$]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ie.name="Invariant Violation",ie}O=u[$](y,$,A,_,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(J){O=J}O&&!(O instanceof Error)&&(ke(F),V("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",A||"React class",_,$,typeof O),ke(null)),O instanceof Error&&!(O.message in He)&&(He[O.message]=!0,ke(F),V("Failed %s type: %s",_,O.message),ke(null))}}}var fs=Array.isArray;function we(u){return fs(u)}function js(u){{var y=typeof Symbol=="function"&&Symbol.toStringTag,_=y&&u[Symbol.toStringTag]||u.constructor.name||"Object";return _}}function bs(u){try{return ze(u),!1}catch{return!0}}function ze(u){return""+u}function Ye(u){if(bs(u))return V("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",js(u)),ze(u)}var Ce=S.ReactCurrentOwner,ps={key:!0,ref:!0,__self:!0,__source:!0},We,Je,Ve;Ve={};function Es(u){if(ve.call(u,"ref")){var y=Object.getOwnPropertyDescriptor(u,"ref").get;if(y&&y.isReactWarning)return!1}return u.ref!==void 0}function xs(u){if(ve.call(u,"key")){var y=Object.getOwnPropertyDescriptor(u,"key").get;if(y&&y.isReactWarning)return!1}return u.key!==void 0}function ys(u,y){if(typeof u.ref=="string"&&Ce.current&&y&&Ce.current.stateNode!==y){var _=U(Ce.current.type);Ve[_]||(V('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',U(Ce.current.type),u.ref),Ve[_]=!0)}}function vs(u,y){{var _=function(){We||(We=!0,V("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",y))};_.isReactWarning=!0,Object.defineProperty(u,"key",{get:_,configurable:!0})}}function Cs(u,y){{var _=function(){Je||(Je=!0,V("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",y))};_.isReactWarning=!0,Object.defineProperty(u,"ref",{get:_,configurable:!0})}}var Ss=function(u,y,_,A,F,z,$){var O={$$typeof:s,type:u,key:y,ref:_,props:$,_owner:z};return O._store={},Object.defineProperty(O._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(O,"_self",{configurable:!1,enumerable:!1,writable:!1,value:A}),Object.defineProperty(O,"_source",{configurable:!1,enumerable:!1,writable:!1,value:F}),Object.freeze&&(Object.freeze(O.props),Object.freeze(O)),O};function ks(u,y,_,A,F){{var z,$={},O=null,ie=null;_!==void 0&&(Ye(_),O=""+_),xs(y)&&(Ye(y.key),O=""+y.key),Es(y)&&(ie=y.ref,ys(y,F));for(z in y)ve.call(y,z)&&!ps.hasOwnProperty(z)&&($[z]=y[z]);if(u&&u.defaultProps){var J=u.defaultProps;for(z in J)$[z]===void 0&&($[z]=J[z])}if(O||ie){var X=typeof u=="function"?u.displayName||u.name||"Unknown":u;O&&vs($,X),ie&&Cs($,X)}return Ss(u,O,ie,F,A,Ce.current,$)}}var _e=S.ReactCurrentOwner,Ge=S.ReactDebugCurrentFrame;function je(u){if(u){var y=u._owner,_=fe(u.type,u._source,y?y.type:null);Ge.setExtraStackFrame(_)}else Ge.setExtraStackFrame(null)}var Me;Me=!1;function Re(u){return typeof u=="object"&&u!==null&&u.$$typeof===s}function Ke(){{if(_e.current){var u=U(_e.current.type);if(u)return`

Check the render method of \``+u+"`."}return""}}function Ds(u){{if(u!==void 0){var y=u.fileName.replace(/^.*[\\\/]/,""),_=u.lineNumber;return`

Check your code at `+y+":"+_+"."}return""}}var Xe={};function Ts(u){{var y=Ke();if(!y){var _=typeof u=="string"?u:u.displayName||u.name;_&&(y=`

Check the top-level render call using <`+_+">.")}return y}}function Ze(u,y){{if(!u._store||u._store.validated||u.key!=null)return;u._store.validated=!0;var _=Ts(y);if(Xe[_])return;Xe[_]=!0;var A="";u&&u._owner&&u._owner!==_e.current&&(A=" It was passed a child from "+U(u._owner.type)+"."),je(u),V('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',_,A),je(null)}}function Qe(u,y){{if(typeof u!="object")return;if(we(u))for(var _=0;_<u.length;_++){var A=u[_];Re(A)&&Ze(A,y)}else if(Re(u))u._store&&(u._store.validated=!0);else if(u){var F=C(u);if(typeof F=="function"&&F!==u.entries)for(var z=F.call(u),$;!($=z.next()).done;)Re($.value)&&Ze($.value,y)}}}function Us(u){{var y=u.type;if(y==null||typeof y=="string")return;var _;if(typeof y=="function")_=y.propTypes;else if(typeof y=="object"&&(y.$$typeof===m||y.$$typeof===N))_=y.propTypes;else return;if(_){var A=U(y);hs(_,u.props,"prop",A,u)}else if(y.PropTypes!==void 0&&!Me){Me=!0;var F=U(y);V("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",F||"Unknown")}typeof y.getDefaultProps=="function"&&!y.getDefaultProps.isReactClassApproved&&V("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function ws(u){{for(var y=Object.keys(u.props),_=0;_<y.length;_++){var A=y[_];if(A!=="children"&&A!=="key"){je(u),V("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",A),je(null);break}}u.ref!==null&&(je(u),V("Invalid attribute `ref` supplied to `React.Fragment`."),je(null))}}var es={};function Vs(u,y,_,A,F,z){{var $=L(u);if(!$){var O="";(u===void 0||typeof u=="object"&&u!==null&&Object.keys(u).length===0)&&(O+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var ie=Ds(F);ie?O+=ie:O+=Ke();var J;u===null?J="null":we(u)?J="array":u!==void 0&&u.$$typeof===s?(J="<"+(U(u.type)||"Unknown")+" />",O=" Did you accidentally export a JSX literal instead of a component?"):J=typeof u,V("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",J,O)}var X=ks(u,y,_,F,z);if(X==null)return X;if($){var oe=y.children;if(oe!==void 0)if(A)if(we(oe)){for(var be=0;be<oe.length;be++)Qe(oe[be],u);Object.freeze&&Object.freeze(oe)}else V("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else Qe(oe,u)}if(ve.call(y,"key")){var me=U(u),ae=Object.keys(y).filter(function(Rs){return Rs!=="key"}),Le=ae.length>0?"{key: someKey, "+ae.join(": ..., ")+": ...}":"{key: someKey}";if(!es[me+Le]){var Ms=ae.length>0?"{"+ae.join(": ..., ")+": ...}":"{}";V(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Le,me,Ms,me),es[me+Le]=!0}}return u===i?ws(X):Us(X),X}}var _s=Vs;Ie.Fragment=i,Ie.jsxDEV=_s})();ts.exports=Ie;var e=ts.exports,Oe={},Pe=Ls;{var De=Pe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;Oe.createRoot=function(r,s){De.usingClientEntryPoint=!0;try{return Pe.createRoot(r,s)}finally{De.usingClientEntryPoint=!1}},Oe.hydrateRoot=function(r,s,a){De.usingClientEntryPoint=!0;try{return Pe.hydrateRoot(r,s,a)}finally{De.usingClientEntryPoint=!1}}}const qs="modulepreload",Fs=function(r){return"/"+r},rs={},Hs=function(s,a,i){let l=Promise.resolve();if(a&&a.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),n=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));l=Promise.allSettled(a.map(m=>{if(m=Fs(m),m in rs)return;rs[m]=!0;const d=m.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${m}"]${f}`))return;const N=document.createElement("link");if(N.rel=d?"stylesheet":qs,d||(N.as="script"),N.crossOrigin="",N.href=m,n&&N.setAttribute("nonce",n),document.head.appendChild(N),d)return new Promise((c,h)=>{N.addEventListener("load",c),N.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${m}`)))})}))}function o(t){const n=new Event("vite:preloadError",{cancelable:!0});if(n.payload=t,window.dispatchEvent(n),!n.defaultPrevented)throw t}return l.then(t=>{for(const n of t||[])n.status==="rejected"&&o(n.reason);return s().catch(o)})},Bs="https://wxfxvuvlpjxnyxhpquyw.supabase.co",zs="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4Znh2dXZscGp4bnl4aHBxdXl3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxODkyNzEsImV4cCI6MjA4MDc2NTI3MX0.rdFXyHC-7W5JRa-AtNeU82p1vPGI8oOWuQdQZASFD0c",E=$s(Bs,zs,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"uniquebrains-auth",flowType:"pkce"},db:{schema:"public"},global:{headers:{"x-application-name":"uniquebrains"}}});async function Ys({email:r,password:s,firstName:a,lastName:i,role:l="parent"}){try{if(!r||!s||!a||!i)return{user:null,session:null,error:{message:"All fields are required"}};if(s.length<8)return{user:null,session:null,error:{message:"Password must be at least 8 characters long"}};if(!["instructor","parent","admin"].includes(l))return{user:null,session:null,error:{message:"Invalid role specified. Only parents and instructors can create accounts."}};const{data:t,error:n}=await E.auth.signUp({email:r,password:s,options:{data:{first_name:a,last_name:i,role:l},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(n)return{user:null,session:null,error:n};if(t.user){const{error:m}=await E.from("profiles").insert({id:t.user.id,email:r,first_name:a,last_name:i,role:l});m&&m.code!=="23505"&&console.error("Error creating profile:",m)}return{user:t.user,session:t.session,error:null}}catch(o){return console.error("Sign up error:",o),{user:null,session:null,error:o}}}async function Ws(r,s){try{if(!r||!s)return{user:null,session:null,profile:null,error:{message:"Email and password are required"}};const{data:a,error:i}=await E.auth.signInWithPassword({email:r,password:s});if(i)return{user:null,session:null,profile:null,error:i};const{data:l,error:o}=await E.from("profiles").select("*").eq("id",a.user.id).single();return o?(console.error("Error fetching profile:",o),{user:a.user,session:a.session,profile:null,error:{message:"Profile not found"}}):{user:a.user,session:a.session,profile:l,error:null}}catch(a){return console.error("Sign in error:",a),{user:null,session:null,profile:null,error:a}}}async function Js(){try{const{error:r}=await E.auth.signOut();return{error:r}}catch(r){return console.error("Sign out error:",r),{error:r}}}async function Gs(){try{const{data:{session:r},error:s}=await E.auth.getSession();return s?{session:null,user:null,error:s}:{session:r,user:(r==null?void 0:r.user)||null,error:null}}catch(r){return console.error("Get session error:",r),{session:null,user:null,error:r}}}async function Ae(){try{const{data:{user:r},error:s}=await E.auth.getUser();if(s||!r)return{profile:null,error:s||{message:"Not authenticated"}};const{data:a,error:i}=await E.from("profiles").select("*").eq("id",r.id).single();return i?{profile:null,error:i}:{profile:a,error:null}}catch(r){return console.error("Get profile error:",r),{profile:null,error:r}}}function Ks(r){const{data:{subscription:s}}=E.auth.onAuthStateChange(r);return s}const us=j.createContext(null);function Xs({children:r}){const[s,a]=j.useState(null),[i,l]=j.useState(null),[o,t]=j.useState(null),[n,m]=j.useState([]),[d,f]=j.useState(null),[N,c]=j.useState(!0);j.useEffect(()=>{Gs().then(({session:x,user:D})=>{x&&D?(t(x),a(D),Ae().then(({profile:g})=>{g&&(l(g),g.role==="parent"&&h(D.id)),c(!1)})):c(!1)});const w=Ks((x,D)=>{t(D),a((D==null?void 0:D.user)||null),D!=null&&D.user?Ae().then(({profile:g})=>{g&&(l(g),g.role==="parent"&&h(D.user.id))}):(l(null),m([]),f(null))});return()=>{w==null||w.unsubscribe()}},[]);const h=async w=>{try{const{data:x,error:D}=await E.from("students").select("*").eq("parent_id",w).order("created_at",{ascending:!0});if(D){console.error("Error loading students:",D);return}m(x||[]),x&&x.length>0&&!d&&f(x[0])}catch(x){console.error("Load students error:",x)}},p=async(w,x)=>{const{user:D,session:g,profile:L,error:M}=await Ws(w,x);return M?(console.error("Login error:",M),{error:M}):(a(D),t(g),l(L),{user:D,profile:L,error:null})},b=async w=>{const{user:x,session:D,error:g}=await Ys(w);if(g)return console.error("Registration error:",g),{error:g};if(a(x),t(D),x){const{profile:L}=await Ae();l(L)}return{user:x,error:null}},C=async w=>{if(console.log("‚ûï Adding student:",w),console.log("üë§ Current user:",s==null?void 0:s.id,"Role:",i==null?void 0:i.role),!s||(i==null?void 0:i.role)!=="parent")return console.error("‚ùå Only parents can add students"),{error:"Only parents can add students"};try{const x={parent_id:s.id,first_name:w.firstName,last_name:(i==null?void 0:i.last_name)||w.lastName||"Student",age:parseInt(w.age),date_of_birth:w.dateOfBirth||null,grade_level:w.gradeLevel||null,neurodiversity_profile:w.neurodiversityProfile||[],other_needs:w.otherNeeds||null,interests:w.interests||[],bio:w.bio||null};console.log("üìù Student record to insert:",x);const{data:D,error:g}=await E.from("students").insert([x]).select().single();if(console.log("üíæ Insert result:",{newStudent:D,error:g}),g)return console.error("‚ùå Error creating student:",g),{error:g.message};const L=[...n,D];return m(L),console.log("‚úÖ Students updated:",L.length),L.length===1&&(f(D),console.log("üéØ Set as active student:",D)),{student:D,error:null}}catch(x){return console.error("üí• Student creation error:",x),{error:x.message}}},S=async(w,x)=>{if(!s||(i==null?void 0:i.role)!=="parent")return console.error("Only parents can update students"),{error:"Only parents can update students"};try{const{data:D,error:g}=await E.from("students").update(x).eq("id",w).eq("parent_id",s.id).select().single();if(g)return console.error("Error updating student:",g),{error:g.message};const L=n.map(M=>M.id===w?D:M);return m(L),(d==null?void 0:d.id)===w&&f(D),{student:D,error:null}}catch(D){return console.error("Student update error:",D),{error:D.message}}},V=async w=>{if(!s||(i==null?void 0:i.role)!=="parent")return console.error("Only parents can delete students"),{error:"Only parents can delete students"};try{const{error:x}=await E.from("students").delete().eq("id",w).eq("parent_id",s.id);if(x)return console.error("Error deleting student:",x),{error:x.message};const D=n.filter(g=>g.id!==w);if(m(D),(d==null?void 0:d.id)===w){const g=D[0]||null;f(g)}return{error:null}}catch(x){return console.error("Student deletion error:",x),{error:x.message}}},T=w=>{if(console.log("üîÑ switchStudent called with:",w),console.log("üìã Available students:",n),w===null)console.log("üë§ Switching to parent (activeStudent = null)"),f(null);else{const x=n.find(D=>D.id===w);console.log("üë∂ Found student:",x),x?(console.log("‚úÖ Setting active student:",x),f(x)):console.error("‚ùå Student not found with ID:",w)}},P=async()=>{s&&(i==null?void 0:i.role)==="parent"&&await h(s.id)},v=async()=>{const{error:w}=await Js();return w?(console.error("Logout error:",w),{error:w}):(a(null),t(null),l(null),m([]),f(null),{error:null})};return N?e.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/context/AuthContext.jsx",lineNumber:315,columnNumber:12},this):e.jsxDEV(us.Provider,{value:{user:s,profile:i,session:o,students:n,activeStudent:d,loading:N,login:p,register:b,logout:v,addStudent:C,updateStudent:S,deleteStudent:V,switchStudent:T,refreshStudents:P},children:r},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/context/AuthContext.jsx",lineNumber:319,columnNumber:5},this)}function se(){const r=j.useContext(us);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function cs({size:r="medium"}){const s={small:{height:50},medium:{height:80},large:{height:100}},{height:a}=s[r];return e.jsxDEV("div",{style:{display:"flex",alignItems:"center"},children:e.jsxDEV("img",{src:"/uniquebrains-logo.png.png",alt:"UniqueBrains",style:{height:`${a}px`,width:"auto",backgroundColor:"transparent"},onError:i=>{i.target.style.display="none",i.target.parentElement.innerHTML='<span style="font-size: 1.5rem; font-weight: 700; background: linear-gradient(135deg, #6366f1 0%, #ec4899 50%, #f59e0b 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">UniqueBrains</span>'}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Logo.jsx",lineNumber:12,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Logo.jsx",lineNumber:11,columnNumber:5},this)}function Zs(){const{user:r,profile:s,students:a,activeStudent:i,switchStudent:l,logout:o}=se(),t=ne(),[n,m]=j.useState(!1),[d,f]=j.useState(!1),N=p=>p?p.charAt(0).toUpperCase()+p.slice(1).toLowerCase():"",c=()=>{o(),t("/login"),m(!1)},h=()=>{m(!1)};return e.jsxDEV("div",{className:"layout",children:[e.jsxDEV("header",{className:"header",children:e.jsxDEV("div",{className:"header-content",children:[e.jsxDEV(q,{to:"/",className:"logo",onClick:h,children:e.jsxDEV(cs,{size:"medium"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:34,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:33,columnNumber:11},this),e.jsxDEV("button",{className:"mobile-menu-toggle",onClick:()=>m(!n),"aria-label":"Toggle menu",children:n?"‚úï":"‚ò∞"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:37,columnNumber:11},this),e.jsxDEV("nav",{className:`nav ${n?"nav-open":""}`,children:[e.jsxDEV(q,{to:"/marketplace",className:"nav-link",onClick:h,children:"Marketplace"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:46,columnNumber:13},this),r&&e.jsxDEV(e.Fragment,{children:[(s==null?void 0:s.role)==="parent"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(q,{to:"/my-courses",className:"nav-link",onClick:h,children:"My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:52,columnNumber:21},this),e.jsxDEV(q,{to:"/manage-students",className:"nav-link",onClick:h,children:"Manage Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:53,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:51,columnNumber:19},this),(s==null?void 0:s.role)==="instructor"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(q,{to:"/instructor/dashboard",className:"nav-link",onClick:h,children:"Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:59,columnNumber:21},this),e.jsxDEV(q,{to:"/instructor/create-course",className:"nav-link",onClick:h,children:"Create Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:60,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:58,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:49,columnNumber:15},this),e.jsxDEV("div",{className:"mobile-header-actions",children:r?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"mobile-user-info",children:[e.jsxDEV("span",{className:"user-name",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:70,columnNumber:21},this),e.jsxDEV("span",{className:"user-role",children:["(",s==null?void 0:s.role,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:71,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:69,columnNumber:19},this),e.jsxDEV(q,{to:"/profile",className:"btn-secondary",onClick:h,children:"Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:73,columnNumber:19},this),e.jsxDEV("button",{onClick:c,className:"btn-secondary",children:"Logout"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:74,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:68,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(q,{to:"/login",className:"btn-secondary",onClick:h,children:"Login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:78,columnNumber:19},this),e.jsxDEV(q,{to:"/register",className:"btn-primary",onClick:h,children:"Sign Up"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:79,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:77,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:66,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:45,columnNumber:11},this),e.jsxDEV("div",{className:"desktop-header-actions",children:r?e.jsxDEV("div",{className:"user-menu",children:[(s==null?void 0:s.role)==="parent"&&e.jsxDEV("div",{className:"student-switcher",children:[e.jsxDEV("button",{className:"active-student-btn",onClick:()=>f(!d),children:["üë§ ",i?N(i.first_name):`${N(s==null?void 0:s.first_name)} (Me)`,e.jsxDEV("span",{className:"dropdown-arrow",children:"‚ñº"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:95,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:90,columnNumber:21},this),d&&e.jsxDEV("div",{className:"student-dropdown",children:[e.jsxDEV("button",{className:`student-option ${i?"":"active"}`,onClick:()=>{l(null),f(!1)},children:["üë§ ",N(s==null?void 0:s.first_name)," (Me) ",!i&&"‚úì"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:100,columnNumber:25},this),e.jsxDEV("div",{className:"dropdown-divider"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:111,columnNumber:25},this),a.map(p=>e.jsxDEV("button",{className:`student-option ${(i==null?void 0:i.id)===p.id?"active":""}`,onClick:()=>{l(p.id),f(!1)},children:["üë∂ ",N(p.first_name)," ",(i==null?void 0:i.id)===p.id&&"‚úì"]},p.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:115,columnNumber:27},this)),e.jsxDEV("div",{className:"dropdown-divider"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:127,columnNumber:25},this),e.jsxDEV(q,{to:"/manage-students",className:"manage-students-link",onClick:()=>f(!1),children:"+ Manage Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:128,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:98,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:89,columnNumber:19},this),e.jsxDEV("span",{className:"user-name",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:139,columnNumber:17},this),e.jsxDEV("span",{className:"user-role",children:["(",s==null?void 0:s.role,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:140,columnNumber:17},this),e.jsxDEV(q,{to:"/profile",className:"btn-secondary",children:"Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:141,columnNumber:17},this),e.jsxDEV("button",{onClick:c,className:"btn-secondary",children:"Logout"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:142,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:87,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(q,{to:"/login",className:"btn-secondary",children:"Login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:146,columnNumber:17},this),e.jsxDEV(q,{to:"/register",className:"btn-primary",children:"Sign Up"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:145,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:85,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:32,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:31,columnNumber:7},this),e.jsxDEV("main",{className:"main-content",children:e.jsxDEV(Ps,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:155,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:154,columnNumber:7},this),e.jsxDEV("footer",{className:"footer",children:e.jsxDEV("div",{className:"footer-content",children:[e.jsxDEV("p",{children:"¬© 2025 UniqueBrains. Where every brain learns differently."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:160,columnNumber:11},this),e.jsxDEV("div",{className:"footer-social",children:e.jsxDEV("a",{href:"https://www.instagram.com/ouruniquebrains",target:"_blank",rel:"noopener noreferrer",className:"social-link instagram-link","aria-label":"Follow us on Instagram",children:[e.jsxDEV("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"instagram-icon",children:[e.jsxDEV("defs",{children:e.jsxDEV("linearGradient",{id:"instagram-gradient",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[e.jsxDEV("stop",{offset:"0%",style:{stopColor:"#FED373",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:178,columnNumber:21},this),e.jsxDEV("stop",{offset:"15%",style:{stopColor:"#F15245",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:179,columnNumber:21},this),e.jsxDEV("stop",{offset:"35%",style:{stopColor:"#D92E7F",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:180,columnNumber:21},this),e.jsxDEV("stop",{offset:"65%",style:{stopColor:"#9B36B7",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:181,columnNumber:21},this),e.jsxDEV("stop",{offset:"100%",style:{stopColor:"#515ECF",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:182,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:177,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:176,columnNumber:17},this),e.jsxDEV("path",{fill:"url(#instagram-gradient)",d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:185,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:169,columnNumber:15},this),"Follow us on Instagram"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:162,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:161,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:159,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:158,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:30,columnNumber:5},this)}function Qs(){const{pathname:r}=ns();return j.useEffect(()=>{window.scrollTo(0,0)},[r]),null}function er(){return e.jsxDEV("div",{className:"landing-page",children:[e.jsxDEV("section",{className:"hero",children:e.jsxDEV("div",{className:"hero-content",children:[e.jsxDEV("h1",{className:"hero-title",children:e.jsxDEV("span",{className:"gradient-text",children:"UniqueBrains"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:10,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:9,columnNumber:11},this),e.jsxDEV("p",{className:"hero-tagline",children:"Where every brain learns differently"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:12,columnNumber:11},this),e.jsxDEV("p",{className:"hero-description",children:"A free learning marketplace connecting neurodivergent children with specialized instructors who understand and celebrate their unique learning styles."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:13,columnNumber:11},this),e.jsxDEV("div",{className:"hero-actions",children:[e.jsxDEV(q,{to:"/marketplace",className:"btn-primary-large",children:"Explore Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:18,columnNumber:13},this),e.jsxDEV("div",{className:"donation-buttons",children:[e.jsxDEV("a",{href:"https://www.gofundme.com/f/help-me-support-autism-awareness-and-families-with-genai",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary-large",children:"Support Our Mission ‚ù§Ô∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:22,columnNumber:15},this),e.jsxDEV("a",{href:"https://milaap.org/fundraisers/support-autistic-kids-1",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary-large donation-india",children:"Donate (India) üáÆüá≥"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:30,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:21,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:17,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:7,columnNumber:7},this),e.jsxDEV("section",{className:"mission",children:e.jsxDEV("div",{className:"mission-content",children:[e.jsxDEV("h2",{children:"Our Mission"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:45,columnNumber:11},this),e.jsxDEV("p",{children:["UniqueBrains is a ",e.jsxDEV("strong",{children:"100% free platform"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:47,columnNumber:31},this)," dedicated to making quality education accessible to neurodivergent children. We believe that every child deserves to learn in a way that honors their unique brain, without financial barriers."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:46,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:44,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:43,columnNumber:7},this),e.jsxDEV("section",{className:"features",children:[e.jsxDEV("h2",{children:"What Makes Us Different"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:55,columnNumber:9},this),e.jsxDEV("div",{className:"features-grid",children:[e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üß©"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:58,columnNumber:13},this),e.jsxDEV("h3",{children:"Neurodiversity-First Design"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:59,columnNumber:13},this),e.jsxDEV("p",{children:"Built from the ground up with neurodivergent learners in mind. Clear interfaces, consistent patterns, and supportive guidance at every step."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:57,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:67,columnNumber:13},this),e.jsxDEV("h3",{children:"Specialized Instructors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:68,columnNumber:13},this),e.jsxDEV("p",{children:"Connect with educators trained in neurodiversity-affirming practices who understand ADHD, Autism, Dyslexia, and other learning differences."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:69,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:66,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üé®"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:76,columnNumber:13},this),e.jsxDEV("h3",{children:"Diverse Learning Paths"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:77,columnNumber:13},this),e.jsxDEV("p",{children:"From music and art to coding and science, explore courses designed for different learning styles and interests."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:75,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üíù"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:85,columnNumber:13},this),e.jsxDEV("h3",{children:"Always Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:86,columnNumber:13},this),e.jsxDEV("p",{children:"No subscriptions, no hidden fees. Quality education for neurodivergent children should never be behind a paywall."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:87,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:84,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"ü§ù"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:94,columnNumber:13},this),e.jsxDEV("h3",{children:"Flexible Scheduling"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:95,columnNumber:13},this),e.jsxDEV("p",{children:"Choose between group classes or one-on-one sessions. Learn at your own pace, on your own schedule."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:96,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:93,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üåü"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:103,columnNumber:13},this),e.jsxDEV("h3",{children:"Celebrate Differences"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:104,columnNumber:13},this),e.jsxDEV("p",{children:`We don't try to "fix" anyone. We celebrate neurodiversity and help every child discover their unique strengths.`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:105,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:56,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:54,columnNumber:7},this),e.jsxDEV("section",{className:"support-section",children:e.jsxDEV("div",{className:"support-content",children:[e.jsxDEV("h2",{children:"Help Us Keep UniqueBrains Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:115,columnNumber:11},this),e.jsxDEV("p",{children:"Running a platform takes resources‚Äîservers, development, and support. Your donation helps us:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:116,columnNumber:11},this),e.jsxDEV("ul",{className:"support-list",children:[e.jsxDEV("li",{children:"‚úÖ Keep the platform 100% free for all families"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:120,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Add new features and courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:121,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Support instructors who volunteer their time"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:122,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Maintain and improve our technology"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:123,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Reach more neurodivergent children worldwide"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:124,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:119,columnNumber:11},this),e.jsxDEV("div",{className:"support-actions",children:[e.jsxDEV("div",{className:"donation-buttons",children:[e.jsxDEV("a",{href:"https://www.gofundme.com/f/help-me-support-autism-awareness-and-families-with-genai",target:"_blank",rel:"noopener noreferrer",className:"btn-donate",children:"Donate Now"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:128,columnNumber:15},this),e.jsxDEV("a",{href:"https://milaap.org/fundraisers/support-autistic-kids-1",target:"_blank",rel:"noopener noreferrer",className:"btn-donate donation-india",children:"Donate (India) üáÆüá≥"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:136,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:127,columnNumber:13},this),e.jsxDEV("a",{href:"mailto:hello@uniquebrains.org?subject=Interested in Volunteering as an Instructor&body=Hi UniqueBrains Team,%0D%0A%0D%0AI'm interested in volunteering my time to teach courses on your platform.%0D%0A%0D%0APlease let me know how I can get started!%0D%0A%0D%0AThank you!",className:"btn-volunteer",children:"Volunteer as Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:126,columnNumber:11},this),e.jsxDEV("p",{className:"support-note",children:"Every contribution, no matter how small, makes a difference in a child's learning journey."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:152,columnNumber:11},this),e.jsxDEV("p",{className:"volunteer-note",children:[e.jsxDEV("strong",{children:"Are you an instructor?"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:156,columnNumber:13},this)," Share your expertise and make a difference! We're looking for passionate educators to volunteer their time teaching neurodivergent children."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:155,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:114,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:113,columnNumber:7},this),e.jsxDEV("section",{className:"cta-section",children:e.jsxDEV("div",{className:"cta-content",children:[e.jsxDEV("h2",{children:"Ready to Start Learning?"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:164,columnNumber:11},this),e.jsxDEV("p",{children:"Join our community of unique learners and supportive instructors today."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:165,columnNumber:11},this),e.jsxDEV("div",{className:"cta-actions",children:[e.jsxDEV(q,{to:"/register",className:"btn-primary-large",children:"Sign Up Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:167,columnNumber:13},this),e.jsxDEV(q,{to:"/marketplace",className:"btn-secondary-large",children:"Browse Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:170,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:166,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:163,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:162,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:6,columnNumber:5},this)}function ms({provider:r,children:s,className:a=""}){const i=async()=>{try{const l={redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}};r==="google"&&(l.scopes="email profile");const{data:o,error:t}=await E.auth.signInWithOAuth({provider:r,options:l});if(t)throw t}catch(l){console.error(`OAuth ${r} error:`,l),alert(`Failed to sign in with ${r}: ${l.message}`)}};return e.jsxDEV("button",{onClick:i,className:`oauth-button oauth-button-${r} ${a}`,type:"button",children:s},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/OAuthButton.jsx",lineNumber:44,columnNumber:5},this)}function sr(){const[r,s]=j.useState(""),[a,i]=j.useState(""),[l,o]=j.useState("parent"),[t,n]=j.useState(""),{login:m}=se(),d=ne(),f=async N=>{N.preventDefault(),n("");try{const c=await m(r,a,l);c.error?c.error.message&&c.error.message.includes("Email not confirmed")?n("Please verify your email address. Check your inbox for the confirmation link."):n(c.error.message||"Invalid credentials"):d("/marketplace")}catch(c){c.message&&c.message.includes("Email not confirmed")?n("Please verify your email address. Check your inbox for the confirmation link."):n("Invalid credentials")}};return e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:[e.jsxDEV("div",{className:"auth-logo",children:e.jsxDEV(cs,{size:"medium"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:45,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:44,columnNumber:9},this),e.jsxDEV("h2",{children:"Welcome Back"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:47,columnNumber:9},this),e.jsxDEV("p",{className:"auth-subtitle",children:"Sign in to continue your learning journey"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:48,columnNumber:9},this),t&&e.jsxDEV("div",{className:"error-message",children:t},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:50,columnNumber:19},this),e.jsxDEV("div",{className:"role-selection",children:[e.jsxDEV("p",{className:"role-label",children:"I want to sign in as:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:53,columnNumber:11},this),e.jsxDEV("div",{className:"role-cards",children:[e.jsxDEV("div",{className:`role-card ${l==="parent"?"selected":""}`,onClick:()=>o("parent"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:59,columnNumber:15},this),e.jsxDEV("h3",{children:"Parent"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:60,columnNumber:15},this),e.jsxDEV("p",{children:"Manage my children's learning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:61,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:55,columnNumber:13},this),e.jsxDEV("div",{className:`role-card ${l==="instructor"?"selected":""}`,onClick:()=>o("instructor"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:67,columnNumber:15},this),e.jsxDEV("h3",{children:"Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:68,columnNumber:15},this),e.jsxDEV("p",{children:"Teach and inspire"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:69,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:63,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:54,columnNumber:11},this),e.jsxDEV("p",{className:"role-note",children:e.jsxDEV("small",{children:"Note: Students don't have their own login - parents manage student profiles"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:73,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:52,columnNumber:9},this),e.jsxDEV("div",{className:"oauth-section",children:[e.jsxDEV("button",{type:"button",className:"oauth-button oauth-button-google",onClick:()=>{localStorage.setItem("oauth_role_preference",l),document.querySelector(".oauth-button-google-hidden").click()},children:[e.jsxDEV("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxDEV("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:89,columnNumber:15},this),e.jsxDEV("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:90,columnNumber:15},this),e.jsxDEV("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:91,columnNumber:15},this),e.jsxDEV("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:92,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:88,columnNumber:13},this),"Continue with Google as ",l==="instructor"?"Instructor":"Parent"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:78,columnNumber:11},this),e.jsxDEV("div",{style:{display:"none"},children:e.jsxDEV(ms,{provider:"google",className:"oauth-button-google-hidden",children:"Hidden"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:99,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:98,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:77,columnNumber:9},this),e.jsxDEV("div",{className:"divider",children:e.jsxDEV("span",{children:"or"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:106,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:105,columnNumber:9},this),e.jsxDEV("form",{onSubmit:f,className:"auth-form",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"email",children:"Email"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:111,columnNumber:13},this),e.jsxDEV("input",{id:"email",type:"email",value:r,onChange:N=>s(N.target.value),required:!0,placeholder:"your@email.com"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:110,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:123,columnNumber:13},this),e.jsxDEV("input",{id:"password",type:"password",value:a,onChange:N=>i(N.target.value),required:!0,placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:124,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:122,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn-primary btn-full",children:["Sign In as ",l==="parent"?"Parent":"Instructor"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:134,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:109,columnNumber:9},this),e.jsxDEV("p",{className:"auth-footer",children:["Don't have an account? ",e.jsxDEV(q,{to:"/register",children:"Sign up"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:140,columnNumber:34},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:139,columnNumber:9},this),e.jsxDEV("div",{className:"demo-accounts",children:[e.jsxDEV("p",{className:"demo-title",children:"Demo Accounts:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:144,columnNumber:11},this),e.jsxDEV("p",{children:"Parent: parent@demo.com / Password: any"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:145,columnNumber:11},this),e.jsxDEV("p",{children:"Instructor: instructor@demo.com / Password: any"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:146,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:143,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:43,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:42,columnNumber:5},this)}function rr(){const[r,s]=j.useState("parent"),[a,i]=j.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"parent"}),[l,o]=j.useState(""),[t,n]=j.useState(!1),{register:m}=se();ne();const d=N=>{i({...a,[N.target.name]:N.target.value})},f=async N=>{if(N.preventDefault(),o(""),a.password!==a.confirmPassword){o("Passwords do not match");return}const c={...a,role:r};try{const h=await m(c);h.error?o("Registration failed: "+h.error.message):n(!0)}catch{o("Registration failed")}};return t?e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:e.jsxDEV("div",{className:"success-message-container",children:[e.jsxDEV("div",{className:"success-icon",children:"‚úÖ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:60,columnNumber:13},this),e.jsxDEV("h2",{children:"Check Your Email!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:61,columnNumber:13},this),e.jsxDEV("p",{className:"success-message",children:["We've sent a confirmation email to ",e.jsxDEV("strong",{children:a.email},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:63,columnNumber:50},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:62,columnNumber:13},this),e.jsxDEV("p",{className:"success-instructions",children:"Please click the link in the email to verify your account. Once verified, you can log in and complete your profile setup!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:65,columnNumber:13},this),e.jsxDEV("div",{className:"success-actions",children:e.jsxDEV(q,{to:"/login",className:"btn-primary",children:"Go to Login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:70,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:69,columnNumber:13},this),e.jsxDEV("p",{className:"success-note",children:["Didn't receive the email? Check your spam folder or"," ",e.jsxDEV("a",{href:"#",onClick:N=>{N.preventDefault(),n(!1)},children:"try again"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:76,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:74,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:59,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:58,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:57,columnNumber:7},this):e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:[e.jsxDEV("h2",{children:"Create Your Account"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:89,columnNumber:9},this),e.jsxDEV("p",{className:"auth-subtitle",children:"Join UniqueBrains and start your journey"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:90,columnNumber:9},this),l&&e.jsxDEV("div",{className:"error-message",children:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:94,columnNumber:19},this),e.jsxDEV("div",{className:"role-selection",children:[e.jsxDEV("p",{className:"role-label",children:"I want to sign up as:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:97,columnNumber:13},this),e.jsxDEV("div",{className:"role-cards",children:[e.jsxDEV("div",{className:`role-card ${r==="parent"?"selected":""}`,onClick:()=>s("parent"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:103,columnNumber:17},this),e.jsxDEV("h3",{children:"Parent"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:104,columnNumber:17},this),e.jsxDEV("p",{children:"Manage my children's learning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:105,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:99,columnNumber:15},this),e.jsxDEV("div",{className:`role-card ${r==="instructor"?"selected":""}`,onClick:()=>s("instructor"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:111,columnNumber:17},this),e.jsxDEV("h3",{children:"Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:112,columnNumber:17},this),e.jsxDEV("p",{children:"Teach and inspire"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:113,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:107,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:98,columnNumber:13},this),e.jsxDEV("p",{className:"role-note",children:e.jsxDEV("small",{children:"Note: Student profiles are created by parents during onboarding"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:117,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:116,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:96,columnNumber:9},this),e.jsxDEV("div",{className:"oauth-section",children:[e.jsxDEV("button",{type:"button",className:"oauth-button oauth-button-google",onClick:()=>{console.log("üîç Storing OAuth role preference:",r),localStorage.setItem("oauth_role_preference",r),document.querySelector(".oauth-button-google-hidden").click()},children:[e.jsxDEV("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxDEV("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:134,columnNumber:19},this),e.jsxDEV("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:135,columnNumber:19},this),e.jsxDEV("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:136,columnNumber:19},this),e.jsxDEV("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:137,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:133,columnNumber:17},this),"Sign up with Google as ",r==="instructor"?"Instructor":"Parent"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:122,columnNumber:15},this),e.jsxDEV("div",{style:{display:"none"},children:e.jsxDEV(ms,{provider:"google",className:"oauth-button-google-hidden",children:"Hidden"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:144,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:121,columnNumber:9},this),e.jsxDEV("div",{className:"divider",children:e.jsxDEV("span",{children:"or"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:151,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:150,columnNumber:9},this),e.jsxDEV("form",{onSubmit:f,className:"auth-form",children:[e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"firstName",children:"First Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:157,columnNumber:15},this),e.jsxDEV("input",{id:"firstName",name:"firstName",type:"text",value:a.firstName,onChange:d,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:158,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:156,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"lastName",children:"Last Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:169,columnNumber:15},this),e.jsxDEV("input",{id:"lastName",name:"lastName",type:"text",value:a.lastName,onChange:d,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:155,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"email",children:"Email"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:182,columnNumber:13},this),e.jsxDEV("input",{id:"email",name:"email",type:"email",value:a.email,onChange:d,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:183,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:181,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:194,columnNumber:13},this),e.jsxDEV("input",{id:"password",name:"password",type:"password",value:a.password,onChange:d,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:195,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:193,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"confirmPassword",children:"Confirm Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:206,columnNumber:13},this),e.jsxDEV("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:a.confirmPassword,onChange:d,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:207,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:205,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn-primary btn-full",children:"Create Account"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:217,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:154,columnNumber:9},this),e.jsxDEV("p",{className:"auth-footer",children:["Already have an account? ",e.jsxDEV(q,{to:"/login",children:"Sign in"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:223,columnNumber:36},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:222,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:88,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:87,columnNumber:5},this)}function $e({rating:r,onRate:s,size:a="medium"}){const i=[1,2,3,4,5];return e.jsxDEV("div",{className:`star-rating ${a}`,children:i.map(l=>e.jsxDEV("span",{className:`star ${l<=r?"filled":""} ${s?"interactive":""}`,onClick:()=>s&&s(l),children:"‚òÖ"},l,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/StarRating.jsx",lineNumber:9,columnNumber:9},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/StarRating.jsx",lineNumber:7,columnNumber:5},this)}function ir(r){const s={parenting:["#667eea","#764ba2"],music:["#f093fb","#f5576c"],dance:["#4facfe","#00f2fe"],drama:["#43e97b","#38f9d7"],art:["#fa709a","#fee140"],language:["#ff6b6b","#feca57"],default:["#667eea","#764ba2"]},a=s[r]||s.default;return{gradient:a,style:{background:`linear-gradient(135deg, ${a[0]} 0%, ${a[1]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white"}}}function ar(r){const s={parenting:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶",music:"üéµ",dance:"üíÉ",drama:"üé≠",art:"üé®",language:"üåç",default:"üìö"};return s[r]||s.default}function or({course:r}){const s=r.enrollmentLimit&&r.currentEnrollment>=r.enrollmentLimit,a=r.enrollmentLimit?r.enrollmentLimit-r.currentEnrollment:null,i=ir(r.category),l=ar(r.category);return e.jsxDEV(q,{to:`/courses/${r.id}`,className:"course-card",children:[e.jsxDEV("div",{className:"course-image",children:[e.jsxDEV("div",{className:"generated-image",style:i.style,children:e.jsxDEV("div",{className:"category-icon-large",children:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:16,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:15,columnNumber:9},this),r.price===0&&e.jsxDEV("span",{className:"free-badge",children:"Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:18,columnNumber:32},this),s&&e.jsxDEV("span",{className:"full-badge",children:"Class Full"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:19,columnNumber:20},this),!s&&a!==null&&a<=3&&a>0&&e.jsxDEV("span",{className:"spots-badge",children:[a," spots left"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:21,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:14,columnNumber:7},this),e.jsxDEV("div",{className:"course-content",children:[e.jsxDEV("div",{className:"course-category",children:r.category},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:26,columnNumber:9},this),e.jsxDEV("h3",{className:"course-title",children:r.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:27,columnNumber:9},this),e.jsxDEV("p",{className:"course-description",children:r.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:28,columnNumber:9},this),e.jsxDEV("div",{className:"course-instructor",children:e.jsxDEV("span",{children:["By ",r.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:31,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:30,columnNumber:9},this),e.jsxDEV("div",{className:"course-footer",children:[e.jsxDEV("div",{className:"course-rating",children:[e.jsxDEV($e,{rating:r.averageRating},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:36,columnNumber:13},this),e.jsxDEV("span",{className:"rating-count",children:["(",r.totalRatings,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:37,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:35,columnNumber:11},this),e.jsxDEV("div",{className:"course-price",children:r.price===0?"Free":`$${r.price}`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:40,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:34,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:25,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:13,columnNumber:5},this)}async function nr(r,s){var i;if(!s)throw new Error("Authentication required to create a course");const a=["title","description","category","courseType"];for(const l of a)if(!r[l])throw new Error(`${l} is required`);try{const l={title:r.title.trim(),description:r.description.trim(),category:r.category,course_type:r.courseType,price:0,session_duration:r.sessionDuration?parseInt(r.sessionDuration):null,enrollment_limit:r.enrollmentLimit?parseInt(r.enrollmentLimit):null,is_self_paced:r.isSelfPaced||!1,instructor_id:s.id,status:"published",is_published:!0,start_date:r.startDate||null,end_date:r.endDate||null,has_end_date:r.hasEndDate||!1,session_time:r.sessionTime||null,selected_days:r.selectedDays||null,frequency:r.frequency||"weekly"},{data:o,error:t}=await E.from("courses").insert([l]).select().single();if(t)throw console.error("Course creation error:",t),new Error(`Failed to create course: ${t.message}`);let n=[];return r.courseType==="group"&&!r.isSelfPaced&&r.startDate&&((i=r.selectedDays)==null?void 0:i.length)>0&&(n=await lr(o.id,r)),{course:o,sessions:n,message:"Course created and published successfully! Students can now enroll."}}catch(l){throw console.error("Error in createCourse:",l),l}}async function lr(r,s){const a=[],i=new Date(s.startDate),l=s.hasEndDate&&s.endDate?new Date(s.endDate):new Date(i.getTime()+12*7*24*60*60*1e3);let o=new Date(i),t=1;const n=50;for(;o<=l&&t<=n;){const m=o.toLocaleDateString("en-US",{weekday:"long"});if(s.selectedDays.includes(m)){const d=new Date(o),[f,N]=s.sessionTime.split(":");d.setHours(parseInt(f),parseInt(N),0,0),a.push({course_id:r,title:`Session ${t}`,description:`${s.title} - Session ${t}`,session_date:d.toISOString(),duration:parseInt(s.sessionDuration),meeting_link:"",meeting_platform:null,status:"scheduled"}),t++}o.setDate(o.getDate()+1)}if(a.length>0){const{data:m,error:d}=await E.from("sessions").insert(a).select();return d?(console.error("Error creating sessions:",d),[]):m}return[]}async function tr(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:a}=await E.from("courses").select(`
        *,
        enrollments(count),
        sessions(count)
      `).eq("instructor_id",r).order("created_at",{ascending:!1});if(a)throw console.error("Error fetching instructor courses:",a),new Error(`Failed to fetch courses: ${a.message}`);return s||[]}catch(s){throw console.error("Error in getInstructorCourses:",s),s}}async function ur(){try{const{data:r,error:s}=await E.from("courses").select(`
        *,
        profiles!instructor_id(id, first_name, last_name, avatar_url),
        enrollments(count),
        sessions(count)
      `).eq("status","published").eq("is_published",!0).order("created_at",{ascending:!1});if(s)throw console.error("Error fetching published courses:",s),new Error(`Failed to fetch courses: ${s.message}`);return(r||[]).map(i=>{var l,o,t,n;return{...i,instructorName:i.profiles?`${i.profiles.first_name} ${i.profiles.last_name}`.trim():"Unknown Instructor",currentEnrollment:((o=(l=i.enrollments)==null?void 0:l[0])==null?void 0:o.count)||0,totalSessions:((n=(t=i.sessions)==null?void 0:t[0])==null?void 0:n.count)||0,averageRating:i.average_rating||0,totalRatings:i.total_ratings||0,sessionFrequency:i.frequency||"weekly"}})}catch(r){throw console.error("Error in getAllPublishedCourses:",r),r}}async function cr(r){var s,a,i,l;if(!r)throw new Error("Course ID is required");try{const{data:o,error:t}=await E.from("courses").select(`
        *,
        profiles!instructor_id(id, first_name, last_name, avatar_url, bio),
        enrollments(count),
        sessions(*)
      `).eq("id",r).single();if(t)throw console.error("Error fetching course:",t),new Error(`Failed to fetch course: ${t.message}`);return{...o,instructorName:o.profiles?`${o.profiles.first_name} ${o.profiles.last_name}`.trim():"Unknown Instructor",instructorBio:((s=o.profiles)==null?void 0:s.bio)||"",currentEnrollment:((i=(a=o.enrollments)==null?void 0:a[0])==null?void 0:i.count)||0,totalSessions:((l=o.sessions)==null?void 0:l.length)||0,averageRating:o.average_rating||0,totalRatings:o.total_ratings||0,sessionFrequency:o.frequency||"weekly",selectedDays:o.selected_days||[],dayTimes:o.session_time?[o.session_time]:[],isSelfPaced:o.is_self_paced||!1,sessionDuration:o.session_duration||60,enrollmentLimit:o.enrollment_limit||null,price:o.price||0}}catch(o){throw console.error("Error in getCourseById:",o),o}}async function qe(r,s,a){if(!r||!a)throw new Error("Course ID and instructor ID are required");try{const{data:i,error:l}=await E.from("courses").select("instructor_id").eq("id",r).single();if(l)throw new Error(`Course not found: ${l.message}`);if(i.instructor_id!==a)throw new Error("Unauthorized: You can only update your own courses");const o={...s,updated_at:new Date().toISOString()},{data:t,error:n}=await E.from("courses").update(o).eq("id",r).select().single();if(n)throw console.error("Error updating course:",n),new Error(`Failed to update course: ${n.message}`);return t}catch(i){throw console.error("Error in updateCourse:",i),i}}async function mr(r,s){return qe(r,{is_published:!0,status:"published"},s)}async function dr(r,s){return qe(r,{is_published:!1,status:"draft"},s)}async function Nr(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:a,error:i}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(i)throw new Error(`Course not found: ${i.message}`);if(a.instructor_id!==s)throw new Error("Unauthorized: You can only delete your own courses");const{data:l,error:o}=await E.from("enrollments").select("id").eq("course_id",r).limit(1);if(o&&console.error("Error checking enrollments:",o),l&&l.length>0)throw new Error("Cannot delete course with active enrollments. Please contact students first.");const{error:t}=await E.from("courses").delete().eq("id",r);if(t)throw console.error("Error deleting course:",t),new Error(`Failed to delete course: ${t.message}`);return!0}catch(a){throw console.error("Error in deleteCourse:",a),a}}async function gr(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:a}=await E.from("courses").select("id, status, is_published").eq("instructor_id",r);if(a)throw new Error(`Failed to fetch course stats: ${a.message}`);const{data:i,error:l}=await E.from("enrollments").select("course_id").in("course_id",s.map(t=>t.id));return l&&console.error("Error fetching enrollment stats:",l),{totalCourses:s.length,publishedCourses:s.filter(t=>t.is_published).length,draftCourses:s.filter(t=>!t.is_published).length,totalEnrollments:i?i.length:0}}catch(s){throw console.error("Error in getCourseStats:",s),s}}async function hr(r,s){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await xr(r,s))throw new Error("Unauthorized: You do not have access to this course");const{data:i,error:l}=await E.from("sessions").select("*").eq("course_id",r).order("session_date",{ascending:!0});if(l)throw console.error("Error fetching sessions:",l),new Error(`Failed to fetch sessions: ${l.message}`);return i||[]}catch(a){throw console.error("Error in getCourseSessions:",a),a}}async function fr(r,s,a){if(!r||!a)throw new Error("Session ID and instructor ID are required");try{const{data:i,error:l}=await E.from("sessions").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(l)throw new Error(`Session not found: ${l.message}`);if(i.courses.instructor_id!==a)throw new Error("Unauthorized: You can only update sessions for your own courses");if(s.meeting_link&&!Fe(s.meeting_link))throw new Error("Invalid meeting link URL");const o={meeting_link:s.meeting_link||"",meeting_password:s.meeting_password||"",meeting_platform:s.meeting_platform||null},{data:t,error:n}=await E.from("sessions").update(o).eq("id",r).select().single();if(n)throw console.error("Error updating session:",n),new Error(`Failed to update session: ${n.message}`);return t}catch(i){throw console.error("Error in updateSessionMeeting:",i),i}}async function jr(r,s,a){var i;if(!r||!a)throw new Error("Course ID and instructor ID are required");try{const{data:l,error:o}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(o)throw new Error(`Course not found: ${o.message}`);if(l.instructor_id!==a)throw new Error("Unauthorized: You can only create sessions for your own courses");if(!s.title||!s.session_date)throw new Error("Session title and date are required");const t={course_id:r,title:s.title.trim(),description:((i=s.description)==null?void 0:i.trim())||"",session_date:new Date(s.session_date).toISOString(),duration:s.duration||60,meeting_link:s.meeting_link||"",meeting_password:s.meeting_password||"",meeting_platform:s.meeting_platform||null,status:"scheduled"};if(t.meeting_link&&!Fe(t.meeting_link))throw new Error("Invalid meeting link URL");const{data:n,error:m}=await E.from("sessions").insert([t]).select().single();if(m)throw console.error("Error creating session:",m),new Error(`Failed to create session: ${m.message}`);return n}catch(l){throw console.error("Error in createSession:",l),l}}async function br(r,s,a){if(!r||!a)throw new Error("Session ID and instructor ID are required");try{const{data:i,error:l}=await E.from("sessions").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(l)throw new Error(`Session not found: ${l.message}`);if(i.courses.instructor_id!==a)throw new Error("Unauthorized: You can only update sessions for your own courses");if(s.meeting_link&&!Fe(s.meeting_link))throw new Error("Invalid meeting link URL");const o={...s};o.session_date&&(o.session_date=new Date(o.session_date).toISOString());const{data:t,error:n}=await E.from("sessions").update(o).eq("id",r).select().single();if(n)throw console.error("Error updating session:",n),new Error(`Failed to update session: ${n.message}`);return t}catch(i){throw console.error("Error in updateSession:",i),i}}async function pr(r,s){if(!r||!s)throw new Error("Session ID and instructor ID are required");try{const{data:a,error:i}=await E.from("sessions").select(`
        id,
        course_id,
        title,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(i)throw new Error(`Session not found: ${i.message}`);if(a.courses.instructor_id!==s)throw new Error("Unauthorized: You can only delete sessions for your own courses");const{error:l}=await E.from("sessions").delete().eq("id",r);if(l)throw console.error("Error deleting session:",l),new Error(`Failed to delete session: ${l.message}`);return!0}catch(a){throw console.error("Error in deleteSession:",a),a}}async function Er(r,s=5){if(!r)throw new Error("Instructor ID is required");try{const{data:a,error:i}=await E.from("sessions").select(`
        *,
        courses!inner(title, instructor_id)
      `).eq("courses.instructor_id",r).gte("session_date",new Date().toISOString()).order("session_date",{ascending:!0}).limit(s);if(i)throw console.error("Error fetching upcoming sessions:",i),new Error(`Failed to fetch upcoming sessions: ${i.message}`);return a||[]}catch(a){throw console.error("Error in getUpcomingSessions:",a),a}}async function xr(r,s){try{const{data:a,error:i}=await E.from("courses").select("instructor_id").eq("id",r).single();if(i)return!1;if(a.instructor_id===s)return!0;const{data:l}=await E.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();if(l)return!0;const{data:o}=await E.from("enrollments").select(`
        id,
        student_profile_id,
        students!inner(parent_id)
      `).eq("course_id",r).eq("students.parent_id",s).limit(1);return!!o&&o.length>0}catch(a){return console.error("Error checking course access:",a),!1}}function Fe(r){try{return new URL(r),!0}catch{return!1}}async function yr(r,s,a){if(!r||!a)throw new Error("Course ID and instructor ID are required");try{const{data:i,error:l}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(l)throw new Error(`Course not found: ${l.message}`);if(i.instructor_id!==a)throw new Error("Unauthorized: You can only create homework for your own courses");if(!s.title||!s.description)throw new Error("Title and description are required");const o={course_id:r,title:s.title.trim(),description:s.description.trim(),due_date:s.due_date?new Date(s.due_date).toISOString():null,points:s.points||100,submission_type:s.submission_type||"text",is_published:s.is_published||!1,attachments:s.attachments||null},{data:t,error:n}=await E.from("homework").insert([o]).select().single();if(n)throw console.error("Error creating homework:",n),new Error(`Failed to create homework: ${n.message}`);return t}catch(i){throw console.error("Error in createHomework:",i),i}}async function vr(r,s,a=!0){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await wr(r,s))throw new Error("Unauthorized: You do not have access to this course");const l=await ds(r,s);let o=E.from("homework").select(`
        *,
        submissions(
          id,
          student_id,
          status,
          submitted_at,
          grade,
          feedback
        )
      `).eq("course_id",r);!l&&a&&(o=o.eq("is_published",!0)),o=o.order("due_date",{ascending:!0,nullsLast:!0});const{data:t,error:n}=await o;if(n)throw console.error("Error fetching homework:",n),new Error(`Failed to fetch homework: ${n.message}`);return t||[]}catch(i){throw console.error("Error in getCourseHomework:",i),i}}async function Cr(r,s,a,i=!1){if(!r||!a)throw new Error("Homework ID and student ID are required");try{const{data:l,error:o}=await E.from("homework").select("id, course_id, title, due_date, is_published, submission_type").eq("id",r).single();if(o)throw new Error(`Homework not found: ${o.message}`);if(!l.is_published)throw new Error("This homework assignment is not yet available for submission");let t=E.from("enrollments").select("id").eq("course_id",l.course_id);i?t=t.eq("student_profile_id",a):t=t.eq("student_id",a);const{data:n,error:m}=await t.single();if(m)throw new Error("You must be enrolled in this course to submit homework");let d=E.from("submissions").select("id").eq("homework_id",r);i?d=d.eq("student_profile_id",a):d=d.eq("student_id",a);const{data:f}=await d.single();if(f)throw new Error("You have already submitted this homework. Contact your instructor to resubmit.");if(l.submission_type==="text"&&!s.content)throw new Error("Text content is required for this assignment");if(l.submission_type==="file"&&!s.file_url)throw new Error("File upload is required for this assignment");const N={homework_id:r,student_id:i?null:a,student_profile_id:i?a:null,content:s.content||"",file_url:s.file_url||null,status:"submitted"},{data:c,error:h}=await E.from("submissions").insert([N]).select().single();if(h)throw console.error("Error creating submission:",h),new Error(`Failed to submit homework: ${h.message}`);return c}catch(l){throw console.error("Error in submitHomework:",l),l}}async function Sr(r,s){if(!r||!s)throw new Error("Homework ID and instructor ID are required");try{const{data:a,error:i}=await E.from("homework").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(i)throw new Error(`Homework not found: ${i.message}`);if(a.courses.instructor_id!==s)throw new Error("Unauthorized: You can only view submissions for your own courses");const{data:l,error:o}=await E.from("submissions").select(`
        *,
        profiles!inner(id, full_name, avatar_url)
      `).eq("homework_id",r).order("submitted_at",{ascending:!1});if(o)throw console.error("Error fetching submissions:",o),new Error(`Failed to fetch submissions: ${o.message}`);return l||[]}catch(a){throw console.error("Error in getHomeworkSubmissions:",a),a}}async function kr(r,s,a){if(!r||!a)throw new Error("Submission ID and instructor ID are required");try{const{data:i,error:l}=await E.from("submissions").select(`
        id,
        homework_id,
        homework!inner(
          course_id,
          courses!inner(instructor_id)
        )
      `).eq("id",r).single();if(l)throw new Error(`Submission not found: ${l.message}`);if(i.homework.courses.instructor_id!==a)throw new Error("Unauthorized: You can only grade submissions for your own courses");const o={grade:s.grade||null,feedback:s.feedback||"",status:s.grade!==null?"graded":"submitted",graded_at:s.grade!==null?new Date().toISOString():null},{data:t,error:n}=await E.from("submissions").update(o).eq("id",r).select(`
        *,
        profiles!inner(id, full_name, avatar_url),
        homework!inner(title, course_id)
      `).single();if(n)throw console.error("Error grading submission:",n),new Error(`Failed to grade submission: ${n.message}`);return t}catch(i){throw console.error("Error in gradeSubmission:",i),i}}async function Dr(r,s,a){if(!r||!a)throw new Error("Homework ID and instructor ID are required");try{const{data:i,error:l}=await E.from("homework").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(l)throw new Error(`Homework not found: ${l.message}`);if(i.courses.instructor_id!==a)throw new Error("Unauthorized: You can only update homework for your own courses");const o={...s};o.due_date&&(o.due_date=new Date(o.due_date).toISOString());const{data:t,error:n}=await E.from("homework").update(o).eq("id",r).select().single();if(n)throw console.error("Error updating homework:",n),new Error(`Failed to update homework: ${n.message}`);return t}catch(i){throw console.error("Error in updateHomework:",i),i}}async function Tr(r,s){if(!r||!s)throw new Error("Homework ID and instructor ID are required");try{const{data:a,error:i}=await E.from("homework").select(`
        id,
        title,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(i)throw new Error(`Homework not found: ${i.message}`);if(a.courses.instructor_id!==s)throw new Error("Unauthorized: You can only delete homework for your own courses");const{data:l,error:o}=await E.from("submissions").select("id").eq("homework_id",r).limit(1);if(o&&console.error("Error checking submissions:",o),l&&l.length>0)throw new Error("Cannot delete homework with existing submissions. Please contact students first.");const{error:t}=await E.from("homework").delete().eq("id",r);if(t)throw console.error("Error deleting homework:",t),new Error(`Failed to delete homework: ${t.message}`);return!0}catch(a){throw console.error("Error in deleteHomework:",a),a}}async function Ur(r,s){if(!r||!s)throw new Error("Course ID and student ID are required");try{const{data:a,error:i}=await E.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();if(i)throw new Error("You must be enrolled in this course to view submissions");const{data:l,error:o}=await E.from("submissions").select(`
        *,
        homework!inner(
          id,
          title,
          description,
          due_date,
          points,
          course_id
        )
      `).eq("student_id",s).eq("homework.course_id",r).order("submitted_at",{ascending:!1});if(o)throw console.error("Error fetching student submissions:",o),new Error(`Failed to fetch submissions: ${o.message}`);return l||[]}catch(a){throw console.error("Error in getStudentSubmissions:",a),a}}async function wr(r,s,a=null){try{if(await ds(r,s))return!0;const{data:l}=await E.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();if(l)return!0;if(a){const{data:t}=await E.from("enrollments").select(`
          id,
          students!inner(parent_id)
        `).eq("course_id",r).eq("student_profile_id",a).eq("students.parent_id",s).single();if(t)return!0}const{data:o}=await E.from("enrollments").select(`
        id,
        student_profile_id,
        students!inner(parent_id)
      `).eq("course_id",r).eq("students.parent_id",s).limit(1);return!!o&&o.length>0}catch(i){return console.error("Error checking course access:",i),!1}}async function ds(r,s){try{const{data:a,error:i}=await E.from("courses").select("instructor_id").eq("id",r).single();return!i&&a.instructor_id===s}catch(a){return console.error("Error checking instructor status:",a),!1}}async function Vr(r,s,a){var i;if(!r||!a)throw new Error("Course ID and instructor ID are required");try{const{data:l,error:o}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(o)throw new Error(`Course not found: ${o.message}`);if(l.instructor_id!==a)throw new Error("Unauthorized: You can only add resources to your own courses");if(!s.title)throw new Error("Resource title is required");if(!s.resource_type||!["file","link"].includes(s.resource_type))throw new Error('Resource type must be either "file" or "link"');if(s.resource_type==="file"&&!s.file_url)throw new Error("File URL is required for file resources");if(s.resource_type==="link"&&!s.link_url)throw new Error("Link URL is required for link resources");if(s.link_url&&!Ns(s.link_url))throw new Error("Invalid link URL");const t={course_id:r,title:s.title.trim(),description:((i=s.description)==null?void 0:i.trim())||"",resource_type:s.resource_type,file_url:s.file_url||null,link_url:s.link_url||null,file_size:s.file_size||null,file_type:s.file_type||null,is_public:s.is_public||!1},{data:n,error:m}=await E.from("resources").insert([t]).select().single();if(m)throw console.error("Error creating resource:",m),new Error(`Failed to create resource: ${m.message}`);return n}catch(l){throw console.error("Error in createResource:",l),l}}async function _r(r,s){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await Ir(r,s))throw new Error("Unauthorized: You do not have access to this course");const{data:i,error:l}=await E.from("resources").select("*").eq("course_id",r).order("created_at",{ascending:!1});if(l)throw console.error("Error fetching resources:",l),new Error(`Failed to fetch resources: ${l.message}`);return i||[]}catch(a){throw console.error("Error in getCourseResources:",a),a}}async function Mr(r,s,a){if(!r||!a)throw new Error("Resource ID and instructor ID are required");try{const{data:i,error:l}=await E.from("resources").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(l)throw new Error(`Resource not found: ${l.message}`);if(i.courses.instructor_id!==a)throw new Error("Unauthorized: You can only update resources for your own courses");if(s.link_url&&!Ns(s.link_url))throw new Error("Invalid link URL");const o={...s},{data:t,error:n}=await E.from("resources").update(o).eq("id",r).select().single();if(n)throw console.error("Error updating resource:",n),new Error(`Failed to update resource: ${n.message}`);return t}catch(i){throw console.error("Error in updateResource:",i),i}}async function Rr(r,s){if(!r||!s)throw new Error("Resource ID and instructor ID are required");try{const{data:a,error:i}=await E.from("resources").select(`
        id,
        title,
        file_url,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(i)throw new Error(`Resource not found: ${i.message}`);if(a.courses.instructor_id!==s)throw new Error("Unauthorized: You can only delete resources for your own courses");const{error:l}=await E.from("resources").delete().eq("id",r);if(l)throw console.error("Error deleting resource:",l),new Error(`Failed to delete resource: ${l.message}`);return!0}catch(a){throw console.error("Error in deleteResource:",a),a}}async function Lr(r,s,a=!1){if(!r||!s)throw new Error("Resource ID and student ID are required");try{const{data:i,error:l}=await E.from("resources").select("course_id").eq("id",r).single();if(l)throw new Error(`Resource not found: ${l.message}`);let o=E.from("enrollments").select("id").eq("course_id",i.course_id);a?o=o.eq("student_profile_id",s):o=o.eq("student_id",s);const{data:t,error:n}=await o.single();if(n)throw new Error("You must be enrolled in this course to access resources");return console.log(`Student ${s} (profile: ${a}) accessed resource ${r}`),!0}catch(i){throw console.error("Error in trackResourceAccess:",i),i}}async function Pr(r,s,a){if(!r||!s||!a)throw new Error("File, course ID, and instructor ID are required");try{const{data:i,error:l}=await E.from("courses").select("instructor_id").eq("id",s).single();if(l)throw new Error(`Course not found: ${l.message}`);if(i.instructor_id!==a)throw new Error("Unauthorized: You can only upload files to your own courses");const o=100*1024*1024;if(r.size>o)throw new Error("File size must be less than 100MB");const t=r.name.split(".").pop(),n=`${s}/${Date.now()}-${Math.random().toString(36).substring(2)}.${t}`,{data:m,error:d}=await E.storage.from("course-resources").upload(n,r,{cacheControl:"3600",upsert:!1});if(d)throw console.error("Error uploading file:",d),new Error(`Failed to upload file: ${d.message}`);const{data:f}=E.storage.from("course-resources").getPublicUrl(n);return{file_url:f.publicUrl,file_name:r.name,file_size:r.size,file_type:r.type,storage_path:n}}catch(i){throw console.error("Error in uploadResourceFile:",i),i}}async function Ar(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:a}=await E.from("resources").select(`
        id,
        resource_type,
        course_id,
        courses!inner(instructor_id, title)
      `).eq("courses.instructor_id",r);if(a)throw console.error("Error fetching resource stats:",a),new Error(`Failed to fetch resource stats: ${a.message}`);const i={totalResources:s.length,fileResources:s.filter(l=>l.resource_type==="file").length,linkResources:s.filter(l=>l.resource_type==="link").length,resourcesByCourse:{}};return s.forEach(l=>{const o=l.courses.title;i.resourcesByCourse[o]||(i.resourcesByCourse[o]=0),i.resourcesByCourse[o]++}),i}catch(s){throw console.error("Error in getResourceStats:",s),s}}async function Ir(r,s){try{const{data:a,error:i}=await E.from("courses").select("instructor_id").eq("id",r).single();if(i)return!1;if(a.instructor_id===s)return!0;const{data:l}=await E.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();if(l)return!0;const{data:o}=await E.from("enrollments").select(`
        id,
        student_profile_id,
        students!inner(parent_id)
      `).eq("course_id",r).eq("students.parent_id",s).limit(1);return!!o&&o.length>0}catch(a){return console.error("Error checking course access:",a),!1}}function Ns(r){try{return new URL(r),!0}catch{return!1}}const Or=new Map;function $r(){return Or}const is=$r();async function qr(r,s,a){if(!r||!a)throw new Error("Course ID and sender ID are required");try{if(!await pe(r,a))throw new Error("Unauthorized: You do not have access to this course");if(!s.content||s.content.trim().length===0)throw new Error("Message content is required");if(s.content.length>2e3)throw new Error("Message content must be less than 2000 characters");const l={course_id:r,sender_id:a,content:s.content.trim(),recipient_id:s.recipient_id||null,is_announcement:s.is_announcement||!1,attachments:s.attachments||null};if(s.recipient_id&&!await pe(r,s.recipient_id))throw new Error("Recipient does not have access to this course");const{data:o,error:t}=await E.from("messages").insert([l]).select(`
        *,
        profiles!sender_id(id, full_name, avatar_url, role)
      `).single();if(t)throw console.error("Error sending message:",t),new Error(`Failed to send message: ${t.message}`);return console.log("üì° Broadcasting message to channel:",`course:${r}:messages`),console.log("üì° Message payload:",o),await Fr(r,"new_message",o),console.log("üì° Broadcast complete"),o}catch(i){throw console.error("Error in sendMessage:",i),i}}async function Fr(r,s,a){try{const i=`course:${r}:messages`;console.log("Looking for existing channel:",i),console.log("Active channels:",Array.from(is.keys()));const l=is.get(i);if(l&&l.channel){console.log("Using existing channel for broadcast, state:",l.channel.state);const o=await l.channel.send({type:"broadcast",event:s,payload:a});console.log("Broadcast result:",o)}else{console.log("No existing channel found in activeChannels");const o=E.getChannels();console.log("All Supabase channels:",o.map(n=>n.topic));const t=o.find(n=>n.topic===i||n.topic===`realtime:${i}`);if(t){console.log("Found matching channel in Supabase, using it");const n=await t.send({type:"broadcast",event:s,payload:a});console.log("Broadcast result:",n)}else console.warn("No channel found - message saved but not broadcast")}console.log("Broadcast sent successfully")}catch(i){console.error("Error broadcasting message:",i)}}async function Hr(r,s,a=50,i=null){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await pe(r,s))throw new Error("Unauthorized: You do not have access to this course");let o=E.from("messages").select(`
        *,
        profiles!sender_id(id, full_name, avatar_url, role)
      `).eq("course_id",r).is("recipient_id",null).order("created_at",{ascending:!1}).limit(a);i&&(o=o.lt("created_at",i));const{data:t,error:n}=await o;if(n)throw console.error("Error fetching messages:",n),new Error(`Failed to fetch messages: ${n.message}`);return(t||[]).reverse()}catch(l){throw console.error("Error in getCourseMessages:",l),l}}async function Br(r,s,a,i=50,l=null){if(!r||!s||!a)throw new Error("Course ID, user ID, and other user ID are required");try{const o=await pe(r,s),t=await pe(r,a);if(!o||!t)throw new Error("Unauthorized: One or both users do not have access to this course");let n=E.from("messages").select(`
        *,
        profiles!sender_id(id, full_name, avatar_url, role)
      `).eq("course_id",r).or(`and(sender_id.eq.${s},recipient_id.eq.${a}),and(sender_id.eq.${a},recipient_id.eq.${s})`).order("created_at",{ascending:!1}).limit(i);l&&(n=n.lt("created_at",l));const{data:m,error:d}=await n;if(d)throw console.error("Error fetching conversation:",d),new Error(`Failed to fetch conversation: ${d.message}`);return(m||[]).reverse()}catch(o){throw console.error("Error in getConversation:",o),o}}async function zr(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:a,error:i}=await E.from("courses").select("instructor_id, course_type").eq("id",r).single();if(i)throw new Error(`Course not found: ${i.message}`);if(a.instructor_id!==s)throw new Error("Unauthorized: You can only view conversations for your own courses");const{data:l,error:o}=await E.from("enrollments").select(`
        student_id,
        profiles!student_id(id, full_name, avatar_url)
      `).eq("course_id",r);if(o)throw console.error("Error fetching enrollments:",o),new Error(`Failed to fetch enrollments: ${o.message}`);const t=[];for(const n of l||[]){const m=n.student_id,{data:d,error:f}=await E.from("messages").select(`
          *,
          profiles!sender_id(id, full_name, avatar_url, role)
        `).eq("course_id",r).or(`and(sender_id.eq.${s},recipient_id.eq.${m}),and(sender_id.eq.${m},recipient_id.eq.${s})`).order("created_at",{ascending:!1}).limit(1).single();t.push({student:n.profiles,lastMessage:f?null:d,unreadCount:0})}return t.sort((n,m)=>!n.lastMessage&&!m.lastMessage?0:n.lastMessage?m.lastMessage?new Date(m.lastMessage.created_at)-new Date(n.lastMessage.created_at):-1:1),t}catch(a){throw console.error("Error in getConversationThreads:",a),a}}async function Yr(r,s,a=null){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await pe(r,s))throw new Error("Unauthorized: You do not have access to this course");return console.log(`User ${s} marked messages as read in course ${r}`,a?`with ${a}`:"(group chat)"),!0}catch(i){throw console.error("Error in markMessagesAsRead:",i),i}}async function Wr(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:a}=await E.from("messages").select(`
        id,
        created_at,
        course_id,
        courses!inner(instructor_id, title, course_type)
      `).eq("courses.instructor_id",r);if(a)throw console.error("Error fetching message stats:",a),new Error(`Failed to fetch message stats: ${a.message}`);const i=new Date,l=new Date(i.getFullYear(),i.getMonth(),i.getDate()),o=new Date(l.getTime()-7*24*60*60*1e3),t={totalMessages:s.length,messagesToday:s.filter(n=>new Date(n.created_at)>=l).length,messagesThisWeek:s.filter(n=>new Date(n.created_at)>=o).length,messagesByCourse:{}};return s.forEach(n=>{const m=n.courses.title;t.messagesByCourse[m]||(t.messagesByCourse[m]=0),t.messagesByCourse[m]++}),t}catch(s){throw console.error("Error in getMessageStats:",s),s}}async function Jr(r,s){if(!r||!s)throw new Error("Message ID and instructor ID are required");try{const{data:a,error:i}=await E.from("messages").select(`
        id,
        sender_id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(i)throw new Error(`Message not found: ${i.message}`);if(a.courses.instructor_id!==s&&a.sender_id!==s)throw new Error("Unauthorized: You can only delete your own messages or messages in your courses");const{error:l}=await E.from("messages").delete().eq("id",r);if(l)throw console.error("Error deleting message:",l),new Error(`Failed to delete message: ${l.message}`);return!0}catch(a){throw console.error("Error in deleteMessage:",a),a}}async function pe(r,s){try{console.log("Checking course access:",{courseId:r,userId:s});const{data:a,error:i}=await E.from("courses").select("instructor_id").eq("id",r).single();if(console.log("Course query result:",{course:a,courseError:i}),i)return console.error("Course not found or error:",i),!1;if(a.instructor_id===s)return console.log("User is the instructor - access granted"),!0;const{data:l}=await E.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();if(console.log("Direct enrollment query result:",{directEnrollment:l}),l)return console.log("User is directly enrolled - access granted"),!0;const{data:o}=await E.from("enrollments").select(`
        id,
        student_profile_id,
        students!inner(parent_id)
      `).eq("course_id",r).eq("students.parent_id",s).limit(1);console.log("Parent enrollment query result:",{parentEnrollments:o});const t=!!o&&o.length>0;return console.log("Access check result:",t),t}catch(a){return console.error("Error checking course access:",a),!1}}async function Gr(r,s=null,a=null){var i;if(!r)throw new Error("Course ID is required");if(!s&&!a)throw new Error("Either student ID or student profile ID is required");try{const{data:l,error:o}=await E.from("courses").select("id, title, is_published, enrollment_limit, instructor_id").eq("id",r).single();if(o)throw new Error(`Course not found: ${o.message}`);if(!l.is_published)throw new Error("This course is not currently available for enrollment");if(s&&l.instructor_id===s)throw new Error("Instructors cannot enroll in their own courses");let t=E.from("enrollments").select("id, status").eq("course_id",r);s?t=t.eq("student_id",s):t=t.eq("student_profile_id",a);const{data:n,error:m}=await t.single();if(n){if(n.status==="active")throw new Error("You are already enrolled in this course");if(n.status==="completed")throw new Error("You have already completed this course")}if(l.enrollment_limit){const{data:c,error:h}=await E.from("enrollments").select("id").eq("course_id",r).eq("status","active");if(h)console.error("Error checking enrollment count:",h);else if(c&&c.length>=l.enrollment_limit)throw new Error("This course is full. Please check back later for availability.")}const d={course_id:r,student_id:s,student_profile_id:a,status:"active",progress:0,enrolled_at:new Date().toISOString()};console.log("Creating enrollment with data:",d),console.log("Current user from Supabase:",(i=(await E.auth.getUser()).data.user)==null?void 0:i.id);const{data:f,error:N}=await E.from("enrollments").insert([d]).select(`
        *,
        courses!inner(id, title, instructor_id, course_type),
        profiles!student_id(id, full_name, avatar_url)
      `).single();if(N)throw console.error("Error creating enrollment:",N),console.error("Enrollment data attempted:",d),new Error(`Failed to enroll in course: ${N.message}`);return f}catch(l){throw console.error("Error in enrollStudent:",l),l}}async function Kr(r,s=!1,a=null){if(!r)throw new Error("Student ID is required");try{let i=E.from("enrollments").select(`
        *,
        courses!inner(
          id,
          title,
          description,
          category,
          course_type,
          instructor_id,
          is_published,
          profiles!instructor_id(id, full_name, avatar_url)
        )
      `).order("enrolled_at",{ascending:!1});s?i=i.eq("student_profile_id",r):i=i.eq("student_id",r),a&&(i=i.eq("status",a));const{data:l,error:o}=await i;if(o)throw console.error("Error fetching student enrollments:",o),new Error(`Failed to fetch enrollments: ${o.message}`);return l||[]}catch(i){throw console.error("Error in getStudentEnrollments:",i),i}}async function Xr(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:a,error:i}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(i)throw new Error(`Course not found: ${i.message}`);if(a.instructor_id!==s)throw new Error("Unauthorized: You can only view enrollments for your own courses");const{data:l,error:o}=await E.from("enrollments").select(`
        *,
        profiles!student_id(
          id,
          full_name,
          avatar_url,
          bio,
          neurodiversity_profile
        )
      `).eq("course_id",r).order("enrolled_at",{ascending:!1});if(o)throw console.error("Error fetching course enrollments:",o),new Error(`Failed to fetch enrollments: ${o.message}`);return l||[]}catch(a){throw console.error("Error in getCourseEnrollments:",a),a}}async function Zr(r,s,a){if(!r||!a)throw new Error("Enrollment ID and instructor ID are required");try{const{data:i,error:l}=await E.from("enrollments").select(`
        id,
        student_id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(l)throw new Error(`Enrollment not found: ${l.message}`);if(i.courses.instructor_id!==a)throw new Error("Unauthorized: You can only update enrollments for your own courses");const o={...s};s.status==="completed"&&!s.completed_at&&(o.completed_at=new Date().toISOString());const{data:t,error:n}=await E.from("enrollments").update(o).eq("id",r).select(`
        *,
        profiles!student_id(id, full_name, avatar_url),
        courses!inner(id, title)
      `).single();if(n)throw console.error("Error updating enrollment:",n),new Error(`Failed to update enrollment: ${n.message}`);return t}catch(i){throw console.error("Error in updateEnrollment:",i),i}}async function Qr(r,s){if(!r||!s)throw new Error("Course ID and student ID are required");try{const{data:a,error:i}=await E.from("enrollments").select("id, status").eq("course_id",r).eq("student_id",s).single();if(i)throw new Error(`Enrollment not found: ${i.message}`);if(a.status==="withdrawn")throw new Error("You have already withdrawn from this course");const{error:l}=await E.from("enrollments").update({status:"withdrawn",withdrawn_at:new Date().toISOString()}).eq("id",a.id);if(l)throw console.error("Error withdrawing from course:",l),new Error(`Failed to withdraw from course: ${l.message}`);return!0}catch(a){throw console.error("Error in withdrawStudent:",a),a}}async function ei(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:a}=await E.from("enrollments").select(`
        id,
        status,
        progress,
        enrolled_at,
        completed_at,
        course_id,
        courses!inner(instructor_id, title)
      `).eq("courses.instructor_id",r);if(a)throw console.error("Error fetching enrollment stats:",a),new Error(`Failed to fetch enrollment stats: ${a.message}`);const i=new Date,l=new Date(i.getFullYear(),i.getMonth(),1),o={totalEnrollments:s.length,activeEnrollments:s.filter(n=>n.status==="active").length,completedEnrollments:s.filter(n=>n.status==="completed").length,withdrawnEnrollments:s.filter(n=>n.status==="withdrawn").length,enrollmentsThisMonth:s.filter(n=>new Date(n.enrolled_at)>=l).length,averageProgress:0,enrollmentsByCourse:{}},t=s.filter(n=>n.status==="active");if(t.length>0){const n=t.reduce((m,d)=>m+(d.progress||0),0);o.averageProgress=Math.round(n/t.length)}return s.forEach(n=>{const m=n.courses.title;o.enrollmentsByCourse[m]||(o.enrollmentsByCourse[m]={total:0,active:0,completed:0,withdrawn:0}),o.enrollmentsByCourse[m].total++,o.enrollmentsByCourse[m][n.status]++}),o}catch(s){throw console.error("Error in getEnrollmentStats:",s),s}}async function si(r,s){if(!r||!s)throw new Error("Course ID and student ID are required");try{const{data:a,error:i}=await E.from("enrollments").select("*").eq("course_id",r).eq("student_id",s).single();if(i&&i.code!=="PGRST116")throw console.error("Error checking enrollment:",i),new Error(`Failed to check enrollment: ${i.message}`);return a||null}catch(a){throw console.error("Error in checkEnrollment:",a),a}}async function ri(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:a,error:i}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(i)throw new Error(`Course not found: ${i.message}`);if(a.instructor_id!==s)throw new Error("Unauthorized: You can only view completion rates for your own courses");const{data:l,error:o}=await E.from("enrollments").select("status, progress").eq("course_id",r);if(o)throw console.error("Error fetching completion rate:",o),new Error(`Failed to fetch completion rate: ${o.message}`);const t=l.length,n=l.filter(N=>N.status==="completed").length,m=l.filter(N=>N.status==="active").length,d=l.filter(N=>N.status==="active"),f=d.length>0?Math.round(d.reduce((N,c)=>N+(c.progress||0),0)/d.length):0;return{totalEnrollments:t,completedEnrollments:n,activeEnrollments:m,completionRate:t>0?Math.round(n/t*100):0,averageProgress:f}}catch(a){throw console.error("Error in getCourseCompletionRate:",a),a}}const ii={create:nr,getAll:ur,getById:cr,getInstructorCourses:tr,update:qe,delete:Nr,publish:mr,unpublish:dr,getStats:gr},ai={create:jr,getCourse:hr,update:br,delete:pr,updateMeeting:fr,getUpcoming:Er},oi={create:yr,getCourse:vr,update:Dr,delete:Tr,submit:Cr,getSubmissions:Sr,grade:kr,getStudentSubmissions:Ur},ni={create:Vr,getCourse:_r,update:Mr,delete:Rr,uploadFile:Pr,trackAccess:Lr,getStats:Ar},li={send:qr,getCourse:Hr,getConversation:Br,delete:Jr,getThreads:zr,markAsRead:Yr,getStats:Wr},ti={enroll:Gr,withdraw:Qr,update:Zr,check:si,getStudent:Kr,getCourse:Xr,getStats:ei,getCompletionRate:ri},G={courses:ii,sessions:ai,homework:oi,resources:ni,messages:li,enrollments:ti};class as extends Error{constructor(s,a="API_ERROR",i=null){super(s),this.name="ApiError",this.code=a,this.details=i}}async function K(r,...s){try{return await r(...s)}catch(a){throw console.error("API call failed:",a),a instanceof as?a:new as(a.message||"An unexpected error occurred",a.code||"UNKNOWN_ERROR",a)}}function ui(){const[r,s]=j.useState(""),[a,i]=j.useState("all"),[l,o]=j.useState([]),[t,n]=j.useState(!0),[m,d]=j.useState(""),f=["all","parenting","music","dance","drama","art","language"];j.useEffect(()=>{(async()=>{try{n(!0);const p=(await K(G.courses.getAll)).filter(b=>b.status==="published");o(p)}catch(h){console.error("Error fetching courses:",h),d("Failed to load courses")}finally{n(!1)}})()},[]);const N=l.filter(c=>{const h=c.title.toLowerCase().includes(r.toLowerCase())||c.description.toLowerCase().includes(r.toLowerCase()),p=a==="all"||c.category===a;return h&&p});return e.jsxDEV("div",{className:"marketplace",children:[e.jsxDEV("div",{className:"marketplace-header",children:[e.jsxDEV("h1",{children:"Discover Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:46,columnNumber:9},this),e.jsxDEV("p",{className:"tagline",children:"Here every brain learns differently"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:47,columnNumber:9},this),e.jsxDEV("p",{className:"subtitle",children:"Personalized live classes for unique learners"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:48,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:45,columnNumber:7},this),e.jsxDEV("div",{className:"marketplace-filters",children:[e.jsxDEV("div",{className:"search-bar",children:e.jsxDEV("input",{type:"text",placeholder:"Search courses...",value:r,onChange:c=>s(c.target.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:53,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:52,columnNumber:9},this),e.jsxDEV("div",{className:"category-filters",children:f.map(c=>e.jsxDEV("button",{className:`category-btn ${a===c?"active":""}`,onClick:()=>i(c),children:c.charAt(0).toUpperCase()+c.slice(1)},c,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:63,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:61,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:51,columnNumber:7},this),t?e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:"Loading courses..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:76,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:75,columnNumber:9},this):m?e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:m},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:80,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:79,columnNumber:9},this):e.jsxDEV("div",{className:"courses-grid",children:N.length>0?N.map(c=>e.jsxDEV(or,{course:c},c.id,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:86,columnNumber:15},this)):e.jsxDEV("div",{className:"no-results",children:[e.jsxDEV("p",{children:"No courses found matching your criteria"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:90,columnNumber:15},this),l.length===0&&e.jsxDEV("p",{style:{marginTop:"1rem",color:"#6b7280"},children:"No courses have been published yet. Check back soon!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:92,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:89,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:83,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:44,columnNumber:5},this)}const ci=[{id:"1",title:"Positive Parenting Fundamentals",description:"Learn evidence-based strategies for raising confident, resilient children through positive discipline and emotional connection.",category:"parenting",price:49.99,instructorId:"1",instructorName:"Dr. Sarah Johnson",isPublished:!0,averageRating:4.8,totalRatings:127,thumbnail:null,courseType:"group",sessionDuration:60,sessionFrequency:"weekly",selectedDays:["Monday","Wednesday"],dayTimes:{Monday:"10:00",Wednesday:"10:00"},isSelfPaced:!1,enrollmentLimit:15,currentEnrollment:12,learningObjectives:["Understand child development stages and age-appropriate expectations","Master effective communication techniques for connecting with your child","Learn positive discipline strategies that build cooperation","Set healthy boundaries while maintaining emotional connection","Handle challenging behaviors with confidence and compassion","Build your child's self-esteem and emotional intelligence"]},{id:"2",title:"Piano for Beginners",description:"Start your musical journey with comprehensive piano lessons designed for absolute beginners.",category:"music",price:79.99,instructorId:"2",instructorName:"Michael Chen",isPublished:!0,averageRating:4.9,totalRatings:89,thumbnail:null,courseType:"one-on-one",sessionDuration:45,sessionFrequency:"biweekly",selectedDays:[],isSelfPaced:!1,enrollmentLimit:8,currentEnrollment:8,learningObjectives:["Develop proper posture and hand position at the piano","Learn to read sheet music and understand musical notation","Master basic scales, chords, and finger exercises","Play simple melodies and popular songs","Understand rhythm, tempo, and musical expression","Build confidence in performance and practice habits"]},{id:"3",title:"Creative Dance for Kids",description:"Fun and engaging dance classes that help children express themselves through movement.",category:"dance",price:0,instructorId:"3",instructorName:"Emma Rodriguez",isPublished:!0,averageRating:4.7,totalRatings:156,thumbnail:null,courseType:"group",sessionDuration:30,sessionFrequency:"weekly",selectedDays:["Tuesday","Thursday"],dayTimes:{Tuesday:"15:30",Thursday:"15:30"},isSelfPaced:!1,enrollmentLimit:20,currentEnrollment:15,learningObjectives:["Explore creative movement and self-expression through dance","Learn basic dance techniques and coordination","Develop rhythm, musicality, and body awareness","Build confidence and stage presence","Create and perform original dance routines","Have fun while staying active and healthy"]},{id:"4",title:"Drama and Theater Arts",description:"Build confidence and creativity through theatrical performance and improvisation.",category:"drama",price:59.99,instructorId:"4",instructorName:"James Williams",isPublished:!0,averageRating:4.6,totalRatings:73,thumbnail:null,courseType:"group",sessionDuration:0,sessionFrequency:"",selectedDays:[],isSelfPaced:!0,enrollmentLimit:null,currentEnrollment:45,learningObjectives:["Develop voice projection and clear articulation","Master character development and emotional expression","Learn improvisation techniques and quick thinking","Build confidence in public speaking and performance","Understand stage presence and audience engagement","Collaborate effectively in ensemble performances"]}],mi=[{id:"1",firstName:"Emma",lastName:"Thompson",email:"emma@example.com",neurodiversityProfile:["autism"],otherNeeds:null},{id:"2",firstName:"Liam",lastName:"Chen",email:"liam@example.com",neurodiversityProfile:["adhd","dyslexia"],otherNeeds:null},{id:"3",firstName:"Sophia",lastName:"Rodriguez",email:"sophia@example.com",neurodiversityProfile:["other"],otherNeeds:"Sensory processing differences"}],di=[{id:"1",courseId:"1",studentName:"Jennifer Smith",rating:5,reviewText:"This course completely transformed my parenting approach. Dr. Johnson's techniques are practical and effective!",createdAt:"2024-11-15"},{id:"2",courseId:"1",studentName:"Robert Brown",rating:4,reviewText:"Great content and well-structured lessons. Would have liked more real-world examples.",createdAt:"2024-11-10"}];function Ni(){const{courseId:r}=Te(),{user:s,profile:a,activeStudent:i}=se(),l=ne(),[o,t]=j.useState(!1),[n,m]=j.useState(null),[d,f]=j.useState(!0),[N,c]=j.useState("");j.useEffect(()=>{console.log("üéØ CourseDetail - activeStudent changed:",i),console.log("üë§ CourseDetail - user:",s==null?void 0:s.id)},[i,s]);const h=di.filter(S=>S.courseId===r);if(j.useEffect(()=>{r&&(async()=>{try{f(!0);const V=await K(G.courses.getById,r);m(V)}catch(V){console.error("Error fetching course:",V),c("Failed to load course")}finally{f(!1)}})()},[r]),d)return e.jsxDEV("div",{className:"course-detail",children:e.jsxDEV("div",{className:"loading-state",children:"Loading course..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:47,columnNumber:43},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:47,columnNumber:12},this);if(N||!n)return e.jsxDEV("div",{className:"course-detail",children:e.jsxDEV("div",{className:"error-state",children:[e.jsxDEV("p",{children:N||"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:54,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>l("/marketplace"),className:"btn-primary",children:"Back to Marketplace"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:55,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:53,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:52,columnNumber:7},this);const p=n.enrollmentLimit&&n.currentEnrollment>=n.enrollmentLimit,b=n.enrollmentLimit?n.enrollmentLimit-n.currentEnrollment:null,C=async()=>{if(!s){l("/login");return}if(p){alert("Sorry, this class is full!");return}try{const S={courseId:r,studentId:i?null:s.id,studentProfileId:i?i.id:null};console.log("=== ENROLLMENT DEBUG ==="),console.log("User ID:",s.id),console.log("Active Student:",i),console.log("Enrollment Data:",S),console.log("========================"),await K(G.enrollments.enroll,S.courseId,S.studentId,S.studentProfileId),t(!0),setTimeout(()=>{t(!1),l("/my-courses")},3e3)}catch(S){console.error("Enrollment error:",S),alert(S.message||"Failed to enroll in course. Please try again.")}};return e.jsxDEV("div",{className:"course-detail",children:[e.jsxDEV("div",{className:"course-hero",children:[e.jsxDEV("div",{className:"course-hero-content",children:[e.jsxDEV("div",{className:"course-category-badge",children:n.category},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:113,columnNumber:11},this),e.jsxDEV("h1",{children:n.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:114,columnNumber:11},this),e.jsxDEV("p",{className:"course-lead",children:n.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:115,columnNumber:11},this),e.jsxDEV("div",{className:"course-meta",children:[e.jsxDEV("div",{className:"meta-item",children:[e.jsxDEV($e,{rating:n.averageRating},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:119,columnNumber:15},this),e.jsxDEV("span",{children:[n.averageRating," (",n.totalRatings," ratings)"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:120,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:118,columnNumber:13},this),e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:["Instructor: ",n.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:123,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:122,columnNumber:13},this),!n.isSelfPaced&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:["üìÖ ",n.sessionDuration," min sessions"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:128,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:127,columnNumber:17},this),e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:["üîÑ ",n.sessionFrequency.charAt(0).toUpperCase()+n.sessionFrequency.slice(1)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:131,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:130,columnNumber:17},this),n.selectedDays.length>0&&n.dayTimes&&e.jsxDEV("div",{className:"meta-item schedule-details",children:[e.jsxDEV("span",{children:"üïê Schedule:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:135,columnNumber:21},this),e.jsxDEV("div",{className:"schedule-list",children:n.selectedDays.map(S=>e.jsxDEV("span",{className:"schedule-day",children:[S," at ",n.dayTimes[S]||"TBD"]},S,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:138,columnNumber:25},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:136,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:134,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:126,columnNumber:15},this),n.isSelfPaced&&e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:"‚è∞ Self-paced (learn at your own speed)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:149,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:117,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:112,columnNumber:9},this),e.jsxDEV("div",{className:"course-enroll-card",children:[e.jsxDEV("div",{className:"enroll-price",children:n.price===0?"Free":`$${n.price}`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:156,columnNumber:11},this),n.enrollmentLimit&&e.jsxDEV("div",{className:"enrollment-status",children:[e.jsxDEV("div",{className:"enrollment-bar",children:e.jsxDEV("div",{className:"enrollment-fill",style:{width:`${n.currentEnrollment/n.enrollmentLimit*100}%`}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:163,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:162,columnNumber:15},this),e.jsxDEV("div",{className:"enrollment-text",children:[n.currentEnrollment," / ",n.enrollmentLimit," students enrolled",!p&&b<=5&&e.jsxDEV("span",{className:"spots-warning",children:[" ‚Ä¢ Only ",b," spots left!"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:171,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:168,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:161,columnNumber:13},this),p?e.jsxDEV("button",{className:"btn-secondary btn-full",disabled:!0,children:"Class Full"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:178,columnNumber:13},this):e.jsxDEV("button",{onClick:C,className:"btn-primary btn-full",children:"Enroll Now"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:182,columnNumber:13},this),e.jsxDEV("div",{className:"enroll-features",children:[e.jsxDEV("div",{className:"feature",children:"‚úì Live classes"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:188,columnNumber:13},this),e.jsxDEV("div",{className:"feature",children:"‚úì Online feedback"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:189,columnNumber:13},this),e.jsxDEV("div",{className:"feature",children:"‚úì Instructor support"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:190,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:187,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:155,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:111,columnNumber:7},this),e.jsxDEV("div",{className:"course-sections",children:e.jsxDEV("section",{className:"course-section",children:[e.jsxDEV("h2",{children:"Student Reviews"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:197,columnNumber:11},this),h.length>0?e.jsxDEV("div",{className:"reviews-list",children:h.map(S=>e.jsxDEV("div",{className:"review-item",children:[e.jsxDEV("div",{className:"review-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"review-author",children:S.studentName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:204,columnNumber:23},this),e.jsxDEV("div",{className:"review-date",children:new Date(S.createdAt).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:205,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:203,columnNumber:21},this),e.jsxDEV($e,{rating:S.rating,size:"small"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:207,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:202,columnNumber:19},this),e.jsxDEV("p",{className:"review-text",children:S.reviewText},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:209,columnNumber:19},this)]},S.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:201,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:199,columnNumber:13},this):e.jsxDEV("p",{className:"no-reviews",children:"No reviews yet. Be the first to review this course!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:214,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:196,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:195,columnNumber:7},this),o&&e.jsxDEV("div",{className:"enrollment-success-overlay",children:e.jsxDEV("div",{className:"enrollment-success-popup",children:[e.jsxDEV("div",{className:"success-icon",children:"üéâ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:223,columnNumber:13},this),e.jsxDEV("h2",{children:"Enrollment Successful!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:224,columnNumber:13},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:i?`${i.first_name} has been enrolled`:"You have been enrolled"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:226,columnNumber:15},this)," in ",e.jsxDEV("strong",{children:n.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:231,columnNumber:28},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:225,columnNumber:13},this),e.jsxDEV("p",{className:"success-subtitle",children:i?`${i.first_name} can now access the course materials and join sessions.`:"You can now access the course materials and join sessions."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:233,columnNumber:13},this),e.jsxDEV("div",{className:"success-actions",children:[e.jsxDEV("button",{onClick:()=>{t(!1),l("/my-courses")},className:"btn-primary",children:"View My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:240,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>t(!1),className:"btn-secondary",children:"Continue Browsing"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:249,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:239,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:222,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:221,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:110,columnNumber:5},this)}function gi(){const{user:r,profile:s,activeStudent:a}=se(),[i,l]=j.useState("list"),[o,t]=j.useState([]),[n,m]=j.useState(!0),[d,f]=j.useState(""),N=b=>b?b.charAt(0).toUpperCase()+b.slice(1).toLowerCase():"";j.useEffect(()=>{(async()=>{if(r)try{m(!0),f("");const C=a!==null,S=(a==null?void 0:a.id)||r.id;console.log("üìö Fetching enrollments for:",{studentId:S,isStudentProfile:C,activeStudent:a});const V=await K(G.enrollments.getStudent,S,C);console.log("‚úÖ Enrollments fetched:",V);const T=V.map(v=>K(G.courses.getById,v.course_id)),P=await Promise.all(T);t(P)}catch(C){console.error("Error fetching enrolled courses:",C),f("Failed to load your courses")}finally{m(!1)}})()},[r,a]);const c=()=>{const b=[];return o.forEach(C=>{if(!C.isSelfPaced&&C.selectedDays.length>0)for(let S=0;S<4;S++)C.selectedDays.forEach(V=>{const T=h(V,S);b.push({courseId:C.id,courseTitle:C.title,instructor:C.instructorName,date:T,time:C.sessionTime||"09:00",duration:C.sessionDuration,category:C.category})})}),b.sort((C,S)=>C.date-S.date)},h=(b,C=0)=>{const S=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],V=new Date,T=S.indexOf(b),P=V.getDay();let v=T-P;v<=0&&(v+=7);const w=new Date(V);return w.setDate(V.getDate()+v+C*7),w},p=c();return n?e.jsxDEV("div",{className:"my-courses",children:e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:"Loading your courses..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:105,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:104,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:103,columnNumber:7},this):d?e.jsxDEV("div",{className:"my-courses",children:e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:d},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:115,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:114,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:113,columnNumber:7},this):e.jsxDEV("div",{className:"my-courses",children:[e.jsxDEV("div",{className:"my-courses-header",children:[e.jsxDEV("div",{className:"courses-title",children:[e.jsxDEV("h1",{children:a?`${N(a.first_name)}'s Courses`:"My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:125,columnNumber:11},this),e.jsxDEV("p",{className:"courses-subtitle",children:a?`Courses enrolled for ${N(a.first_name)}`:"Courses you are enrolled in"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:131,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:124,columnNumber:9},this),e.jsxDEV("div",{className:"view-toggle",children:[e.jsxDEV("button",{className:`toggle-btn ${i==="list"?"active":""}`,onClick:()=>l("list"),children:"üìã List View"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:140,columnNumber:11},this),e.jsxDEV("button",{className:`toggle-btn ${i==="calendar"?"active":""}`,onClick:()=>l("calendar"),children:"üìÖ Calendar View"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:146,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:139,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:123,columnNumber:7},this),i==="list"?e.jsxDEV("div",{className:"courses-list",children:o.length>0?o.map(b=>e.jsxDEV("div",{className:"enrolled-course-card",children:[e.jsxDEV("div",{className:"course-info",children:[e.jsxDEV("h3",{children:b.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:165,columnNumber:19},this),e.jsxDEV("p",{className:"instructor",children:["By ",b.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:166,columnNumber:19},this),!b.isSelfPaced&&b.sessionDuration&&e.jsxDEV("p",{className:"session-info",children:["üìÖ ",b.sessionDuration," min ‚Ä¢ ",b.sessionFrequency,b.selectedDays&&b.selectedDays.length>0&&b.dayTimes&&e.jsxDEV("span",{className:"session-times",children:[" ‚Ä¢ ",b.selectedDays.map(S=>`${S} ${b.dayTimes[S]||""}`).join(", ")]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:172,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:169,columnNumber:21},this),b.isSelfPaced&&e.jsxDEV("p",{className:"session-info",children:"‚è∞ Self-paced learning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:180,columnNumber:21},this),e.jsxDEV("div",{className:"progress-section",children:[e.jsxDEV("div",{className:"progress-bar",children:e.jsxDEV("div",{className:"progress-fill",style:{width:"35%"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:185,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:184,columnNumber:21},this),e.jsxDEV("span",{className:"progress-text",children:[Math.round(35),"% Complete"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:187,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:183,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:164,columnNumber:17},this),e.jsxDEV(q,{to:`/learn/${b.id}`,className:"btn-primary",children:"View Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:191,columnNumber:17},this)]},b.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:163,columnNumber:15},this)):e.jsxDEV("div",{className:"no-courses",style:{textAlign:"center",padding:"3rem"},children:[e.jsxDEV("p",{children:"You haven't enrolled in any courses yet."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:199,columnNumber:13},this),e.jsxDEV(q,{to:"/marketplace",className:"btn-primary",style:{marginTop:"1rem",display:"inline-block"},children:"Browse Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:200,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:198,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:156,columnNumber:9},this):e.jsxDEV("div",{className:"calendar-view",children:[e.jsxDEV("div",{className:"calendar-header",children:[e.jsxDEV("h2",{children:"Upcoming Classes"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:209,columnNumber:13},this),e.jsxDEV("p",{className:"calendar-subtitle",children:"Your scheduled sessions for the next 4 weeks"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:210,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:208,columnNumber:11},this),p.length>0?e.jsxDEV("div",{className:"sessions-timeline",children:p.map((b,C)=>e.jsxDEV("div",{className:"session-card",children:[e.jsxDEV("div",{className:"session-date",children:[e.jsxDEV("div",{className:"date-day",children:b.date.getDate()},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:218,columnNumber:21},this),e.jsxDEV("div",{className:"date-month",children:b.date.toLocaleDateString("en-US",{month:"short"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:219,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:217,columnNumber:19},this),e.jsxDEV("div",{className:"session-details",children:[e.jsxDEV("h3",{className:"session-title",children:b.courseTitle},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:225,columnNumber:21},this),e.jsxDEV("div",{className:"session-meta",children:[e.jsxDEV("span",{children:["üë®‚Äçüè´ ",b.instructor]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:227,columnNumber:23},this),e.jsxDEV("span",{children:["üïê ",b.time]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:228,columnNumber:23},this),e.jsxDEV("span",{children:["‚è±Ô∏è ",b.duration," min"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:229,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:226,columnNumber:21},this),e.jsxDEV("div",{className:"session-day",children:b.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:231,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:224,columnNumber:19},this),e.jsxDEV(q,{to:`/learn/${b.courseId}`,className:"btn-primary",children:"Join Class"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:236,columnNumber:19},this)]},C,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:216,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:214,columnNumber:13},this):e.jsxDEV("div",{className:"no-sessions",children:[e.jsxDEV("p",{children:"No upcoming scheduled sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:244,columnNumber:15},this),e.jsxDEV("p",{className:"no-sessions-subtitle",children:"Your self-paced courses are available anytime"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:245,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:243,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:207,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:122,columnNumber:5},this)}function hi({courseId:r,userId:s}){const[a,i]=j.useState([]),[l,o]=j.useState({});j.useEffect(()=>{t(),n()},[r,s]);const t=()=>{const c=JSON.parse(localStorage.getItem(`homework_${r}`)||"[]");i(c)},n=()=>{const c=JSON.parse(localStorage.getItem(`submissions_${r}_${s}`)||"{}");o(c)},m=c=>l[c],d=c=>{const b=new Date(c)-new Date;return Math.ceil(b/(1e3*60*60*24))},f=a.filter(c=>!m(c.id)),N=a.filter(c=>m(c.id));return e.jsxDEV("div",{className:"student-homework",children:[e.jsxDEV("h2",{children:"üìù Your Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:40,columnNumber:7},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:42,columnNumber:9},this),e.jsxDEV("p",{children:"Complete assignments and submit them before the due date"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:43,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:41,columnNumber:7},this),e.jsxDEV("div",{className:"homework-section",children:[e.jsxDEV("h3",{className:"section-title",children:["‚ö†Ô∏è To Do (",f.length,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:48,columnNumber:9},this),f.length>0?e.jsxDEV("div",{className:"homework-list",children:f.map(c=>{const h=d(c.dueDate),p=h<0,b=h>=0&&h<=2;return e.jsxDEV("div",{className:`homework-card ${p?"overdue":""}`,children:[e.jsxDEV("div",{className:"homework-header",children:[e.jsxDEV("h4",{children:c.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:59,columnNumber:21},this),e.jsxDEV("span",{className:`due-badge ${p?"overdue":b?"due-soon":""}`,children:p?`Overdue by ${Math.abs(h)} day${Math.abs(h)!==1?"s":""}`:`Due: ${new Date(c.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})} (${h} day${h!==1?"s":""} left)`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:60,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:58,columnNumber:19},this),e.jsxDEV("p",{className:"homework-description",children:c.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:67,columnNumber:19},this),e.jsxDEV("div",{className:"homework-meta",children:e.jsxDEV("span",{children:["üìé Type: ",c.submissionType==="text"?"Text Response":c.submissionType==="file"?"File Upload":"Checkmark Only"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:69,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:68,columnNumber:19},this),e.jsxDEV("button",{className:"btn-primary submit-btn",onClick:()=>{const C=new CustomEvent("openSubmissionModal",{detail:{homework:c}});window.dispatchEvent(C)},children:"Submit Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:71,columnNumber:19},this)]},c.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:57,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:50,columnNumber:11},this):e.jsxDEV("p",{className:"empty-state",children:"No pending homework assignments"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:88,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:47,columnNumber:7},this),e.jsxDEV("div",{className:"homework-section",children:[e.jsxDEV("h3",{className:"section-title",children:["‚úÖ Completed (",N.length,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:94,columnNumber:9},this),N.length>0?e.jsxDEV("div",{className:"homework-list",children:N.map(c=>{const h=m(c.id);return e.jsxDEV("div",{className:"homework-card completed",children:[e.jsxDEV("div",{className:"homework-header",children:[e.jsxDEV("h4",{children:["‚úì ",c.title]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:103,columnNumber:21},this),e.jsxDEV("span",{className:"submitted-badge",children:["Submitted: ",new Date(h.submittedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:104,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:102,columnNumber:19},this),h.feedback&&e.jsxDEV("div",{className:"feedback-section",children:[e.jsxDEV("p",{className:"feedback-label",children:"Instructor Feedback:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:110,columnNumber:23},this),e.jsxDEV("p",{className:"feedback-text",children:h.feedback},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:111,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:109,columnNumber:21},this),!h.feedback&&e.jsxDEV("p",{className:"pending-feedback",children:"Waiting for instructor feedback..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:115,columnNumber:21},this),e.jsxDEV("button",{className:"btn-secondary",onClick:()=>{const p=new CustomEvent("viewSubmissionDetails",{detail:{homework:c,submission:h}});window.dispatchEvent(p)},children:"View Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:117,columnNumber:19},this)]},c.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:101,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:96,columnNumber:11},this):e.jsxDEV("p",{className:"empty-state",children:"No completed homework yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:93,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:39,columnNumber:5},this)}function fi({courseId:r,userId:s}){const[a,i]=j.useState([]);j.useEffect(()=>{l()},[r]);const l=()=>{const d=JSON.parse(localStorage.getItem(`resources_${r}`)||"[]");i(d)},o=d=>{const f=JSON.parse(localStorage.getItem(`viewed_resources_${r}_${s}`)||"[]");f.includes(d.id)||(f.push(d.id),localStorage.setItem(`viewed_resources_${r}_${s}`,JSON.stringify(f)));const N=a.map(c=>c.id===d.id&&!c.viewedBy.includes(s)?{...c,viewedBy:[...c.viewedBy,s]}:c);localStorage.setItem(`resources_${r}`,JSON.stringify(N)),i(N),d.type==="link"?window.open(d.url,"_blank"):d.type==="file"&&alert(`Downloading: ${d.title}`)},t=d=>{o(d),alert(`Preview: ${d.title}`)},n=d=>{if(d.type==="link")return"üîó";const f=d.fileName||d.title;return f.endsWith(".pdf")?"üìÑ":f.match(/\.(jpg|jpeg|png|gif)$/i)?"üñºÔ∏è":f.match(/\.(doc|docx)$/i)?"üìù":f.match(/\.(xls|xlsx)$/i)?"üìä":f.match(/\.(mp3|wav)$/i)?"üéµ":f.match(/\.(mp4|mov|avi)$/i)?"üé•":"üìé"},m=d=>d.type==="link"?!1:(d.fileName||d.title).match(/\.(pdf|jpg|jpeg|png|gif)$/i);return e.jsxDEV("div",{className:"student-resources",children:[e.jsxDEV("h2",{children:"üìö Course Materials"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:71,columnNumber:7},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:73,columnNumber:9},this),e.jsxDEV("p",{children:"Download files and access links shared by your instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:74,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:72,columnNumber:7},this),a.length>0?e.jsxDEV("div",{className:"resources-list",children:a.map(d=>e.jsxDEV("div",{className:"resource-card",children:[e.jsxDEV("div",{className:"resource-icon",children:n(d)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:81,columnNumber:15},this),e.jsxDEV("div",{className:"resource-info",children:[e.jsxDEV("h3",{children:d.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:85,columnNumber:17},this),e.jsxDEV("div",{className:"resource-meta",children:[e.jsxDEV("span",{children:d.type==="link"?"Web Link":"File"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:87,columnNumber:19},this),d.fileSize&&e.jsxDEV("span",{children:["‚Ä¢ ",d.fileSize]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:88,columnNumber:41},this),e.jsxDEV("span",{children:["‚Ä¢ Added ",new Date(d.addedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:89,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:86,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:84,columnNumber:15},this),e.jsxDEV("div",{className:"resource-actions",children:d.type==="link"?e.jsxDEV("button",{className:"btn-primary",onClick:()=>o(d),children:"Open Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:94,columnNumber:19},this):e.jsxDEV(e.Fragment,{children:[m(d)&&e.jsxDEV("button",{className:"btn-secondary",onClick:()=>t(d),children:"Preview"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:103,columnNumber:23},this),e.jsxDEV("button",{className:"btn-primary",onClick:()=>o(d),children:"Download"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:110,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:101,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:92,columnNumber:15},this)]},d.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:80,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:78,columnNumber:9},this):e.jsxDEV("p",{className:"empty-state",children:"No resources available yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:123,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:70,columnNumber:5},this)}function ji({courseId:r,userId:s,course:a}){const[i,l]=j.useState([]),[o,t]=j.useState(""),[n,m]=j.useState(!1),d=j.useRef(null);j.useEffect(()=>{f();const b=setInterval(f,3e3);return()=>clearInterval(b)},[r,s]),j.useEffect(()=>{N()},[i]);const f=()=>{const b=JSON.parse(localStorage.getItem(`chat_${r}`)||"[]");let C=b;a.courseType==="one-on-one"&&(C=b.filter(V=>V.senderId===s||V.recipientId===s||V.senderRole==="instructor"&&V.recipientId===s||V.senderId===s&&V.senderRole==="student")),l(C);const S=b.map(V=>V.senderRole==="instructor"&&!V.readBy.includes(s)?{...V,readBy:[...V.readBy,s]}:V);localStorage.setItem(`chat_${r}`,JSON.stringify(S))},N=()=>{var b;(b=d.current)==null||b.scrollIntoView({behavior:"smooth"})},c=async()=>{if(!o.trim()||n)return;m(!0);const b={id:Date.now().toString(),courseId:r,senderId:s,senderName:"You",senderRole:"student",recipientId:a.courseType==="one-on-one"?a.instructorId:null,message:o.trim(),sentAt:new Date().toISOString(),readBy:[s]},C=JSON.parse(localStorage.getItem(`chat_${r}`)||"[]");C.push(b),localStorage.setItem(`chat_${r}`,JSON.stringify(C)),l([...i,b]),t(""),m(!1),setTimeout(()=>{N()},100)},h=b=>{b.key==="Enter"&&!b.shiftKey&&(b.preventDefault(),c())},p=b=>{const C=new Date(b);return(new Date-C)/(1e3*60*60)<24?C.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):C.toLocaleDateString("en-US",{month:"short",day:"numeric"})+" "+C.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})};return e.jsxDEV("div",{className:"student-chat",children:[e.jsxDEV("h2",{children:a.courseType==="group"?"üí¨ Class Chat":"üí¨ Chat with Your Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:107,columnNumber:7},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:112,columnNumber:9},this),e.jsxDEV("p",{children:a.courseType==="group"?`Chat with your instructor and classmates (${a.currentEnrollment} students total)`:"Private conversation - only you and your instructor can see these messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:113,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:111,columnNumber:7},this),e.jsxDEV("div",{className:"chat-container",children:[e.jsxDEV("div",{className:"chat-messages",children:i.length>0?e.jsxDEV(e.Fragment,{children:[i.map(b=>e.jsxDEV("div",{className:`chat-message ${b.senderId===s?"own":""}`,children:[e.jsxDEV("div",{className:"message-header",children:[e.jsxDEV("span",{className:"message-sender",children:[b.senderId===s?"You":b.senderName,b.senderRole==="instructor"&&" (Instructor)"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:130,columnNumber:21},this),e.jsxDEV("span",{className:"message-time",children:p(b.sentAt)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:134,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:129,columnNumber:19},this),e.jsxDEV("div",{className:"message-content",children:b.message},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:136,columnNumber:19},this)]},b.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:125,columnNumber:17},this)),e.jsxDEV("div",{ref:d},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:123,columnNumber:13},this):e.jsxDEV("div",{className:"empty-chat",children:e.jsxDEV("p",{children:"No messages yet. Start the conversation!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:143,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:142,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:121,columnNumber:9},this),e.jsxDEV("div",{className:"chat-input-container",children:[e.jsxDEV("textarea",{value:o,onChange:b=>t(b.target.value),onKeyPress:h,placeholder:"Type your message...",className:"chat-input",rows:"3",disabled:n},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:149,columnNumber:11},this),e.jsxDEV("button",{onClick:c,className:"btn-primary send-button",disabled:!o.trim()||n,children:n?"Sending...":"Send"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:158,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:148,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:120,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:106,columnNumber:5},this)}function bi({homework:r,onClose:s,onSubmit:a}){const[i,l]=j.useState(""),[o,t]=j.useState(null),[n,m]=j.useState(!1),[d,f]=j.useState(!1),N=h=>{const p=h.target.files[0];p&&t(p)},c=async()=>{if(r.submissionType==="text"&&!i.trim()){alert("Please enter your response before submitting");return}if(r.submissionType==="file"&&!o){alert("Please select a file to upload");return}m(!0),setTimeout(()=>{const h={homeworkId:r.id,submittedAt:new Date().toISOString(),content:r.submissionType==="text"?i:(o==null?void 0:o.name)||"Completed",feedback:null,feedbackAt:null};a(h),m(!1),f(!0),setTimeout(()=>{s()},1500)},500)};return d?e.jsxDEV("div",{className:"modal-overlay",onClick:s,children:e.jsxDEV("div",{className:"modal-content confirmation",onClick:h=>h.stopPropagation(),children:[e.jsxDEV("div",{className:"confirmation-icon",children:"‚úì"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:56,columnNumber:11},this),e.jsxDEV("h2",{children:"Homework Submitted!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:57,columnNumber:11},this),e.jsxDEV("p",{children:"Your instructor will review it soon."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:58,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:55,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:54,columnNumber:7},this):e.jsxDEV("div",{className:"modal-overlay",onClick:s,children:e.jsxDEV("div",{className:"modal-content",onClick:h=>h.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:"Submit Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:68,columnNumber:11},this),e.jsxDEV("button",{className:"close-button",onClick:s,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:69,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:67,columnNumber:9},this),e.jsxDEV("div",{className:"modal-body",children:[e.jsxDEV("h3",{children:r.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:73,columnNumber:11},this),e.jsxDEV("p",{className:"homework-description",children:r.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:74,columnNumber:11},this),e.jsxDEV("div",{className:"submission-info",children:[e.jsxDEV("span",{children:["üìÖ Due: ",new Date(r.dueDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:77,columnNumber:13},this),e.jsxDEV("span",{children:["üìé Type: ",r.submissionType==="text"?"Text Response":r.submissionType==="file"?"File Upload":"Checkmark Only"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:76,columnNumber:11},this),e.jsxDEV("div",{className:"submission-area",children:[r.submissionType==="text"&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"text-response",children:"Your Response *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:84,columnNumber:17},this),e.jsxDEV("textarea",{id:"text-response",value:i,onChange:h=>l(h.target.value),placeholder:"Type your response here...",rows:"8",className:"text-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:85,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:83,columnNumber:15},this),r.submissionType==="file"&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"file-upload",children:"Upload File *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:98,columnNumber:17},this),e.jsxDEV("input",{id:"file-upload",type:"file",onChange:N,className:"file-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:99,columnNumber:17},this),o&&e.jsxDEV("p",{className:"file-selected",children:["Selected: ",o.name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:106,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:97,columnNumber:15},this),r.submissionType==="checkmark"&&e.jsxDEV("div",{className:"checkmark-info",children:e.jsxDEV("p",{children:"‚úì Click submit to mark this assignment as complete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:113,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:112,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:81,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:119,columnNumber:13},this),e.jsxDEV("p",{children:"Your instructor will be notified when you submit this homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:118,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:72,columnNumber:9},this),e.jsxDEV("div",{className:"modal-footer",children:[e.jsxDEV("button",{className:"btn-secondary",onClick:s,disabled:n,children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:125,columnNumber:11},this),e.jsxDEV("button",{className:"btn-primary",onClick:c,disabled:n,children:n?"Submitting...":"Submit Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:132,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:124,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:66,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:65,columnNumber:5},this)}function pi({homework:r,submission:s,onClose:a}){return e.jsxDEV("div",{className:"modal-overlay",onClick:a,children:e.jsxDEV("div",{className:"modal-content",onClick:i=>i.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:"Homework Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:8,columnNumber:11},this),e.jsxDEV("button",{className:"close-button",onClick:a,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:9,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:7,columnNumber:9},this),e.jsxDEV("div",{className:"modal-body",children:[e.jsxDEV("h3",{children:r.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:13,columnNumber:11},this),e.jsxDEV("p",{className:"homework-description",children:r.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:14,columnNumber:11},this),e.jsxDEV("div",{className:"details-section",children:[e.jsxDEV("h4",{children:"Submission Information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:17,columnNumber:13},this),e.jsxDEV("div",{className:"info-grid",children:[e.jsxDEV("div",{className:"info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Due Date:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:20,columnNumber:17},this),e.jsxDEV("span",{className:"info-value",children:new Date(r.dueDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:21,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:19,columnNumber:15},this),e.jsxDEV("div",{className:"info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Submitted:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:30,columnNumber:17},this),e.jsxDEV("span",{className:"info-value",children:new Date(s.submittedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:31,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:29,columnNumber:15},this),e.jsxDEV("div",{className:"info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Type:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:42,columnNumber:17},this),e.jsxDEV("span",{className:"info-value",children:r.submissionType==="text"?"Text Response":r.submissionType==="file"?"File Upload":"Checkmark Only"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:43,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:41,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:18,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:16,columnNumber:11},this),r.submissionType==="text"&&s.content&&e.jsxDEV("div",{className:"details-section",children:[e.jsxDEV("h4",{children:"Your Response"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:56,columnNumber:15},this),e.jsxDEV("div",{className:"response-content",children:s.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:57,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:55,columnNumber:13},this),r.submissionType==="file"&&s.content&&e.jsxDEV("div",{className:"details-section",children:[e.jsxDEV("h4",{children:"Submitted File"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:65,columnNumber:15},this),e.jsxDEV("div",{className:"file-info",children:[e.jsxDEV("span",{className:"file-icon",children:"üìé"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:67,columnNumber:17},this),e.jsxDEV("span",{className:"file-name",children:s.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:68,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:66,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:64,columnNumber:13},this),s.feedback?e.jsxDEV("div",{className:"details-section feedback-section",children:[e.jsxDEV("h4",{children:"Instructor Feedback"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:75,columnNumber:15},this),e.jsxDEV("div",{className:"feedback-content",children:[e.jsxDEV("p",{children:s.feedback},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:77,columnNumber:17},this),s.feedbackAt&&e.jsxDEV("p",{className:"feedback-date",children:["Received: ",new Date(s.feedbackAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:79,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:76,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:74,columnNumber:13},this):e.jsxDEV("div",{className:"details-section",children:e.jsxDEV("div",{className:"pending-feedback-box",children:[e.jsxDEV("span",{className:"pending-icon",children:"‚è≥"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:92,columnNumber:17},this),e.jsxDEV("p",{children:"Waiting for instructor feedback..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:93,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:91,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:90,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:12,columnNumber:9},this),e.jsxDEV("div",{className:"modal-footer",children:e.jsxDEV("button",{className:"btn-primary",onClick:a,children:"Close"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:100,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:6,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:5,columnNumber:5},this)}function Ei(){const{courseId:r}=Te(),s=ne(),[a,i]=ls(),{user:l,activeStudent:o}=se(),[t,n]=j.useState(null),[m,d]=j.useState(!0),[f,N]=j.useState(""),c=a.get("tab")||"sessions",[h,p]=j.useState(0),[b,C]=j.useState(0),[S,V]=j.useState(0),[T,P]=j.useState(!1),[v,w]=j.useState(null),[x,D]=j.useState(!1),[g,L]=j.useState(null);j.useEffect(()=>{(async()=>{if(r)try{d(!0),N(""),console.log("üìö Fetching course:",r);const I=await K(G.courses.getById,r);console.log("‚úÖ Course fetched:",I),n(I)}catch(I){console.error("Error fetching course:",I),N("Failed to load course")}finally{d(!1)}})()},[r]),j.useEffect(()=>{M();const R=setInterval(M,5e3);return()=>clearInterval(R)},[r,l.id,c]),j.useEffect(()=>{const R=W=>{w(W.detail.homework),P(!0)},I=W=>{w(W.detail.homework),L(W.detail.submission),D(!0)};return window.addEventListener("openSubmissionModal",R),window.addEventListener("viewSubmissionDetails",I),()=>{window.removeEventListener("openSubmissionModal",R),window.removeEventListener("viewSubmissionDetails",I)}},[]);const M=()=>{const R=localStorage.getItem(`chat_${r}`);if(R){const de=JSON.parse(R).filter(ce=>ce.senderRole==="instructor"&&!ce.readBy.includes(l.id)).length;p(de)}const I=JSON.parse(localStorage.getItem(`viewed_homework_${r}_${l.id}`)||"[]"),re=JSON.parse(localStorage.getItem(`homework_${r}`)||"[]").filter(le=>!I.includes(le.id)).length;C(re);const Z=JSON.parse(localStorage.getItem(`viewed_resources_${r}_${l.id}`)||"[]"),ue=JSON.parse(localStorage.getItem(`resources_${r}`)||"[]").filter(le=>!Z.includes(le.id)).length;V(ue)},Y=R=>{if(i({tab:R}),R==="chat"){p(0);const I=localStorage.getItem(`chat_${r}`);if(I){const re=JSON.parse(I).map(Z=>({...Z,readBy:Z.readBy.includes(l.id)?Z.readBy:[...Z.readBy,l.id]}));localStorage.setItem(`chat_${r}`,JSON.stringify(re))}}else if(R==="homework"){C(0);const W=JSON.parse(localStorage.getItem(`homework_${r}`)||"[]").map(re=>re.id);localStorage.setItem(`viewed_homework_${r}_${l.id}`,JSON.stringify(W))}else if(R==="resources"){V(0);const W=JSON.parse(localStorage.getItem(`resources_${r}`)||"[]").map(re=>re.id);localStorage.setItem(`viewed_resources_${r}_${l.id}`,JSON.stringify(W))}},U=R=>{const I=JSON.parse(localStorage.getItem(`submissions_${r}_${l.id}`)||"{}");I[R.homeworkId]=R,localStorage.setItem(`submissions_${r}_${l.id}`,JSON.stringify(I)),P(!1),w(null),M()};return m?e.jsxDEV("div",{className:"student-course-view",children:e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:"Loading course..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:165,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:164,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:163,columnNumber:7},this):f||!t?e.jsxDEV("div",{className:"student-course-view",children:e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"3rem"},children:[e.jsxDEV("p",{children:f||"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:175,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>s("/my-courses"),className:"btn-primary",style:{marginTop:"1rem"},children:"‚Üê Back to My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:176,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:174,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:173,columnNumber:7},this):e.jsxDEV("div",{className:"student-course-view",children:[e.jsxDEV("div",{className:"student-course-header",children:[e.jsxDEV("button",{onClick:()=>s("/my-courses"),className:"back-button",children:"‚Üê Back to My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:187,columnNumber:9},this),e.jsxDEV("h1",{children:t.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:190,columnNumber:9},this),e.jsxDEV("p",{className:"course-instructor",children:["with ",t.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:191,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:186,columnNumber:7},this),e.jsxDEV("div",{className:"course-tabs",children:[e.jsxDEV("button",{className:`tab-button ${c==="sessions"?"active":""}`,onClick:()=>Y("sessions"),children:"üìÖ Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:195,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${c==="homework"?"active":""}`,onClick:()=>Y("homework"),children:["üìù Homework",b>0&&e.jsxDEV("span",{className:"notification-badge",children:b},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:206,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:201,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${c==="resources"?"active":""}`,onClick:()=>Y("resources"),children:["üìö Resources",S>0&&e.jsxDEV("span",{className:"notification-badge",children:S},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:213,columnNumber:32},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:208,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${c==="chat"?"active":""}`,onClick:()=>Y("chat"),children:["üí¨ Chat",h>0&&e.jsxDEV("span",{className:"notification-badge",children:h},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:220,columnNumber:34},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:215,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:194,columnNumber:7},this),e.jsxDEV("div",{className:"tab-content",children:[c==="sessions"&&e.jsxDEV("div",{className:"tab-panel",children:[e.jsxDEV("h2",{children:"Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:227,columnNumber:13},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:229,columnNumber:15},this),e.jsxDEV("p",{children:"Your upcoming class sessions will appear here. Check back soon!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:230,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:228,columnNumber:13},this),e.jsxDEV("p",{className:"empty-state",children:"Session schedule coming soon"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:232,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:226,columnNumber:11},this),c==="homework"&&e.jsxDEV("div",{className:"tab-panel",children:e.jsxDEV(hi,{courseId:r,userId:l.id},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:238,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:237,columnNumber:11},this),c==="resources"&&e.jsxDEV("div",{className:"tab-panel",children:e.jsxDEV(fi,{courseId:r,userId:l.id},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:244,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:243,columnNumber:11},this),c==="chat"&&e.jsxDEV("div",{className:"tab-panel",children:e.jsxDEV(ji,{courseId:r,userId:l.id,course:t},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:250,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:249,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:224,columnNumber:7},this),T&&v&&e.jsxDEV(bi,{homework:v,onClose:()=>{P(!1),w(null)},onSubmit:U},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:257,columnNumber:9},this),x&&v&&g&&e.jsxDEV(pi,{homework:v,submission:g,onClose:()=>{D(!1),w(null),L(null)}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:269,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:185,columnNumber:5},this)}function xi(){const{students:r,addStudent:s,updateStudent:a,deleteStudent:i,activeStudent:l,switchStudent:o,refreshStudents:t}=se(),[n,m]=j.useState(!1),[d,f]=j.useState(null),[N,c]=j.useState({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""}),h=v=>v?v.charAt(0).toUpperCase()+v.slice(1).toLowerCase():"";j.useEffect(()=>{t()},[t]);const p=[{value:"autism",label:"Autism Spectrum"},{value:"adhd",label:"ADHD"},{value:"dyslexia",label:"Dyslexia"},{value:"multiple",label:"Multiple Conditions"},{value:"other",label:"Other"}],b=v=>{c({...N,[v.target.name]:v.target.value})},C=v=>{const w=N.neurodiversityProfile;w.includes(v)?c({...N,neurodiversityProfile:w.filter(x=>x!==v)}):c({...N,neurodiversityProfile:[...w,v]})},S=()=>{c({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""}),f(null),m(!0)},V=v=>{c({firstName:v.first_name,age:v.age,neurodiversityProfile:v.neurodiversity_profile||[],otherNeeds:v.other_needs||""}),f(v),m(!0)},T=v=>{if(v.preventDefault(),d){const w={first_name:N.firstName,age:parseInt(N.age),neurodiversity_profile:N.neurodiversityProfile,other_needs:N.otherNeeds};a(d.id,w)}else s(N);m(!1),c({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""})},P=v=>{if(r.length===1){alert("You must have at least one student profile");return}window.confirm("Are you sure you want to delete this student profile? This will remove all their enrollments.")&&i(v)};return e.jsxDEV("div",{className:"manage-students",children:[e.jsxDEV("div",{className:"students-header",children:[e.jsxDEV("h1",{children:"Manage Student Profiles"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:118,columnNumber:9},this),e.jsxDEV("button",{onClick:S,className:"btn-primary",children:"+ Add Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:117,columnNumber:7},this),e.jsxDEV("div",{className:"students-grid",children:r.map(v=>{var w,x;return e.jsxDEV("div",{className:`student-card ${(l==null?void 0:l.id)===v.id?"active":""}`,children:[e.jsxDEV("div",{className:"student-info",children:[e.jsxDEV("div",{className:"student-avatar",children:((w=v.first_name)==null?void 0:w.charAt(0).toUpperCase())||"?"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:131,columnNumber:15},this),e.jsxDEV("div",{className:"student-details",children:[e.jsxDEV("h3",{children:h(v.first_name)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:135,columnNumber:17},this),e.jsxDEV("p",{className:"student-age",children:["Age: ",v.age]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:136,columnNumber:17},this),v.neurodiversity_profile&&v.neurodiversity_profile.length>0&&e.jsxDEV("div",{className:"student-profile",children:v.neurodiversity_profile.map(D=>{var g;return e.jsxDEV("span",{className:"profile-badge",children:((g=p.find(L=>L.value===D))==null?void 0:g.label)||D},D,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:140,columnNumber:23},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:138,columnNumber:19},this),e.jsxDEV("p",{className:"student-courses",children:[((x=v.enrolledCourses)==null?void 0:x.length)||0," courses enrolled"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:146,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:130,columnNumber:13},this),e.jsxDEV("div",{className:"student-actions",children:[(l==null?void 0:l.id)!==v.id&&e.jsxDEV("button",{onClick:()=>o(v.id),className:"btn-secondary btn-sm",children:"Switch To"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:154,columnNumber:17},this),(l==null?void 0:l.id)===v.id&&e.jsxDEV("span",{className:"active-badge",children:"Active"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:162,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>V(v),className:"btn-secondary btn-sm",children:"Edit"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:164,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>P(v.id),className:"btn-secondary btn-sm btn-danger",children:"Delete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:152,columnNumber:13},this)]},v.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:126,columnNumber:11},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:124,columnNumber:7},this),n&&e.jsxDEV("div",{className:"modal-overlay",onClick:()=>m(!1),children:e.jsxDEV("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[e.jsxDEV("h2",{children:d?"Edit Student":"Add New Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:184,columnNumber:13},this),e.jsxDEV("form",{onSubmit:T,children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"firstName",children:"First Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:187,columnNumber:17},this),e.jsxDEV("input",{id:"firstName",name:"firstName",type:"text",value:N.firstName,onChange:b,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:188,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:186,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"age",children:"Age"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:199,columnNumber:17},this),e.jsxDEV("input",{id:"age",name:"age",type:"number",value:N.age,onChange:b,required:!0,min:"3",max:"18"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:200,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:198,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Learning Profile (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:213,columnNumber:17},this),e.jsxDEV("div",{className:"checkbox-group",children:p.map(v=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:N.neurodiversityProfile.includes(v.value),onChange:()=>C(v.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:217,columnNumber:23},this),e.jsxDEV("span",{children:v.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:222,columnNumber:23},this)]},v.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:216,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:214,columnNumber:17},this),N.neurodiversityProfile.includes("other")&&e.jsxDEV("div",{className:"nested-field",children:e.jsxDEV("input",{type:"text",name:"otherNeeds",placeholder:"Please describe specific needs...",value:N.otherNeeds,onChange:b},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:229,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:228,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:212,columnNumber:15},this),e.jsxDEV("div",{className:"modal-actions",children:[e.jsxDEV("button",{type:"button",onClick:()=>m(!1),className:"btn-secondary",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:241,columnNumber:17},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",children:d?"Update Student":"Add Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:244,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:240,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:185,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:183,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:116,columnNumber:5},this)}const yi={autism:"Autism Spectrum",adhd:"ADHD",dyslexia:"Dyslexia",dysgraphia:"Dysgraphia",dyscalculia:"Dyscalculia",other:"Other"},os={autism:"#4A90E2",adhd:"#F5A623",dyslexia:"#7ED321",dysgraphia:"#9013FE",dyscalculia:"#FF6B6B",other:"#6C757D"};function vi({profile:r,size:s="medium",showLabel:a=!0}){return!r||!r.length?null:e.jsxDEV("div",{className:`neurodiversity-badges ${s}`,children:[a&&e.jsxDEV("span",{className:"badges-label",children:"Neurodiversity Profile:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:34,columnNumber:21},this),e.jsxDEV("div",{className:"badges-list",children:r.map((i,l)=>e.jsxDEV("span",{className:"neurodiversity-badge",style:{backgroundColor:os[i]||os.other,color:"white"},children:yi[i]||i},l,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:37,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:35,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:33,columnNumber:5},this)}function Ci(){const{user:r,profile:s}=se(),[a,i]=j.useState([]),[l,o]=j.useState(!0),[t,n]=j.useState(""),m=156,d=87,f=3;j.useEffect(()=>{r&&N()},[r]);const N=async()=>{try{const c=await K(G.courses.getInstructorCourses,r.id);i(c||[])}catch(c){console.error("Error fetching courses:",c),n("Failed to load courses")}finally{o(!1)}};return e.jsxDEV("div",{className:"instructor-dashboard",children:[e.jsxDEV("div",{className:"dashboard-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{children:"Instructor Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:41,columnNumber:11},this),e.jsxDEV("div",{className:"instructor-profile-summary",children:[e.jsxDEV("p",{children:["Welcome back, ",(s==null?void 0:s.first_name)||"Instructor","!"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:43,columnNumber:13},this),(s==null?void 0:s.neurodiversity_profile)&&s.neurodiversity_profile.length>0&&e.jsxDEV(vi,{profile:s.neurodiversity_profile,size:"small",showLabel:!1},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:45,columnNumber:15},this),(!(s!=null&&s.bio)||!(s!=null&&s.neurodiversity_profile)||s.neurodiversity_profile.length===0)&&e.jsxDEV("div",{className:"profile-incomplete-notice",children:[e.jsxDEV("span",{children:"üìù Complete your instructor profile to help parents find you"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:53,columnNumber:17},this),e.jsxDEV(q,{to:"/onboarding",className:"btn-link",children:"Complete Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:54,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:52,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:42,columnNumber:11},this),e.jsxDEV("div",{className:"notification-alert",children:["üîî You have ",f," pending enrollment request","s"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:59,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:40,columnNumber:9},this),e.jsxDEV(q,{to:"/instructor/create-course",className:"btn-primary",children:"Create New Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:39,columnNumber:7},this),e.jsxDEV("div",{className:"stats-grid",children:[e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:a.length},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:71,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Total Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:70,columnNumber:9},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:m},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:75,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Total Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:76,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:74,columnNumber:9},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:d},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:79,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Sessions Completed"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:80,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:78,columnNumber:9},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:"4.8"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:83,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Average Rating"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:84,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:82,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:69,columnNumber:7},this),e.jsxDEV("div",{className:"dashboard-section",children:[e.jsxDEV("h2",{children:"My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:89,columnNumber:9},this),l?e.jsxDEV("div",{children:"Loading courses..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:91,columnNumber:11},this):t?e.jsxDEV("div",{className:"error-message",children:t},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:93,columnNumber:11},this):a.length===0?e.jsxDEV("div",{className:"empty-state",children:[e.jsxDEV("p",{children:"You haven't created any courses yet."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:96,columnNumber:13},this),e.jsxDEV(q,{to:"/instructor/create-course",className:"btn-primary",children:"Create Your First Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:97,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:95,columnNumber:11},this):e.jsxDEV("div",{className:"instructor-courses-list",children:a.map(c=>{var h,p,b;return e.jsxDEV("div",{className:"instructor-course-card",children:[e.jsxDEV("div",{className:"course-details",children:[e.jsxDEV("h3",{children:c.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:106,columnNumber:19},this),e.jsxDEV("div",{className:"course-stats",children:[e.jsxDEV("span",{children:[((h=c.enrollments)==null?void 0:h.length)||0,c.enrollment_limit?` / ${c.enrollment_limit}`:""," students",c.enrollment_limit&&(((p=c.enrollments)==null?void 0:p.length)||0)>=c.enrollment_limit&&e.jsxDEV("span",{className:"full-indicator",children:" (FULL)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:112,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:108,columnNumber:21},this),e.jsxDEV("span",{children:["Status: ",c.status]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:115,columnNumber:21},this),e.jsxDEV("span",{children:[((b=c.sessions)==null?void 0:b.length)||0," sessions"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:116,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:107,columnNumber:19},this),e.jsxDEV("p",{className:"course-description",children:c.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:118,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:105,columnNumber:17},this),e.jsxDEV("div",{className:"course-actions",children:[e.jsxDEV(q,{to:`/courses/${c.id}`,className:"btn-secondary",children:"View"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:121,columnNumber:19},this),e.jsxDEV(q,{to:`/instructor/course/${c.id}/manage`,className:"btn-primary",children:"Manage Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:124,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:120,columnNumber:17},this)]},c.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:104,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:88,columnNumber:7},this),e.jsxDEV("div",{className:"dashboard-section",children:[e.jsxDEV("h2",{children:"Pending Enrollment Requests"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:135,columnNumber:9},this),e.jsxDEV("div",{className:"requests-list",children:[e.jsxDEV("div",{className:"request-item",children:[e.jsxDEV("div",{className:"request-info",children:[e.jsxDEV("div",{className:"request-student",children:"Emma Thompson"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:139,columnNumber:15},this),e.jsxDEV("div",{className:"request-course",children:"Positive Parenting Fundamentals"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:140,columnNumber:15},this),e.jsxDEV("div",{className:"request-profile",children:e.jsxDEV("span",{className:"profile-badge",children:"Autism"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:142,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:141,columnNumber:15},this),e.jsxDEV("div",{className:"request-time",children:"2 hours ago"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:144,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:138,columnNumber:13},this),e.jsxDEV("div",{className:"request-actions",children:[e.jsxDEV("button",{className:"btn-primary",children:"Approve"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:147,columnNumber:15},this),e.jsxDEV("button",{className:"btn-secondary",children:"Decline"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:146,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:137,columnNumber:11},this),e.jsxDEV("div",{className:"request-item",children:[e.jsxDEV("div",{className:"request-info",children:[e.jsxDEV("div",{className:"request-student",children:"Liam Chen"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:153,columnNumber:15},this),e.jsxDEV("div",{className:"request-course",children:"Positive Parenting Fundamentals"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:154,columnNumber:15},this),e.jsxDEV("div",{className:"request-profile",children:[e.jsxDEV("span",{className:"profile-badge",children:"ADHD"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:156,columnNumber:17},this),e.jsxDEV("span",{className:"profile-badge",children:"Dyslexia"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:157,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:155,columnNumber:15},this),e.jsxDEV("div",{className:"request-time",children:"5 hours ago"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:159,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:152,columnNumber:13},this),e.jsxDEV("div",{className:"request-actions",children:[e.jsxDEV("button",{className:"btn-primary",children:"Approve"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:162,columnNumber:15},this),e.jsxDEV("button",{className:"btn-secondary",children:"Decline"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:161,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:136,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:134,columnNumber:7},this),e.jsxDEV("div",{className:"dashboard-section",children:[e.jsxDEV("h2",{children:"Recent Activity"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:170,columnNumber:9},this),e.jsxDEV("div",{className:"activity-list",children:[e.jsxDEV(q,{to:"/instructor/course/1/manage?tab=homework",className:"activity-item",children:[e.jsxDEV("div",{className:"activity-icon",children:"üìù"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:173,columnNumber:13},this),e.jsxDEV("div",{className:"activity-content",children:[e.jsxDEV("div",{className:"activity-title",children:"New homework submission"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:175,columnNumber:15},this),e.jsxDEV("div",{className:"activity-subtitle",children:"Positive Parenting Fundamentals"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:176,columnNumber:15},this),e.jsxDEV("div",{className:"activity-time",children:"2 hours ago"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:177,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:172,columnNumber:11},this),e.jsxDEV(q,{to:"/instructor/course/1/manage?tab=students",className:"activity-item",children:[e.jsxDEV("div",{className:"activity-icon",children:"üë§"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:181,columnNumber:13},this),e.jsxDEV("div",{className:"activity-content",children:[e.jsxDEV("div",{className:"activity-title",children:"3 new students enrolled"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:183,columnNumber:15},this),e.jsxDEV("div",{className:"activity-subtitle",children:"Positive Parenting Fundamentals"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:184,columnNumber:15},this),e.jsxDEV("div",{className:"activity-time",children:"1 day ago"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:185,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:180,columnNumber:11},this),e.jsxDEV("div",{className:"activity-item",children:[e.jsxDEV("div",{className:"activity-icon",children:"‚≠ê"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:189,columnNumber:13},this),e.jsxDEV("div",{className:"activity-content",children:[e.jsxDEV("div",{className:"activity-title",children:"New 5-star review received"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:191,columnNumber:15},this),e.jsxDEV("div",{className:"activity-subtitle",children:"Piano for Beginners"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:192,columnNumber:15},this),e.jsxDEV("div",{className:"activity-time",children:"5 hours ago"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:193,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:190,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:188,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:171,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:169,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:38,columnNumber:5},this)}function Si(){const r=ne(),{user:s}=se(),[a,i]=j.useState(!1),[l,o]=j.useState(""),[t,n]=j.useState({title:"",description:"",category:"parenting",courseType:"group",price:"",sessionDuration:"",sessionTime:"",enrollmentLimit:"",startDate:"",repeatEvery:1,repeatUnit:"week",selectedDays:[],endDate:"",hasEndDate:!1}),m=N=>{const c=N.target.type==="checkbox"?N.target.checked:N.target.value;n({...t,[N.target.name]:c})},d=N=>{const c=t.selectedDays;c.includes(N)?n({...t,selectedDays:c.filter(h=>h!==N)}):n({...t,selectedDays:[...c,N]})},f=async N=>{if(N.preventDefault(),!s){o("You must be logged in to create a course");return}i(!0),o("");try{const c={title:t.title,description:t.description,category:t.category,courseType:t.courseType,sessionDuration:t.sessionDuration,enrollmentLimit:t.enrollmentLimit,startDate:t.startDate,sessionTime:t.sessionTime,selectedDays:t.selectedDays,hasEndDate:t.hasEndDate,endDate:t.endDate},h=await K(G.courses.create,c,s);console.log("Course created successfully:",h.course),alert(h.message),r("/instructor/dashboard")}catch(c){console.error("Error creating course:",c),o(c.message||"Failed to create course. Please try again.")}finally{i(!1)}};return e.jsxDEV("div",{className:"create-course",style:{padding:"1.5rem",maxWidth:"1200px",margin:"0 auto"},children:[e.jsxDEV("h1",{style:{marginBottom:"1rem",fontSize:"1.75rem"},children:"Create New Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:101,columnNumber:7},this),l&&e.jsxDEV("div",{className:"error-message",style:{background:"#fee2e2",border:"1px solid #fecaca",color:"#dc2626",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem"},children:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:104,columnNumber:9},this),e.jsxDEV("form",{onSubmit:f,className:"auth-form",style:{maxWidth:"100%"},children:[e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{htmlFor:"title",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Course Title *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:123,columnNumber:15},this),e.jsxDEV("input",{id:"title",name:"title",type:"text",value:t.title,onChange:m,required:!0,placeholder:"e.g., Introduction to Positive Parenting",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:124,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:122,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{htmlFor:"description",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Description *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:137,columnNumber:15},this),e.jsxDEV("textarea",{id:"description",name:"description",value:t.description,onChange:m,required:!0,rows:"3",placeholder:"Describe what students will learn...",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:138,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:136,columnNumber:13},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"category",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Category *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:152,columnNumber:17},this),e.jsxDEV("select",{id:"category",name:"category",value:t.category,onChange:m,required:!0,style:{padding:"0.5rem"},children:[e.jsxDEV("option",{value:"parenting",children:"Parenting üë®‚Äçüë©‚Äçüëß‚Äçüë¶"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:161,columnNumber:19},this),e.jsxDEV("option",{value:"music",children:"Music üéµ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:162,columnNumber:19},this),e.jsxDEV("option",{value:"dance",children:"Dance üíÉ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:163,columnNumber:19},this),e.jsxDEV("option",{value:"drama",children:"Drama üé≠"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:164,columnNumber:19},this),e.jsxDEV("option",{value:"art",children:"Art üé®"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:165,columnNumber:19},this),e.jsxDEV("option",{value:"language",children:"Language üåç"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:166,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:153,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:151,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"courseType",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Course Type *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:171,columnNumber:17},this),e.jsxDEV("select",{id:"courseType",name:"courseType",value:t.courseType,onChange:m,required:!0,style:{padding:"0.5rem"},children:[e.jsxDEV("option",{value:"group",children:"Group Class üë•"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:180,columnNumber:19},this),e.jsxDEV("option",{value:"one-on-one",children:"One-on-One üë§"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:181,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:172,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:150,columnNumber:13},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"price",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Price ($)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:188,columnNumber:17},this),e.jsxDEV("input",{id:"price",name:"price",type:"number",value:"0.00",disabled:!0,style:{backgroundColor:"#f3f4f6",cursor:"not-allowed",color:"#6b7280",padding:"0.5rem"},placeholder:"0.00"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:189,columnNumber:17},this),e.jsxDEV("p",{style:{fontSize:"0.75rem",color:"#10b981",margin:"0.25rem 0 0 0"},children:"‚ú® Free for all"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:203,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:187,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"enrollmentLimit",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Max Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:209,columnNumber:17},this),e.jsxDEV("input",{id:"enrollmentLimit",name:"enrollmentLimit",type:"number",value:t.enrollmentLimit,onChange:m,min:"1",placeholder:"Unlimited",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:212,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:208,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:186,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:121,columnNumber:11},this),e.jsxDEV("div",{children:[t.courseType==="one-on-one"&&e.jsxDEV("div",{style:{background:"#dbeafe",borderLeft:"4px solid #3b82f6",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:e.jsxDEV("p",{style:{margin:0,color:"#1e40af"},children:"‚ÑπÔ∏è Schedule individual sessions with each student after enrollment."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:237,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:229,columnNumber:15},this),t.courseType==="group"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("h3",{style:{fontSize:"1.1rem",marginBottom:"0.75rem",color:"#374151"},children:"Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:245,columnNumber:17},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"sessionDuration",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Duration (min) *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:249,columnNumber:21},this),e.jsxDEV("input",{id:"sessionDuration",name:"sessionDuration",type:"number",value:t.sessionDuration,onChange:m,required:!0,min:"15",step:"15",placeholder:"60",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:250,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:248,columnNumber:19},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"sessionTime",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Time *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:265,columnNumber:21},this),e.jsxDEV("input",{id:"sessionTime",name:"sessionTime",type:"time",value:t.sessionTime,onChange:m,required:!0,style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:266,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:264,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:247,columnNumber:17},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"startDate",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Start Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:280,columnNumber:21},this),e.jsxDEV("input",{id:"startDate",name:"startDate",type:"date",value:t.startDate,onChange:m,required:!0,style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:281,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:279,columnNumber:19},this),t.hasEndDate&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"endDate",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"End Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:294,columnNumber:23},this),e.jsxDEV("input",{id:"endDate",name:"endDate",type:"date",value:t.endDate,onChange:m,min:t.startDate,required:t.hasEndDate,style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:295,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:293,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:278,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Repeat Every *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:310,columnNumber:19},this),e.jsxDEV("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxDEV("input",{type:"number",name:"repeatEvery",value:t.repeatEvery,onChange:m,min:"1",max:"52",required:!0,style:{width:"80px",padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:312,columnNumber:21},this),e.jsxDEV("select",{name:"repeatUnit",value:t.repeatUnit,onChange:m,required:!0,style:{flex:1,padding:"0.5rem"},children:[e.jsxDEV("option",{value:"day",children:"Day(s)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:329,columnNumber:23},this),e.jsxDEV("option",{value:"week",children:"Week(s)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:330,columnNumber:23},this),e.jsxDEV("option",{value:"month",children:"Month(s)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:331,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:322,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:311,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:309,columnNumber:17},this),t.repeatUnit==="week"&&e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{style:{fontSize:"0.9rem",marginBottom:"0.5rem"},children:"On These Days *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:338,columnNumber:21},this),e.jsxDEV("div",{className:"days-selector",children:[{short:"M",full:"Monday"},{short:"T",full:"Tuesday"},{short:"W",full:"Wednesday"},{short:"T",full:"Thursday"},{short:"F",full:"Friday"},{short:"S",full:"Saturday"},{short:"S",full:"Sunday"}].map((N,c)=>e.jsxDEV("button",{type:"button",className:`day-button ${t.selectedDays.includes(N.full)?"active":""}`,onClick:()=>d(N.full),style:{padding:"0.5rem 0.75rem",fontSize:"0.9rem"},children:N.short},c,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:349,columnNumber:25},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:339,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:337,columnNumber:19},this),e.jsxDEV("div",{className:"form-group",children:e.jsxDEV("label",{style:{display:"flex",alignItems:"center",fontSize:"0.9rem"},children:[e.jsxDEV("input",{type:"checkbox",name:"hasEndDate",checked:t.hasEndDate,onChange:m,style:{marginRight:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:365,columnNumber:21},this),"Set an end date"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:364,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:363,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:244,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:227,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:118,columnNumber:9},this),e.jsxDEV("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:[e.jsxDEV("button",{type:"button",onClick:()=>r(-1),className:"btn-secondary",style:{minWidth:"120px"},children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:382,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",disabled:a,style:{minWidth:"120px"},children:a?"Creating...":"Create Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:385,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:381,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:116,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:100,columnNumber:5},this)}function gs(){var Se;const{courseId:r}=Te(),s=ne(),a=ci.find(k=>k.id===r);if(!a)return e.jsxDEV("div",{children:"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:11,columnNumber:23},this);const i=a.courseType==="group",l=[{id:"1",name:"Emma Thompson",neurodiversity:["Autism"]},{id:"2",name:"Liam Chen",neurodiversity:["ADHD","Dyslexia"]},{id:"3",name:"Sophia Rodriguez",neurodiversity:["Other"]}],o=i?8:l.length,t=a.enrollmentLimit||10,[n,m]=j.useState("https://zoom.us/j/123456789"),[d,f]=j.useState(!1),[N,c]=j.useState(n),[h,p]=j.useState(i?[{id:1,date:"2024-01-15",time:"10:00 AM",topic:"Introduction to scales and basic techniques",topicSet:!0,attendees:8},{id:2,date:"2024-01-17",time:"10:00 AM",topic:"",topicSet:!1,meetingLink:"",attendees:8},{id:3,date:"2024-01-22",time:"10:00 AM",topic:"",topicSet:!1,meetingLink:"",attendees:8},{id:4,date:"2024-01-24",time:"10:00 AM",topic:"",topicSet:!1,meetingLink:"",attendees:8}]:[{id:1,studentId:"1",studentName:"Emma Thompson",date:"2024-01-15",time:"10:00 AM",topic:"Review scales and introduce new piece",topicSet:!0,meetingLink:"https://zoom.us/j/123456789"},{id:2,studentId:"1",studentName:"Emma Thompson",date:"2024-01-17",time:"10:00 AM",topic:"",topicSet:!1,meetingLink:""},{id:3,studentId:"2",studentName:"Liam Chen",date:"2024-01-15",time:"11:00 AM",topic:"Continue with chord progressions",topicSet:!0,meetingLink:"https://meet.google.com/abc-defg-hij"},{id:4,studentId:"2",studentName:"Liam Chen",date:"2024-01-17",time:"11:00 AM",topic:"",topicSet:!1,meetingLink:""}]),[b,C]=j.useState(null),[S,V]=j.useState(""),[T,P]=j.useState(!1),[v,w]=j.useState({studentId:"",date:"",time:"",topic:"",meetingLink:n}),[x,D]=j.useState(!1),[g,L]=j.useState({studentId:"",selectedDays:[],time:"",duration:60,startDate:"",endDate:"",frequency:"weekly"}),[M,Y]=j.useState({}),U=i?null:l.map(k=>({student:k,sessions:h.filter(H=>H.studentId===k.id)})),R=k=>{C(k.id),V(k.topic)},I=()=>{m(N),f(!1)},W=()=>{c(n),f(!1)},re=k=>{p(h.map(H=>H.id===k?{...H,topic:S,topicSet:S.trim()!==""}:H)),C(null),V("")},Z=()=>{C(null),V("")},Ee=()=>{var H;if(!v.date||!v.time){alert("Please fill in date and time");return}if(!i&&!v.studentId){alert("Please select a student");return}const k={id:h.length+1,date:v.date,time:v.time,topic:v.topic,topicSet:v.topic.trim()!=="",meetingLink:v.meetingLink||n,...i?{attendees:o}:{studentId:v.studentId,studentName:(H=l.find(B=>B.id===v.studentId))==null?void 0:H.name}};p([...h,k].sort((B,ee)=>new Date(B.date+" "+B.time)-new Date(ee.date+" "+ee.time))),P(!1),w({studentId:"",date:"",time:"",topic:"",meetingLink:n})},ue=()=>{P(!1),w({studentId:"",date:"",time:"",topic:"",meetingLink:n})},le=(k=null)=>{const H=k?M[k]:M.group;L(H||{studentId:k||"",selectedDays:[],time:"",duration:60,startDate:new Date().toISOString().split("T")[0],endDate:"",frequency:"weekly"}),D(!0)},de=k=>{L(H=>({...H,selectedDays:H.selectedDays.includes(k)?H.selectedDays.filter(B=>B!==k):[...H.selectedDays,k]}))},ce=()=>{var ye;if(!g.selectedDays.length||!g.time||!g.startDate){alert("Please fill in all required fields");return}if(!i&&!g.studentId){alert("Please select a student");return}const k=[],H=new Date(g.startDate),B=g.endDate?new Date(g.endDate):new Date(H.getTime()+90*24*60*60*1e3);let ee=new Date(H),Ne=h.length+1;for(;ee<=B;){const ge=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][ee.getDay()];if(g.selectedDays.includes(ge)){const he={id:Ne++,date:ee.toISOString().split("T")[0],time:g.time,topic:"",topicSet:!1,meetingLink:n,recurring:!0,...i?{attendees:o}:{studentId:g.studentId,studentName:(ye=l.find(fe=>fe.id===g.studentId))==null?void 0:ye.name}};k.push(he)}ee.setDate(ee.getDate()+1)}p([...h,...k].sort((ge,he)=>new Date(ge.date+" "+ge.time)-new Date(he.date+" "+he.time)));const Ue=i?"group":g.studentId;Y({...M,[Ue]:g}),D(!1)},xe=()=>{D(!1)};return e.jsxDEV("div",{className:"manage-sessions",children:[e.jsxDEV("div",{className:"sessions-header",children:e.jsxDEV("div",{children:[e.jsxDEV("button",{onClick:()=>s(-1),className:"back-button",children:"‚Üê Back"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:321,columnNumber:11},this),e.jsxDEV("h1",{children:"Manage Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:324,columnNumber:11},this),e.jsxDEV("p",{className:"course-title",children:a.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:325,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:320,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:319,columnNumber:7},this),e.jsxDEV("div",{className:"sessions-info-banner",children:e.jsxDEV("p",{children:["üí° ",i?"Set session topics for your group classes. All enrolled students will see the same schedule.":"Set session topics based on each student's progress and learning needs. Topics help students prepare for upcoming classes."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:330,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:329,columnNumber:7},this),e.jsxDEV("div",{className:"course-meeting-link-section",children:[e.jsxDEV("h3",{children:"üìπ Course Meeting Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:337,columnNumber:9},this),e.jsxDEV("p",{className:"meeting-link-description",children:"Set one meeting link for all sessions in this course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:338,columnNumber:9},this),d?e.jsxDEV("div",{className:"meeting-link-edit",children:[e.jsxDEV("input",{type:"url",value:N,onChange:k=>c(k.target.value),placeholder:"https://zoom.us/j/... or https://meet.google.com/...",className:"meeting-link-input",autoFocus:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:341,columnNumber:13},this),e.jsxDEV("div",{className:"meeting-link-actions",children:[e.jsxDEV("button",{onClick:I,className:"btn-primary btn-sm",children:"Save Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:350,columnNumber:15},this),e.jsxDEV("button",{onClick:W,className:"btn-secondary btn-sm",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:353,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:349,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:340,columnNumber:11},this):e.jsxDEV("div",{className:"meeting-link-display-section",children:[e.jsxDEV("div",{className:"meeting-link-value",children:["üîó ",n||"No meeting link set"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:360,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>f(!0),className:"btn-secondary btn-sm",children:n?"Edit Link":"Set Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:363,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:359,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:336,columnNumber:7},this),i?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"course-stats",children:[e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:374,columnNumber:15},this),e.jsxDEV("div",{className:"stat-label",children:"Enrolled Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:375,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:373,columnNumber:13},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:t-o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:378,columnNumber:15},this),e.jsxDEV("div",{className:"stat-label",children:"Spots Remaining"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:379,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:377,columnNumber:13},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:h.length},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:382,columnNumber:15},this),e.jsxDEV("div",{className:"stat-label",children:"Upcoming Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:383,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:381,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:372,columnNumber:11},this),e.jsxDEV("div",{className:"sessions-container",children:[e.jsxDEV("div",{className:"sessions-header-row",children:[e.jsxDEV("h2",{children:"Group Sessions Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:389,columnNumber:15},this),e.jsxDEV("div",{className:"header-actions",children:[e.jsxDEV("button",{onClick:()=>le(),className:"btn-secondary",children:M.group?"‚öôÔ∏è Edit Schedule":"üìÖ Set up Recurring Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:391,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>P(!0),className:"btn-primary",children:"+ Create Single Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:394,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:390,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:388,columnNumber:13},this),e.jsxDEV("div",{className:"sessions-list",children:h.map(k=>e.jsxDEV("div",{className:"session-item",children:[e.jsxDEV("div",{className:"session-date-time",children:[e.jsxDEV("div",{className:"session-date",children:new Date(k.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:403,columnNumber:17},this),e.jsxDEV("div",{className:"session-time",children:k.time},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:410,columnNumber:17},this),e.jsxDEV("div",{className:"session-attendees",children:["üë• ",k.attendees," students"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:411,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:402,columnNumber:15},this),e.jsxDEV("div",{className:"session-topic-area",children:b===k.id?e.jsxDEV("div",{className:"topic-edit",children:[e.jsxDEV("div",{className:"edit-fields",children:[e.jsxDEV("input",{type:"text",value:S,onChange:H=>V(H.target.value),placeholder:"Enter session topic...",className:"topic-input",autoFocus:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:418,columnNumber:23},this),e.jsxDEV("input",{type:"url",value:N,onChange:H=>c(H.target.value),placeholder:"Meeting link (Zoom, Google Meet, etc.)",className:"topic-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:426,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:417,columnNumber:21},this),e.jsxDEV("div",{className:"topic-actions",children:[e.jsxDEV("button",{onClick:()=>re(k.id),className:"btn-primary btn-sm",children:"Save"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:435,columnNumber:23},this),e.jsxDEV("button",{onClick:Z,className:"btn-secondary btn-sm",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:441,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:434,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:416,columnNumber:19},this):e.jsxDEV("div",{className:"topic-display",children:[e.jsxDEV("div",{className:"topic-info",children:k.topicSet?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text",children:k.topic},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:454,columnNumber:27},this),k.meetingLink&&e.jsxDEV("div",{className:"meeting-link-display",children:["üîó ",k.meetingLink]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:456,columnNumber:29},this),e.jsxDEV("span",{className:"topic-status set",children:"‚úì Ready"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:460,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:453,columnNumber:25},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text empty",children:"No topic set yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:464,columnNumber:27},this),e.jsxDEV("span",{className:"topic-status pending",children:"‚ö† Pending"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:465,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:463,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:451,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>R(k),className:"btn-secondary btn-sm",children:k.topicSet?"Edit":"Set Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:469,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:450,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:414,columnNumber:15},this)]},k.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:401,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:399,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:387,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:371,columnNumber:9},this):e.jsxDEV("div",{className:"students-sessions",children:[e.jsxDEV("div",{className:"create-session-section",children:e.jsxDEV("button",{onClick:()=>P(!0),className:"btn-primary",children:"+ Create Single Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:486,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:485,columnNumber:11},this),U.map(({student:k,sessions:H})=>e.jsxDEV("div",{className:"student-section",children:[e.jsxDEV("div",{className:"student-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{children:k.name},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:495,columnNumber:19},this),e.jsxDEV("div",{className:"student-profile",children:k.neurodiversity.map((B,ee)=>e.jsxDEV("span",{className:"profile-badge",children:B},ee,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:498,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:496,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:494,columnNumber:17},this),e.jsxDEV("div",{className:"student-actions",children:e.jsxDEV("button",{onClick:()=>le(k.id),className:"btn-secondary btn-sm",children:M[k.id]?"‚öôÔ∏è Edit Schedule":"üìÖ Set Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:503,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:502,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:493,columnNumber:15},this),e.jsxDEV("div",{className:"sessions-list",children:H.map(B=>e.jsxDEV("div",{className:"session-item",children:[e.jsxDEV("div",{className:"session-date-time",children:[e.jsxDEV("div",{className:"session-date",children:new Date(B.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:516,columnNumber:23},this),e.jsxDEV("div",{className:"session-time",children:B.time},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:523,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:515,columnNumber:21},this),e.jsxDEV("div",{className:"session-topic-area",children:b===B.id?e.jsxDEV("div",{className:"topic-edit",children:[e.jsxDEV("div",{className:"edit-fields",children:[e.jsxDEV("input",{type:"text",value:S,onChange:ee=>V(ee.target.value),placeholder:"Enter session topic...",className:"topic-input",autoFocus:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:530,columnNumber:29},this),e.jsxDEV("input",{type:"url",value:N,onChange:ee=>c(ee.target.value),placeholder:"Meeting link (Zoom, Google Meet, etc.)",className:"topic-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:538,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:529,columnNumber:27},this),e.jsxDEV("div",{className:"topic-actions",children:[e.jsxDEV("button",{onClick:()=>re(B.id),className:"btn-primary btn-sm",children:"Save"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:547,columnNumber:29},this),e.jsxDEV("button",{onClick:Z,className:"btn-secondary btn-sm",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:553,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:546,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:528,columnNumber:25},this):e.jsxDEV("div",{className:"topic-display",children:[e.jsxDEV("div",{className:"topic-info",children:B.topicSet?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text",children:B.topic},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:566,columnNumber:33},this),B.meetingLink&&e.jsxDEV("div",{className:"meeting-link-display",children:["üîó ",B.meetingLink]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:568,columnNumber:35},this),e.jsxDEV("span",{className:"topic-status set",children:"‚úì Ready"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:572,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:565,columnNumber:31},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text empty",children:"No topic set yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:576,columnNumber:33},this),e.jsxDEV("span",{className:"topic-status pending",children:"‚ö† Pending"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:577,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:575,columnNumber:31},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:563,columnNumber:27},this),e.jsxDEV("button",{onClick:()=>R(B),className:"btn-secondary btn-sm",children:B.topicSet?"Edit":"Set Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:581,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:562,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:526,columnNumber:21},this)]},B.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:514,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:512,columnNumber:15},this)]},k.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:492,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:484,columnNumber:9},this),T&&e.jsxDEV("div",{className:"modal-overlay",onClick:ue,children:e.jsxDEV("div",{className:"modal-content",onClick:k=>k.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:"Create New Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:603,columnNumber:15},this),e.jsxDEV("button",{className:"close-button",onClick:ue,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:604,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:602,columnNumber:13},this),e.jsxDEV("div",{className:"modal-body",children:[!i&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"student",children:"Student *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:610,columnNumber:19},this),e.jsxDEV("select",{id:"student",value:v.studentId,onChange:k=>w({...v,studentId:k.target.value}),className:"form-input",children:[e.jsxDEV("option",{value:"",children:"Select a student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:617,columnNumber:21},this),l.map(k=>e.jsxDEV("option",{value:k.id,children:k.name},k.id,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:619,columnNumber:23},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:611,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:609,columnNumber:17},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"date",children:"Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:629,columnNumber:19},this),e.jsxDEV("input",{id:"date",type:"date",value:v.date,onChange:k=>w({...v,date:k.target.value}),className:"form-input",min:new Date().toISOString().split("T")[0]},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:630,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:628,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"time",children:"Time *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:641,columnNumber:19},this),e.jsxDEV("input",{id:"time",type:"time",value:v.time,onChange:k=>w({...v,time:k.target.value}),className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:642,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:640,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:627,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"topic",children:"Session Topic (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:653,columnNumber:17},this),e.jsxDEV("input",{id:"topic",type:"text",value:v.topic,onChange:k=>w({...v,topic:k.target.value}),placeholder:"e.g., Review scales and introduce new piece",className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:654,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:652,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"meetingLink",children:"Meeting Link (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:665,columnNumber:17},this),e.jsxDEV("input",{id:"meetingLink",type:"url",value:v.meetingLink,onChange:k=>w({...v,meetingLink:k.target.value}),placeholder:"https://zoom.us/j/... or https://meet.google.com/...",className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:666,columnNumber:17},this),e.jsxDEV("p",{className:"form-hint",children:["Leave blank to use course default: ",n]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:674,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:664,columnNumber:15},this),e.jsxDEV("div",{className:"info-banner-modal",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:678,columnNumber:17},this),e.jsxDEV("p",{children:i?"This session will be visible to all enrolled students.":"After creating the session, you can discuss details with the student via chat."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:679,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:677,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:607,columnNumber:13},this),e.jsxDEV("div",{className:"modal-footer",children:[e.jsxDEV("button",{className:"btn-secondary",onClick:ue,children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:688,columnNumber:15},this),e.jsxDEV("button",{className:"btn-primary",onClick:Ee,children:"Create Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:691,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:687,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:601,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:600,columnNumber:9},this),x&&e.jsxDEV("div",{className:"modal-overlay",onClick:xe,children:e.jsxDEV("div",{className:"modal-content modal-large",onClick:k=>k.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:M[g.studentId||"group"]?"Edit Recurring Schedule":"Set up Recurring Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:704,columnNumber:15},this),e.jsxDEV("button",{className:"close-button",onClick:xe,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:705,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:703,columnNumber:13},this),e.jsxDEV("div",{className:"modal-body",children:[!i&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"recurring-student",children:"Student *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:711,columnNumber:19},this),e.jsxDEV("select",{id:"recurring-student",value:g.studentId,onChange:k=>L({...g,studentId:k.target.value}),className:"form-input",children:[e.jsxDEV("option",{value:"",children:"Select a student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:718,columnNumber:21},this),l.map(k=>e.jsxDEV("option",{value:k.id,children:k.name},k.id,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:720,columnNumber:23},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:712,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:710,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"On These Days *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:729,columnNumber:17},this),e.jsxDEV("div",{className:"day-selector",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(k=>e.jsxDEV("button",{type:"button",className:`day-button ${g.selectedDays.includes(k)?"selected":""}`,onClick:()=>de(k),children:k.substring(0,3)},k,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:732,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:730,columnNumber:17},this),e.jsxDEV("p",{className:"form-hint",children:"Select the days of the week when sessions will occur"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:742,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:728,columnNumber:15},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"recurring-time",children:"Session Time *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:747,columnNumber:19},this),e.jsxDEV("input",{id:"recurring-time",type:"time",value:g.time,onChange:k=>L({...g,time:k.target.value}),className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:748,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:746,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"duration",children:"Duration (minutes)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:758,columnNumber:19},this),e.jsxDEV("input",{id:"duration",type:"number",value:g.duration,onChange:k=>L({...g,duration:parseInt(k.target.value)}),className:"form-input",min:"15",step:"15"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:759,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:757,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:745,columnNumber:15},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"start-date",children:"Start Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:773,columnNumber:19},this),e.jsxDEV("input",{id:"start-date",type:"date",value:g.startDate,onChange:k=>L({...g,startDate:k.target.value}),className:"form-input",min:new Date().toISOString().split("T")[0]},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:774,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:772,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"end-date",children:"End Date (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:785,columnNumber:19},this),e.jsxDEV("input",{id:"end-date",type:"date",value:g.endDate,onChange:k=>L({...g,endDate:k.target.value}),className:"form-input",min:g.startDate},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:786,columnNumber:19},this),e.jsxDEV("p",{className:"form-hint",children:"Leave blank for 3 months"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:794,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:784,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:771,columnNumber:15},this),e.jsxDEV("div",{className:"info-banner-modal",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:799,columnNumber:17},this),e.jsxDEV("p",{children:i?"This will create recurring sessions for all enrolled students on the selected days and time.":"This will create recurring sessions for the selected student. You can set different schedules for each student."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:800,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:798,columnNumber:15},this),g.selectedDays.length>0&&g.time&&g.startDate&&e.jsxDEV("div",{className:"schedule-preview",children:[e.jsxDEV("h4",{children:"Schedule Preview:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:809,columnNumber:19},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:g.selectedDays.join(", ")},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:811,columnNumber:21},this)," at ",e.jsxDEV("strong",{children:g.time},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:811,columnNumber:85},this),!i&&g.studentId&&e.jsxDEV(e.Fragment,{children:[" for ",e.jsxDEV("strong",{children:(Se=l.find(k=>k.id===g.studentId))==null?void 0:Se.name},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:813,columnNumber:30},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:813,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:810,columnNumber:19},this),e.jsxDEV("p",{className:"preview-detail",children:["Starting ",new Date(g.startDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),g.endDate&&e.jsxDEV(e.Fragment,{children:[" until ",new Date(g.endDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:819,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:816,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:808,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:708,columnNumber:13},this),e.jsxDEV("div",{className:"modal-footer",children:[e.jsxDEV("button",{className:"btn-secondary",onClick:xe,children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:827,columnNumber:15},this),e.jsxDEV("button",{className:"btn-primary",onClick:ce,children:M[g.studentId||"group"]?"Update Schedule":"Generate Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:830,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:826,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:702,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:701,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:318,columnNumber:5},this)}function ki({course:r}){const s=r.courseType==="group",a=[{id:"1",name:"Emma Thompson",neurodiversity:["Autism"],homeworkCompleted:5,homeworkTotal:6,nextSession:s?null:"Mon 10:00 AM"},{id:"2",name:"Liam Chen",neurodiversity:["ADHD","Dyslexia"],homeworkCompleted:4,homeworkTotal:6,nextSession:s?null:"Mon 11:00 AM"},{id:"3",name:"Sophia Rodriguez",neurodiversity:["Other"],homeworkCompleted:6,homeworkTotal:6,nextSession:s?null:"Tue 2:00 PM"}],i=s?8:a.length,o=(r.enrollmentLimit||10)-i;return e.jsxDEV("div",{className:"course-students",children:[s&&e.jsxDEV("div",{className:"course-stats-grid",children:[e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:i},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:45,columnNumber:13},this),e.jsxDEV("div",{className:"stat-label",children:"Enrolled Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:46,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:44,columnNumber:11},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:49,columnNumber:13},this),e.jsxDEV("div",{className:"stat-label",children:"Spots Remaining"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:50,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:48,columnNumber:11},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:[80,"%"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:53,columnNumber:13},this),e.jsxDEV("div",{className:"stat-label",children:"Avg Completion"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:54,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:52,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:43,columnNumber:9},this),e.jsxDEV("div",{className:"students-section",children:[e.jsxDEV("div",{className:"students-header",children:[e.jsxDEV("h2",{children:s?"üë• Enrolled Students":"üë§ Individual Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:61,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:["‚ÑπÔ∏è ",s?"All students attend the same group sessions together":"Each student has their own schedule and individual sessions"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:63,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:60,columnNumber:9},this),e.jsxDEV("div",{className:"students-list",children:a.map(n=>e.jsxDEV("div",{className:"student-card",children:[e.jsxDEV("div",{className:"student-info",children:[e.jsxDEV("div",{className:"student-name",children:["üë§ ",n.name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:74,columnNumber:17},this),e.jsxDEV("div",{className:"student-profile",children:n.neurodiversity.map((m,d)=>e.jsxDEV("span",{className:"profile-badge",children:["üß© ",m]},d,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:77,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:75,columnNumber:17},this),!s&&n.nextSession&&e.jsxDEV("div",{className:"student-next-session",children:["üìÖ Next session: ",n.nextSession]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:81,columnNumber:19},this),e.jsxDEV("div",{className:"student-progress",children:["‚úÖ ",n.homeworkCompleted,"/",n.homeworkTotal," homework completed"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:85,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:73,columnNumber:15},this),e.jsxDEV("div",{className:"student-actions",children:[e.jsxDEV("button",{className:"btn-secondary btn-sm",children:"View Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:90,columnNumber:17},this),e.jsxDEV(q,{to:`/instructor/course/${r.id}/manage?tab=chat`,className:"btn-secondary btn-sm",children:"Send Message"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:91,columnNumber:17},this),!s&&e.jsxDEV(q,{to:`/instructor/course/${r.id}/manage?tab=sessions`,className:"btn-secondary btn-sm",children:"View Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:98,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:89,columnNumber:15},this)]},n.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:72,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:70,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:59,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:41,columnNumber:5},this)}function Di({course:r}){const[s,a]=j.useState(!1),[i,l]=j.useState(null),[o,t]=j.useState({title:"",description:"",dueDate:"",submissionType:"text"}),[n,m]=j.useState({title:"",description:"",dueDate:""}),[d,f]=j.useState([{id:1,title:"Practice Scales",dueDate:"2024-01-20",submissionType:"file",submitted:6,total:8,pendingReviews:2},{id:2,title:"Music Theory Quiz",dueDate:"2024-01-25",submissionType:"text",submitted:3,total:8,pendingReviews:0}]),N={1:[{id:1,studentId:"1",studentName:"Emma Thompson",submittedAt:"2024-01-18 3:45 PM",content:"scales-practice.mp3",contentType:"file",feedback:""},{id:2,studentId:"2",studentName:"Liam Chen",submittedAt:null,content:null,contentType:"file",feedback:""}]},[c,h]=j.useState(N),[p,b]=j.useState({}),[C,S]=j.useState(null),[V,T]=j.useState(null),P=()=>{const g={title:"",description:"",dueDate:""};let L=!0;if(o.title.trim()||(g.title="Please enter a title for this assignment",L=!1),o.description.trim()||(g.description="Please enter a description for this assignment",L=!1),!o.dueDate)g.dueDate="Please select a due date for this assignment",L=!1;else{const M=new Date(o.dueDate),Y=new Date;Y.setHours(0,0,0,0),M<Y&&(g.dueDate="Due date cannot be in the past",L=!1)}return m(g),L},v=g=>{if(g.preventDefault(),!P())return;const L={id:d.length+1,...o,submitted:0,total:8,pendingReviews:0};f([...d,L]),console.log(`üìß Notification sent to all students: New homework assignment "${o.title}" created`),a(!1),t({title:"",description:"",dueDate:"",submissionType:"text"}),m({title:"",description:"",dueDate:""})},w=()=>{a(!1),t({title:"",description:"",dueDate:"",submissionType:"text"}),m({title:"",description:"",dueDate:""})},x=async(g,L)=>{const M=p[g]||"";if(!M.trim()){alert("Please enter feedback before saving.");return}S(g),setTimeout(()=>{h(Y=>{const U={...Y},R=U[i];if(R){const I=R.findIndex(W=>W.id===g);I!==-1&&(R[I]={...R[I],feedback:M,feedbackAt:new Date().toISOString()})}return U}),b({...p,[g]:""}),S(null),T(g),console.log(`üìß Notification sent to ${L}: New feedback on homework submission`),setTimeout(()=>{T(null)},3e3)},500)},D=g=>{window.confirm("Are you sure you want to delete this assignment?")&&f(d.filter(L=>L.id!==g))};if(i){const g=d.find(M=>M.id===i),L=c[i]||[];return e.jsxDEV("div",{className:"course-homework",children:[e.jsxDEV("button",{onClick:()=>l(null),className:"back-button",children:"‚Üê Back to Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:193,columnNumber:9},this),e.jsxDEV("div",{className:"submissions-header",children:[e.jsxDEV("h2",{children:[g.title," - Submissions"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:198,columnNumber:11},this),e.jsxDEV("p",{className:"due-date",children:["Due: ",new Date(g.dueDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:199,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:197,columnNumber:9},this),e.jsxDEV("div",{className:"submissions-list",children:L.map(M=>e.jsxDEV("div",{className:"submission-card",children:[e.jsxDEV("div",{className:"submission-header",children:[e.jsxDEV("div",{className:"student-name",children:["üë§ ",M.studentName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:210,columnNumber:17},this),M.submittedAt?e.jsxDEV("div",{className:"submitted-date",children:["Submitted: ",M.submittedAt]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:212,columnNumber:19},this):e.jsxDEV("div",{className:"not-submitted",children:"‚ö†Ô∏è Not submitted yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:216,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:209,columnNumber:15},this),M.submittedAt?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"submission-content",children:M.contentType==="file"?e.jsxDEV("div",{className:"file-submission",children:["üéµ ",M.content,e.jsxDEV("button",{className:"btn-secondary btn-sm",children:"Download"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:226,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:224,columnNumber:23},this):e.jsxDEV("div",{className:"text-submission",children:M.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:229,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:222,columnNumber:19},this),e.jsxDEV("div",{className:"feedback-section",children:[e.jsxDEV("label",{children:"Your Feedback:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:234,columnNumber:21},this),e.jsxDEV("textarea",{value:p[M.id]!==void 0?p[M.id]:M.feedback,onChange:Y=>b({...p,[M.id]:Y.target.value}),placeholder:"Write your feedback here...",rows:"3",disabled:C===M.id},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:235,columnNumber:21},this),e.jsxDEV("div",{className:"feedback-actions",children:[e.jsxDEV("button",{onClick:()=>x(M.id,M.studentName),className:"btn-primary btn-sm",disabled:C===M.id,children:C===M.id?"Saving...":"Save Feedback"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:248,columnNumber:23},this),V===M.id&&e.jsxDEV("div",{className:"feedback-confirmation",children:"‚úÖ Feedback saved! Student has been notified."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:256,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:247,columnNumber:21},this),M.feedback&&M.feedbackAt&&e.jsxDEV("div",{className:"feedback-info",children:e.jsxDEV("small",{children:["Last updated: ",new Date(M.feedbackAt).toLocaleString()]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:263,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:262,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:233,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:221,columnNumber:17},this):e.jsxDEV("button",{className:"btn-secondary btn-sm",children:"Send Reminder"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:269,columnNumber:17},this)]},M.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:208,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:206,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:192,columnNumber:7},this)}return e.jsxDEV("div",{className:"course-homework",children:[e.jsxDEV("div",{className:"homework-header",children:[e.jsxDEV("h2",{children:"üìù Homework Assignments"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:281,columnNumber:9},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"‚ÑπÔ∏è Create assignments and review student submissions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:283,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:282,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:280,columnNumber:7},this),e.jsxDEV("button",{onClick:()=>a(!0),className:"btn-primary",children:"+ Create New Assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:287,columnNumber:7},this),e.jsxDEV("div",{className:"assignments-list",children:d.map(g=>e.jsxDEV("div",{className:"assignment-card",children:[e.jsxDEV("div",{className:"assignment-info",children:[e.jsxDEV("h3",{children:g.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:295,columnNumber:15},this),e.jsxDEV("div",{className:"assignment-meta",children:[e.jsxDEV("span",{children:["Due: ",new Date(g.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:297,columnNumber:17},this),e.jsxDEV("span",{children:["Type: ",g.submissionType==="file"?"File Upload":g.submissionType==="text"?"Text Response":"Checkmark"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:302,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:296,columnNumber:15},this),e.jsxDEV("div",{className:"assignment-stats",children:[e.jsxDEV("span",{className:"stat",children:["üìä ",g.submitted,"/",g.total," students submitted"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:306,columnNumber:17},this),g.pendingReviews>0?e.jsxDEV("span",{className:"stat pending",children:["‚ö†Ô∏è ",g.pendingReviews," pending reviews"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:308,columnNumber:19},this):e.jsxDEV("span",{className:"stat complete",children:"‚úÖ All reviewed"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:310,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:305,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:294,columnNumber:13},this),e.jsxDEV("div",{className:"assignment-actions",children:[e.jsxDEV("button",{onClick:()=>l(g.id),className:"btn-primary btn-sm",children:"View Submissions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:315,columnNumber:15},this),e.jsxDEV("button",{className:"btn-secondary btn-sm",children:"Edit"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:321,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>D(g.id),className:"btn-secondary btn-sm",children:"Delete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:322,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:314,columnNumber:13},this)]},g.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:293,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:291,columnNumber:7},this),s&&e.jsxDEV("div",{className:"modal-overlay",onClick:w,children:e.jsxDEV("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[e.jsxDEV("h2",{children:"Create Homework Assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:336,columnNumber:13},this),e.jsxDEV("form",{onSubmit:v,children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Title *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:339,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:o.title,onChange:g=>{t({...o,title:g.target.value}),n.title&&m({...n,title:""})},placeholder:"e.g., Practice Scales",className:n.title?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:340,columnNumber:17},this),n.title&&e.jsxDEV("div",{className:"error-message",children:n.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:353,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:338,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Description *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:358,columnNumber:17},this),e.jsxDEV("textarea",{value:o.description,onChange:g=>{t({...o,description:g.target.value}),n.description&&m({...n,description:""})},rows:"3",placeholder:"Describe what students need to do...",className:n.description?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:359,columnNumber:17},this),n.description&&e.jsxDEV("div",{className:"error-message",children:n.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:372,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:357,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Due Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:377,columnNumber:17},this),e.jsxDEV("input",{type:"date",value:o.dueDate,onChange:g=>{t({...o,dueDate:g.target.value}),n.dueDate&&m({...n,dueDate:""})},className:n.dueDate?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:378,columnNumber:17},this),n.dueDate&&e.jsxDEV("div",{className:"error-message",children:n.dueDate},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:390,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:376,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Submission Type *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:395,columnNumber:17},this),e.jsxDEV("div",{className:"radio-group",children:[e.jsxDEV("label",{children:[e.jsxDEV("input",{type:"radio",value:"text",checked:o.submissionType==="text",onChange:g=>t({...o,submissionType:g.target.value})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:398,columnNumber:21},this),"Text Response"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:397,columnNumber:19},this),e.jsxDEV("label",{children:[e.jsxDEV("input",{type:"radio",value:"file",checked:o.submissionType==="file",onChange:g=>t({...o,submissionType:g.target.value})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:407,columnNumber:21},this),"File Upload"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:406,columnNumber:19},this),e.jsxDEV("label",{children:[e.jsxDEV("input",{type:"radio",value:"checkmark",checked:o.submissionType==="checkmark",onChange:g=>t({...o,submissionType:g.target.value})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:416,columnNumber:21},this),"Checkmark Only"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:415,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:396,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:394,columnNumber:15},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"‚ÑπÔ∏è Students will be notified when you create this assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:428,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:427,columnNumber:15},this),e.jsxDEV("div",{className:"modal-actions",children:[e.jsxDEV("button",{type:"button",onClick:w,className:"btn-secondary",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:432,columnNumber:17},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",children:"Create Assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:435,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:431,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:337,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:335,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:334,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:279,columnNumber:5},this)}function Ti({course:r}){const[s,a]=j.useState(!1),[i,l]=j.useState("file"),[o,t]=j.useState({title:"",url:"",file:null,fileName:""}),[n,m]=j.useState({title:"",url:"",file:""}),[d,f]=j.useState([{id:1,title:"Beginner Piano Guide.pdf",type:"file",url:"/resources/piano-guide.pdf",fileName:"Beginner Piano Guide.pdf",fileSize:25e5,addedAt:"2024-01-10",addedBy:(r==null?void 0:r.instructorId)||"1",viewedBy:["1","2","3","4","5","6","7"]},{id:2,title:"Music Theory Video Tutorial",type:"link",url:"https://youtube.com/watch?v=example",fileName:null,fileSize:null,addedAt:"2024-01-12",addedBy:(r==null?void 0:r.instructorId)||"1",viewedBy:["1","2","3","4","5"]}]),N=(r==null?void 0:r.currentEnrollment)||8,c=T=>{if(!T)return"üîó";switch(T.split(".").pop().toLowerCase()){case"pdf":return"üìÑ";case"doc":case"docx":return"üìù";case"jpg":case"jpeg":case"png":case"gif":return"üñºÔ∏è";case"mp3":case"wav":return"üéµ";case"mp4":case"mov":return"üé•";default:return"üìé"}},h=T=>T?`${(T/1024/1024).toFixed(1)} MB`:"",p=()=>{const T={title:"",url:"",file:""};let P=!0;if(o.title.trim()||(T.title="Please enter a title for this resource",P=!1),i==="link")if(!o.url.trim())T.url="Please enter a URL for this resource",P=!1;else try{new URL(o.url)}catch{T.url="Please enter a valid URL (e.g., https://example.com)",P=!1}else o.file||(T.file="Please choose a file to upload",P=!1);return m(T),P},b=T=>{const P=T.target.files[0];if(P){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/gif","audio/mpeg","audio/wav","video/mp4","video/quicktime"].includes(P.type)){m({...n,file:"This file type isn't supported. Please upload a PDF, DOC, image, audio, or video file."});return}const w=10*1024*1024;if(P.size>w){m({...n,file:"This file is too large. Please choose a file smaller than 10MB."});return}t({...o,file:P,fileName:P.name}),m({...n,file:""})}},C=T=>{if(T.preventDefault(),!p())return;const P={id:d.length+1,title:o.title,type:i,url:i==="link"?o.url:`/resources/${o.fileName}`,fileName:i==="file"?o.fileName:null,fileSize:i==="file"?o.file.size:null,addedAt:new Date().toISOString().split("T")[0],addedBy:(r==null?void 0:r.instructorId)||"1",viewedBy:[]};f([...d,P]),console.log(`üìß Notification sent to all students: New resource "${o.title}" added`),S()},S=()=>{a(!1),l("file"),t({title:"",url:"",file:null,fileName:""}),m({title:"",url:"",file:""})},V=(T,P)=>{window.confirm(`Are you sure you want to delete "${P}"? This action cannot be undone.`)&&(f(d.filter(v=>v.id!==T)),console.log(`üóëÔ∏è Resource "${P}" deleted`))};return e.jsxDEV("div",{className:"course-resources",children:[e.jsxDEV("div",{className:"resources-header",children:[e.jsxDEV("h2",{children:"üìö Course Resources"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:212,columnNumber:9},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"‚ÑπÔ∏è Upload files and links for students to access anytime"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:214,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:213,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:211,columnNumber:7},this),e.jsxDEV("button",{onClick:()=>a(!0),className:"btn-primary",children:"+ Add Resource"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:218,columnNumber:7},this),e.jsxDEV("div",{className:"resources-list",children:d.length===0?e.jsxDEV("div",{className:"empty-state",children:e.jsxDEV("p",{children:'No resources yet. Click "Add Resource" to upload your first file or link.'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:225,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:224,columnNumber:11},this):d.map(T=>e.jsxDEV("div",{className:"resource-card",children:[e.jsxDEV("div",{className:"resource-info",children:[e.jsxDEV("div",{className:"resource-icon",children:T.type==="link"?"üîó":c(T.fileName)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:231,columnNumber:17},this),e.jsxDEV("div",{className:"resource-details",children:[e.jsxDEV("h3",{children:T.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:235,columnNumber:19},this),T.type==="link"?e.jsxDEV("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"resource-url",children:T.url},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:237,columnNumber:21},this):e.jsxDEV("div",{className:"resource-meta",children:[e.jsxDEV("span",{children:T.fileName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:242,columnNumber:23},this),T.fileSize&&e.jsxDEV("span",{children:h(T.fileSize)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:243,columnNumber:45},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:241,columnNumber:21},this),e.jsxDEV("div",{className:"resource-stats",children:[e.jsxDEV("span",{className:"added-date",children:["Added: ",new Date(T.addedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:247,columnNumber:21},this),e.jsxDEV("span",{className:"view-stats",children:["üëÅÔ∏è Viewed by ",T.viewedBy.length,"/",N," students"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:252,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:246,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:234,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:230,columnNumber:15},this),e.jsxDEV("div",{className:"resource-actions",children:[T.type==="link"?e.jsxDEV("a",{href:T.url,target:"_blank",rel:"noopener noreferrer",className:"btn-primary btn-sm",children:"Open Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:260,columnNumber:19},this):e.jsxDEV("button",{className:"btn-primary btn-sm",children:"Download"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:269,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>V(T.id,T.title),className:"btn-secondary btn-sm",children:"Delete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:273,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:258,columnNumber:15},this)]},T.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:229,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:222,columnNumber:7},this),s&&e.jsxDEV("div",{className:"modal-overlay",onClick:S,children:e.jsxDEV("div",{className:"modal-content",onClick:T=>T.stopPropagation(),children:[e.jsxDEV("h2",{children:"Add Course Resource"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:288,columnNumber:13},this),e.jsxDEV("form",{onSubmit:C,children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Resource Type"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:291,columnNumber:17},this),e.jsxDEV("div",{className:"radio-group",children:[e.jsxDEV("label",{children:[e.jsxDEV("input",{type:"radio",value:"file",checked:i==="file",onChange:T=>{l(T.target.value),m({title:"",url:"",file:""})}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:294,columnNumber:21},this),"Upload File"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:293,columnNumber:19},this),e.jsxDEV("label",{children:[e.jsxDEV("input",{type:"radio",value:"link",checked:i==="link",onChange:T=>{l(T.target.value),m({title:"",url:"",file:""})}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:306,columnNumber:21},this),"Add Web Link"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:305,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:290,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Title *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:321,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:o.title,onChange:T=>{t({...o,title:T.target.value}),n.title&&m({...n,title:""})},placeholder:"e.g., Beginner Piano Guide",className:n.title?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:322,columnNumber:17},this),n.title&&e.jsxDEV("div",{className:"error-message",children:n.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:335,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:320,columnNumber:15},this),i==="file"?e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"File *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:341,columnNumber:19},this),e.jsxDEV("input",{type:"file",onChange:b,className:n.file?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:342,columnNumber:19},this),o.fileName&&e.jsxDEV("div",{className:"file-selected",children:["‚úì ",o.fileName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:348,columnNumber:21},this),e.jsxDEV("div",{className:"info-text",children:"‚ÑπÔ∏è Accepted: PDF, DOC, images, audio, video (max 10MB)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:352,columnNumber:19},this),n.file&&e.jsxDEV("div",{className:"error-message",children:n.file},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:356,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:340,columnNumber:17},this):e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"URL *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:361,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:o.url,onChange:T=>{t({...o,url:T.target.value}),n.url&&m({...n,url:""})},placeholder:"https://example.com",className:n.url?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:362,columnNumber:19},this),n.url&&e.jsxDEV("div",{className:"error-message",children:n.url},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:375,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:360,columnNumber:17},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"‚ÑπÔ∏è Students will see this resource immediately after you add it"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:381,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:380,columnNumber:15},this),e.jsxDEV("div",{className:"modal-actions",children:[e.jsxDEV("button",{type:"button",onClick:S,className:"btn-secondary",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:385,columnNumber:17},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",children:"Add Resource"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:388,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:384,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:289,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:287,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:286,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:210,columnNumber:5},this)}function Ui({course:r}){const{user:s}=se(),[a,i]=j.useState([]),[l,o]=j.useState(""),[t,n]=j.useState(!1),[m,d]=j.useState(null),[f,N]=j.useState([]),c=j.useRef(null),h=j.useRef(null);j.useEffect(()=>{const x=localStorage.getItem(`chat_${r.id}`);if(x)i(JSON.parse(x));else if(r.courseType==="group"){const D=[{id:"1",courseId:r.id,senderId:"student-1",senderName:"Emma Thompson",senderRole:"student",recipientId:null,message:"When is our next session?",sentAt:new Date(Date.now()-36e5).toISOString(),readBy:[s.id]},{id:"2",courseId:r.id,senderId:s.id,senderName:`${s.firstName} ${s.lastName}`,senderRole:"instructor",recipientId:null,message:"Next session is Monday at 10 AM. See you there! üéµ",sentAt:new Date(Date.now()-33e5).toISOString(),readBy:[s.id,"student-1","student-2"]},{id:"3",courseId:r.id,senderId:"student-2",senderName:"Liam Chen",senderRole:"student",recipientId:null,message:"Can we review scales again?",sentAt:new Date(Date.now()-9e5).toISOString(),readBy:[s.id]},{id:"4",courseId:r.id,senderId:s.id,senderName:`${s.firstName} ${s.lastName}`,senderRole:"instructor",recipientId:null,message:"Absolutely! I'll add that to Monday's session.",sentAt:new Date(Date.now()-6e5).toISOString(),readBy:[s.id,"student-2"]}];i(D),localStorage.setItem(`chat_${r.id}`,JSON.stringify(D))}else if(r.courseType==="one-on-one"){const D=[{id:"1",courseId:r.id,senderId:"1",senderName:"Emma Thompson",senderRole:"student",recipientId:s.id,message:"Can we reschedule Tuesday's lesson?",sentAt:new Date(Date.now()-6e5).toISOString(),readBy:["1"]},{id:"2",courseId:r.id,senderId:s.id,senderName:`${s.firstName} ${s.lastName}`,senderRole:"instructor",recipientId:"1",message:"Of course! What time works for you?",sentAt:new Date(Date.now()-3e5).toISOString(),readBy:[s.id,"1"]},{id:"3",courseId:r.id,senderId:"2",senderName:"Liam Chen",senderRole:"student",recipientId:s.id,message:"Thanks for the feedback!",sentAt:new Date(Date.now()-72e5).toISOString(),readBy:[s.id,"2"]},{id:"4",courseId:r.id,senderId:"3",senderName:"Sophia Rodriguez",senderRole:"student",recipientId:s.id,message:"I have a question about the homework.",sentAt:new Date(Date.now()-18e5).toISOString(),readBy:["3"]}];i(D),localStorage.setItem(`chat_${r.id}`,JSON.stringify(D))}},[r.id,r.courseType,s.id,s.firstName,s.lastName]),j.useEffect(()=>{if(r.courseType==="one-on-one"){const D=mi.slice(0,r.currentEnrollment||3).map(g=>{const L=a.filter(U=>U.senderId===g.id&&U.recipientId===s.id||U.senderId===s.id&&U.recipientId===g.id),M=L.length>0?L[L.length-1]:null,Y=L.filter(U=>U.senderId===g.id&&!U.readBy.includes(s.id)).length;return{id:g.id,studentName:`${g.firstName} ${g.lastName}`,lastMessage:M?M.message:"No messages yet",lastMessageAt:M?M.sentAt:null,unreadCount:Y}});D.sort((g,L)=>g.lastMessageAt?L.lastMessageAt?new Date(L.lastMessageAt)-new Date(g.lastMessageAt):-1:1),N(D)}},[r.courseType,r.currentEnrollment,a,s.id]),j.useEffect(()=>{var x;(x=c.current)==null||x.scrollIntoView({behavior:"smooth"})},[a]),j.useEffect(()=>{const x=()=>{const D=localStorage.getItem(`chat_${r.id}`);if(D){const g=JSON.parse(D);if(g.length!==a.length){i(g);const L=g.map(M=>({...M,readBy:M.readBy.includes(s.id)?M.readBy:[...M.readBy,s.id]}));localStorage.setItem(`chat_${r.id}`,JSON.stringify(L))}}};return h.current=setInterval(x,5e3),()=>{h.current&&clearInterval(h.current)}},[r.id,a.length,s.id]);const p=x=>{if(x.preventDefault(),!l.trim())return;const D={id:`msg-${Date.now()}`,courseId:r.id,senderId:s.id,senderName:`${s.firstName} ${s.lastName}`,senderRole:"instructor",recipientId:r.courseType==="one-on-one"?m:null,message:l.trim(),sentAt:new Date().toISOString(),readBy:[s.id]},g=[...a,D];i(g),localStorage.setItem(`chat_${r.id}`,JSON.stringify(g)),o(""),n(!0),setTimeout(()=>n(!1),3e3)},b=x=>{const D=new Date(x);return(new Date-D)/(1e3*60*60)<24?D.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):D.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})},C=x=>{if(!x)return"";const D=new Date(x),L=Math.floor((new Date-D)/(1e3*60));if(L<1)return"Just now";if(L<60)return`${L} min ago`;const M=Math.floor(L/60);if(M<24)return`${M} hour${M>1?"s":""} ago`;const Y=Math.floor(M/24);return Y<7?`${Y} day${Y>1?"s":""} ago`:D.toLocaleDateString("en-US",{month:"short",day:"numeric"})},S=x=>{d(x);const D=a.map(g=>g.senderId===x&&!g.readBy.includes(s.id)?{...g,readBy:[...g.readBy,s.id]}:g);i(D),localStorage.setItem(`chat_${r.id}`,JSON.stringify(D))},V=()=>{d(null)},T=()=>r.courseType==="group"?a:r.courseType==="one-on-one"&&m?a.filter(x=>x.senderId===m&&x.recipientId===s.id||x.senderId===s.id&&x.recipientId===m):[],P=()=>{const x=f.find(D=>D.id===m);return x?x.studentName:""},v=r.currentEnrollment||0,w=T();return r.courseType==="one-on-one"&&!m?e.jsxDEV("div",{className:"course-chat",children:[e.jsxDEV("div",{className:"chat-header",children:[e.jsxDEV("h2",{children:"üí¨ Student Messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:316,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"Private conversations with each student. Click on a student to view and send messages."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:318,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:317,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:315,columnNumber:9},this),e.jsxDEV("div",{className:"chat-thread-list",children:f.length===0?e.jsxDEV("div",{className:"no-threads",children:e.jsxDEV("p",{children:"No students enrolled yet."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:328,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:327,columnNumber:13},this):f.map(x=>e.jsxDEV("div",{className:"chat-thread-item",onClick:()=>S(x.id),role:"button",tabIndex:0,onKeyPress:D=>{(D.key==="Enter"||D.key===" ")&&S(x.id)},children:[e.jsxDEV("div",{className:"thread-header",children:[e.jsxDEV("div",{className:"thread-student-info",children:[e.jsxDEV("span",{className:"thread-icon",children:"üë§"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:346,columnNumber:21},this),e.jsxDEV("span",{className:"thread-student-name",children:x.studentName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:347,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:345,columnNumber:19},this),x.unreadCount>0&&e.jsxDEV("span",{className:"unread-badge",children:"New"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:350,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:344,columnNumber:17},this),e.jsxDEV("div",{className:"thread-preview",children:[e.jsxDEV("span",{className:"thread-last-message",children:x.lastMessage},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:354,columnNumber:19},this),x.lastMessageAt&&e.jsxDEV("span",{className:"thread-time",children:C(x.lastMessageAt)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:356,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:353,columnNumber:17},this)]},x.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:332,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:325,columnNumber:9},this),e.jsxDEV("div",{className:"thread-list-footer",children:e.jsxDEV("p",{children:"Click a student to open chat"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:365,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:364,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:314,columnNumber:7},this):r.courseType==="one-on-one"&&m?e.jsxDEV("div",{className:"course-chat",children:[e.jsxDEV("div",{className:"chat-header",children:[e.jsxDEV("button",{onClick:V,className:"back-button","aria-label":"Back to messages",children:"‚Üê Back to Messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:376,columnNumber:11},this),e.jsxDEV("h2",{children:["üí¨ Chat with ",P()]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:383,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:["Private conversation - only you and ",P()," can see these messages."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:385,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:384,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:375,columnNumber:9},this),e.jsxDEV("div",{className:"chat-messages",children:[w.length===0?e.jsxDEV("div",{className:"no-messages",children:e.jsxDEV("p",{children:"No messages yet. Start the conversation!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:394,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:393,columnNumber:13},this):w.map(x=>e.jsxDEV("div",{className:`message ${x.senderRole==="instructor"?"instructor-message":"student-message"}`,children:[e.jsxDEV("div",{className:"message-header",children:[e.jsxDEV("span",{className:"sender-name",children:x.senderRole==="instructor"?"You":x.senderName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:403,columnNumber:19},this),e.jsxDEV("span",{className:"message-time",children:b(x.sentAt)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:406,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:402,columnNumber:17},this),e.jsxDEV("div",{className:"message-content",children:x.message},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:408,columnNumber:17},this)]},x.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:398,columnNumber:15},this)),e.jsxDEV("div",{ref:c},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:414,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:391,columnNumber:9},this),e.jsxDEV("form",{onSubmit:p,className:"chat-input-form",children:[e.jsxDEV("input",{type:"text",value:l,onChange:x=>o(x.target.value),placeholder:"Type your message...",className:"chat-input","aria-label":"Message input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:418,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn btn-primary send-button",disabled:!l.trim(),children:"Send"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:426,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:417,columnNumber:9},this),t&&e.jsxDEV("div",{className:"send-confirmation",children:"‚úì Message sent successfully"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:436,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:374,columnNumber:7},this):e.jsxDEV("div",{className:"course-chat",children:[e.jsxDEV("div",{className:"chat-header",children:[e.jsxDEV("h2",{children:"üí¨ Group Chat"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:448,columnNumber:9},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:["All ",v," students can see these messages. Use this space to share updates, answer questions, and build community."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:450,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:449,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:447,columnNumber:7},this),e.jsxDEV("div",{className:"chat-messages",children:[a.length===0?e.jsxDEV("div",{className:"no-messages",children:e.jsxDEV("p",{children:"No messages yet. Start the conversation!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:460,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:459,columnNumber:11},this):a.map(x=>e.jsxDEV("div",{className:`message ${x.senderRole==="instructor"?"instructor-message":"student-message"}`,children:[e.jsxDEV("div",{className:"message-header",children:[e.jsxDEV("span",{className:"sender-name",children:x.senderRole==="instructor"?"You (Instructor)":x.senderName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:469,columnNumber:17},this),e.jsxDEV("span",{className:"message-time",children:b(x.sentAt)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:472,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:468,columnNumber:15},this),e.jsxDEV("div",{className:"message-content",children:x.message},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:474,columnNumber:15},this)]},x.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:464,columnNumber:13},this)),e.jsxDEV("div",{ref:c},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:480,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:457,columnNumber:7},this),e.jsxDEV("form",{onSubmit:p,className:"chat-input-form",children:[e.jsxDEV("input",{type:"text",value:l,onChange:x=>o(x.target.value),placeholder:"Type your message...",className:"chat-input","aria-label":"Message input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:484,columnNumber:9},this),e.jsxDEV("button",{type:"submit",className:"btn btn-primary send-button",disabled:!l.trim(),children:"Send"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:492,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:483,columnNumber:7},this),t&&e.jsxDEV("div",{className:"send-confirmation",children:"‚úì Message sent successfully"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:502,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:446,columnNumber:5},this)}function wi(){const{courseId:r}=Te(),s=ne(),[a,i]=ls(),{user:l}=se(),[o,t]=j.useState(0),[n,m]=j.useState(null),[d,f]=j.useState(!0),[N,c]=j.useState(""),h=a.get("tab")||"sessions";if(j.useEffect(()=>{r&&(async()=>{try{f(!0);const C=await K(G.courses.getById,r);m(C)}catch(C){console.error("Error fetching course:",C),c("Failed to load course")}finally{f(!1)}})()},[r]),j.useEffect(()=>{const b=()=>{const S=localStorage.getItem(`chat_${r}`);if(S){const T=JSON.parse(S).filter(P=>P.senderRole!=="instructor"&&!P.readBy.includes(l.id)).length;t(T)}};b();const C=setInterval(b,5e3);return()=>clearInterval(C)},[r,l.id,h]),d)return e.jsxDEV("div",{className:"manage-course",children:e.jsxDEV("div",{className:"loading-state",children:"Loading course..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:67,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:66,columnNumber:7},this);if(N||!n)return e.jsxDEV("div",{className:"manage-course",children:e.jsxDEV("div",{className:"error-state",children:[e.jsxDEV("p",{children:N||"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:76,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>s("/instructor/dashboard"),className:"btn-primary",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:75,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:74,columnNumber:7},this);const p=b=>{i({tab:b}),b==="chat"&&t(0)};return e.jsxDEV("div",{className:"manage-course",children:[e.jsxDEV("div",{className:"manage-course-header",children:[e.jsxDEV("button",{onClick:()=>s("/instructor/dashboard"),className:"back-button",children:"‚Üê Back to Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:96,columnNumber:9},this),e.jsxDEV("h1",{children:n.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:99,columnNumber:9},this),e.jsxDEV("p",{className:"course-subtitle",children:"Manage your course content and students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:100,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:95,columnNumber:7},this),e.jsxDEV("div",{className:"course-tabs",children:[e.jsxDEV("button",{className:`tab-button ${h==="sessions"?"active":""}`,onClick:()=>p("sessions"),children:"üìÖ Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:104,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${h==="students"?"active":""}`,onClick:()=>p("students"),children:"üë• Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:110,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${h==="homework"?"active":""}`,onClick:()=>p("homework"),children:"üìù Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:116,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${h==="resources"?"active":""}`,onClick:()=>p("resources"),children:"üìö Resources"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:122,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${h==="chat"?"active":""}`,onClick:()=>p("chat"),children:["üí¨ Chat",o>0&&e.jsxDEV("span",{className:"notification-badge",children:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:133,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:128,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:103,columnNumber:7},this),e.jsxDEV("div",{className:"tab-content",children:[h==="sessions"&&e.jsxDEV(gs,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:138,columnNumber:38},this),h==="students"&&e.jsxDEV(ki,{course:n},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:139,columnNumber:38},this),h==="homework"&&e.jsxDEV(Di,{course:n},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:140,columnNumber:38},this),h==="resources"&&e.jsxDEV(Ti,{course:n},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:141,columnNumber:39},this),h==="chat"&&e.jsxDEV(Ui,{course:n},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:142,columnNumber:34},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:137,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:94,columnNumber:5},this)}function Vi(){const{user:r,profile:s}=se(),a=ne(),[i,l]=j.useState({firstName:(s==null?void 0:s.first_name)||"",lastName:(s==null?void 0:s.last_name)||"",email:(s==null?void 0:s.email)||(r==null?void 0:r.email)||"",neurodiversityProfile:(s==null?void 0:s.neurodiversity_profile)||[],otherNeeds:(s==null?void 0:s.other_needs)||""}),[o,t]=j.useState(!1);j.useEffect(()=>{s&&l({firstName:s.first_name||"",lastName:s.last_name||"",email:s.email||(r==null?void 0:r.email)||"",neurodiversityProfile:s.neurodiversity_profile||[],otherNeeds:s.other_needs||""})},[s,r]);const n=[{value:"autism",label:"Autism Spectrum"},{value:"adhd",label:"ADHD"},{value:"dyslexia",label:"Dyslexia"},{value:"dysgraphia",label:"Dysgraphia"},{value:"dyscalculia",label:"Dyscalculia"},{value:"other",label:"Other"}],m=h=>{const p=i.neurodiversityProfile;p.includes(h)?l({...i,neurodiversityProfile:p.filter(b=>b!==h)}):l({...i,neurodiversityProfile:[...p,h]})},d=h=>{l({...i,[h.target.name]:h.target.value})},f=h=>{h.preventDefault(),alert("Profile updated successfully!"),t(!1)},N=()=>{l({firstName:(s==null?void 0:s.first_name)||"",lastName:(s==null?void 0:s.last_name)||"",email:(s==null?void 0:s.email)||(r==null?void 0:r.email)||"",neurodiversityProfile:(s==null?void 0:s.neurodiversity_profile)||[],otherNeeds:(s==null?void 0:s.other_needs)||""}),t(!1)},c=(s==null?void 0:s.role)==="instructor";return e.jsxDEV("div",{className:"student-profile",children:[e.jsxDEV("div",{className:"profile-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{children:"My Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:88,columnNumber:11},this),e.jsxDEV("p",{className:"profile-subtitle",children:c?"Manage your personal information and teaching profile":"Manage your personal information and learning preferences"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:87,columnNumber:9},this),!o&&e.jsxDEV("button",{onClick:()=>t(!0),className:"btn-primary",children:"Edit Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:96,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:86,columnNumber:7},this),e.jsxDEV("form",{onSubmit:f,className:"profile-form",children:[e.jsxDEV("div",{className:"profile-section",children:[e.jsxDEV("h2",{children:"Personal Information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:104,columnNumber:11},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"firstName",children:"First Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:107,columnNumber:15},this),e.jsxDEV("input",{id:"firstName",name:"firstName",type:"text",value:i.firstName,onChange:d,disabled:!o,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:108,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:106,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"lastName",children:"Last Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:119,columnNumber:15},this),e.jsxDEV("input",{id:"lastName",name:"lastName",type:"text",value:i.lastName,onChange:d,disabled:!o,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:120,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:105,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"email",children:"Email Address"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:133,columnNumber:13},this),e.jsxDEV("input",{id:"email",name:"email",type:"email",value:i.email,onChange:d,disabled:!o,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:134,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:132,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:103,columnNumber:9},this),e.jsxDEV("div",{className:"profile-section",children:[e.jsxDEV("h2",{children:c?"Your Unique Mind":"Your Learning Style"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:147,columnNumber:11},this),e.jsxDEV("p",{className:"section-description",children:c?"Share what makes your mind unique to help students understand your teaching approach and create a more inclusive learning environment. This information is visible to enrolled students.":"Help us understand what makes your mind unique so instructors can provide the best support. This information is private and only shared with your enrolled instructors."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:148,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"What's unique about your mind? (Select all that apply)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:155,columnNumber:13},this),e.jsxDEV("div",{className:"checkbox-grid",children:n.map(h=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:i.neurodiversityProfile.includes(h.value),onChange:()=>m(h.value),disabled:!o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:159,columnNumber:19},this),e.jsxDEV("span",{children:h.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:165,columnNumber:19},this)]},h.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:158,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:154,columnNumber:11},this),i.neurodiversityProfile.includes("other")&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"otherNeeds",children:c?"Please specify other information":"Please specify other learning needs"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:173,columnNumber:15},this),e.jsxDEV("textarea",{id:"otherNeeds",name:"otherNeeds",value:i.otherNeeds,onChange:d,disabled:!o,rows:"3",placeholder:c?"Describe your teaching approach or any relevant information...":"Describe any other learning needs or accommodations..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:178,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:146,columnNumber:9},this),o&&e.jsxDEV("div",{className:"profile-actions",children:[e.jsxDEV("button",{type:"button",onClick:N,className:"btn-secondary",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:195,columnNumber:13},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",children:"Save Changes"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:194,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:102,columnNumber:7},this),(s==null?void 0:s.role)==="parent"&&e.jsxDEV("div",{className:"profile-section",children:[e.jsxDEV("h2",{children:"Student Management"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:207,columnNumber:11},this),e.jsxDEV("p",{className:"section-description",children:"Manage your children's profiles and learning preferences."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:208,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>a("/manage-students"),className:"btn-primary",children:"üìö Manage Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:211,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:206,columnNumber:9},this),e.jsxDEV("div",{className:"profile-section danger-zone",children:[e.jsxDEV("h2",{children:"Account Settings"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:221,columnNumber:9},this),e.jsxDEV("button",{className:"btn-danger",children:"Change Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:222,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:220,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:85,columnNumber:5},this)}function _i(){const r=ne(),[s,a]=j.useState(null),i=j.useRef(!1);return j.useEffect(()=>{if(i.current)return;(async()=>{var o,t,n;i.current=!0;try{const{data:{session:m},error:d}=await E.auth.getSession();if(d)throw d;if(m){console.log("=== OAuth Callback Debug ==="),console.log("User ID:",m.user.id),console.log("User Email:",m.user.email),console.log("User Metadata:",m.user.user_metadata),console.log("========================");let f=null,N=null;try{const p=await E.from("profiles").select("*").eq("id",m.user.id).single();f=p.data,N=p.error}catch(p){console.log("Profile query error (will attempt to create):",p.message),N=p}if(console.log("üîç Profile check result:",{profile:f,profileError:N}),!f||N){console.log("üîÑ No profile found, creating new profile...");try{const p=m.user.user_metadata||{};console.log("User metadata:",p);let b="User",C="";if(p.given_name)b=p.given_name,C=p.family_name||"";else if(p.full_name){const P=p.full_name.split(" ");b=P[0]||"User",C=P.slice(1).join(" ")||""}else if(p.name){const P=p.name.split(" ");b=P[0]||"User",C=P.slice(1).join(" ")||""}const S=localStorage.getItem("oauth_role_preference")||"parent";console.log("üîç OAuth role preference from localStorage:",S),localStorage.removeItem("oauth_role_preference"),console.log("Attempting to create profile with:",{id:m.user.id,email:m.user.email,first_name:b,last_name:C,role:S,avatar_url:p.avatar_url||p.picture||null});const{data:V,error:T}=await E.from("profiles").insert({id:m.user.id,email:m.user.email,first_name:b,last_name:C,role:S,avatar_url:p.avatar_url||p.picture||null,neurodiversity_profile:[],expertise:[]}).select();if(T)if(T.code==="23505"){console.log("‚úÖ Profile already exists (returning user)");const{data:P}=await E.from("profiles").select("*").eq("id",m.user.id).single();if(f=P,f&&f.role==="student"&&S!=="student"){console.log(`üîß Updating existing profile role from '${f.role}' to '${S}'`);const{error:v}=await E.from("profiles").update({role:S}).eq("id",m.user.id);v?console.error("‚ùå Failed to update profile role:",v):(f.role=S,console.log("‚úÖ Profile role updated successfully"))}}else console.error("‚ùå Error creating profile:",T),console.error("Error code:",T.code),console.error("Error message:",T.message),console.error("Error details:",T.details);else{console.log("‚úÖ Profile created successfully! (new user)"),console.log("Profile data:",V),console.log("Name:",b,C),f=(V==null?void 0:V[0])||{role:"parent"},console.log("Redirecting new user to onboarding..."),r("/onboarding",{state:{userId:m.user.id,userName:b},replace:!0});return}}catch(p){console.error("Insert error:",p)}}else if(console.log("‚úÖ Profile already exists"),console.log("üìã Existing profile role:",f==null?void 0:f.role),f&&f.role==="student"){console.log("üîß Existing profile has student role, checking for role preference...");const p=localStorage.getItem("oauth_role_preference")||"parent";if(console.log("üîç OAuth role preference from localStorage:",p),localStorage.removeItem("oauth_role_preference"),p!=="student"){console.log(`üîß Updating existing profile role from 'student' to '${p}'`);try{const{error:b}=await E.from("profiles").update({role:p}).eq("id",m.user.id);b?console.error("‚ùå Failed to update profile role:",b):(f.role=p,console.log("‚úÖ Profile role updated successfully"))}catch(b){console.error("‚ùå Update error:",b)}}}const c=(f==null?void 0:f.role)||"parent",h=!(f!=null&&f.bio)&&!((o=f==null?void 0:f.neurodiversity_profile)!=null&&o.length);console.log("User role:",c),console.log("Needs onboarding:",h),console.log("Profile completeness:",{bio:f==null?void 0:f.bio,neurodiversity_profile:f==null?void 0:f.neurodiversity_profile}),h?(console.log("Redirecting to onboarding (incomplete profile)"),r("/onboarding",{state:{userId:m.user.id,userName:(f==null?void 0:f.first_name)||((n=(t=m.user.user_metadata)==null?void 0:t.full_name)==null?void 0:n.split(" ")[0])||"there"},replace:!0})):(console.log("Redirecting returning user with role:",c),r("/marketplace",{replace:!0}))}else r("/login")}catch(m){console.error("Auth callback error:",m),a(m.message),setTimeout(()=>{r("/login")},3e3)}})()},[r]),s?e.jsxDEV("div",{className:"auth-callback",children:e.jsxDEV("div",{className:"auth-callback-error",children:[e.jsxDEV("h2",{children:"Authentication Error"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:257,columnNumber:11},this),e.jsxDEV("p",{children:s},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:258,columnNumber:11},this),e.jsxDEV("p",{children:"Redirecting to login..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:259,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:256,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:255,columnNumber:7},this):e.jsxDEV("div",{className:"auth-callback",children:e.jsxDEV("div",{className:"auth-callback-loading",children:[e.jsxDEV("div",{className:"spinner"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:268,columnNumber:9},this),e.jsxDEV("p",{children:"Completing sign in..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:269,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:267,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:266,columnNumber:5},this)}function Mi(){var D,g,L,M,Y;const r=ne(),s=ns(),{user:a}=se(),i=(a==null?void 0:a.id)||((D=s.state)==null?void 0:D.userId),l=((g=s.state)==null?void 0:g.userName)||((M=(L=a==null?void 0:a.user_metadata)==null?void 0:L.full_name)==null?void 0:M.split(" ")[0])||"there",[o,t]=j.useState({neurodiversityProfile:[],expertise:[],bio:"",otherNeurodiversity:"",otherExpertise:"",role:"parent"}),[n,m]=j.useState([]),[d,f]=j.useState({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""}),[N,c]=j.useState(!1);j.useEffect(()=>{(async()=>{if(!i){console.error("No user ID available for onboarding");return}console.log("Fetching profile for user ID:",i);try{const{data:R,error:I}=await E.from("profiles").select("*").eq("id",i).single();if(I){console.error("Error fetching profile:",I);return}R&&t({neurodiversityProfile:R.neurodiversity_profile||[],expertise:R.expertise||[],bio:R.bio||"",otherNeurodiversity:"",otherExpertise:"",role:R.role||"parent"})}catch(R){console.error("Profile fetch error:",R)}})()},[i]);const h=[{value:"autism",label:"Autism Spectrum"},{value:"adhd",label:"ADHD"},{value:"dyslexia",label:"Dyslexia"},{value:"dysgraphia",label:"Dysgraphia"},{value:"dyscalculia",label:"Dyscalculia"},{value:"other",label:"Other"}],p=U=>{const R=o.neurodiversityProfile;R.includes(U)?t({...o,neurodiversityProfile:R.filter(I=>I!==U)}):t({...o,neurodiversityProfile:[...R,U]})},b=U=>{const R=o.expertise||[];R.includes(U)?t({...o,expertise:R.filter(I=>I!==U)}):t({...o,expertise:[...R,U]})},C=U=>{t({...o,[U.target.name]:U.target.value})},S=U=>{o.role==="parent"&&U==="instructor"&&(m([]),f({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""})),t({...o,role:U})},V=U=>{f({...d,[U.target.name]:U.target.value})},T=U=>{const R=d.neurodiversityProfile;R.includes(U)?f({...d,neurodiversityProfile:R.filter(I=>I!==U)}):f({...d,neurodiversityProfile:[...R,U]})},P=()=>{if(!d.firstName||!d.age){alert("Please fill in student name and age");return}const U={...d,id:Date.now()};m([...n,U]),f({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""})},v=U=>{m(n.filter(R=>R.id!==U))},w=async U=>{if(U.preventDefault(),!i){alert("User not authenticated. Please log in again."),r("/login");return}if(o.role==="instructor"&&(!o.bio||o.bio.trim().length===0)){alert("Please provide information about your teaching approach."),c(!1);return}if(o.role==="parent"&&n.length===0){alert("Please add at least one student to continue."),c(!1);return}if(o.role==="instructor"&&n.length>0){alert("Instructors cannot have student profiles. Please change your role to Parent or remove the students."),c(!1);return}c(!0);try{const R={role:o.role,bio:o.bio,neurodiversity_profile:o.neurodiversityProfile,expertise:o.expertise||[]},{error:I}=await E.from("profiles").update(R).eq("id",i);if(I){console.error("Error updating profile:",I),alert("Failed to save profile. Please try again."),c(!1);return}if(o.role==="parent"&&n.length>0){const W=n.map(Z=>({parent_id:i,first_name:Z.firstName,last_name:Z.lastName||"",age:Z.age?parseInt(Z.age):null,neurodiversity_profile:Z.neurodiversityProfile||[],other_needs:Z.otherNeeds||"",bio:"Student managed by parent"})),{error:re}=await E.from("students").insert(W);re&&(console.error("Error creating student profiles:",re),alert("Profile saved but failed to create student profiles. You can add them later."))}setTimeout(()=>{console.log("Redirecting user with role:",o.role),o.role==="instructor"?r("/instructor/create-course"):(o.role,r("/marketplace"))},500)}catch(R){console.error("Onboarding error:",R),alert("Something went wrong. Please try again."),c(!1)}},x=()=>{r("/marketplace")};return a?i?e.jsxDEV("div",{className:"onboarding-container",children:e.jsxDEV("div",{className:"onboarding-card",children:[e.jsxDEV("div",{className:"onboarding-header",children:[e.jsxDEV("h1",{children:["Welcome to UniqueBrains, ",l,"! üéâ"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:327,columnNumber:11},this),e.jsxDEV("p",{className:"onboarding-subtitle",children:"Let's personalize your learning experience. This will only take a minute."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:328,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:326,columnNumber:9},this),e.jsxDEV("form",{onSubmit:w,className:"onboarding-form",children:[e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"I want to use UniqueBrains as a:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:336,columnNumber:13},this),e.jsxDEV("div",{className:"role-cards",children:[e.jsxDEV("div",{className:`role-card ${o.role==="parent"?"selected":""}`,onClick:()=>S("parent"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:342,columnNumber:17},this),e.jsxDEV("h3",{children:"Parent"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:343,columnNumber:17},this),e.jsxDEV("p",{children:"Manage my children's learning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:344,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:338,columnNumber:15},this),e.jsxDEV("div",{className:`role-card ${o.role==="instructor"?"selected":""}`,onClick:()=>S("instructor"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:350,columnNumber:17},this),e.jsxDEV("h3",{children:"Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:351,columnNumber:17},this),e.jsxDEV("p",{children:"Teach and inspire"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:352,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:346,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:337,columnNumber:13},this),e.jsxDEV("p",{className:"role-note",children:e.jsxDEV("small",{children:"Note: Student profiles are created by parents during setup"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:356,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:355,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:335,columnNumber:11},this),e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"Tell us about yourself"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:362,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"bio",children:o.role==="instructor"?"Teaching Experience & Approach":"About You"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:364,columnNumber:15},this),e.jsxDEV("textarea",{id:"bio",name:"bio",value:o.bio,onChange:C,placeholder:o.role==="instructor"?"Share your teaching experience, approach, and what makes you passionate about education...":"Tell us a bit about yourself and your family...",rows:"4"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:367,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:363,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:361,columnNumber:11},this),o.role==="instructor"&&e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"Your Teaching Specializations"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:385,columnNumber:15},this),e.jsxDEV("p",{className:"section-description",children:"What neurodiversity areas do you specialize in or have experience teaching? This helps parents find the right match."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:386,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Neurodiversity areas you specialize in (Optional - Select all that apply)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:391,columnNumber:17},this),e.jsxDEV("div",{className:"checkbox-grid",children:h.map(U=>{var R;return e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:((R=o.expertise)==null?void 0:R.includes(U.value))||!1,onChange:()=>b(U.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:397,columnNumber:23},this),e.jsxDEV("span",{children:U.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:402,columnNumber:23},this)]},U.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:396,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:394,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:390,columnNumber:15},this),((Y=o.expertise)==null?void 0:Y.includes("other"))&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"otherExpertise",children:"Please specify your other specializations"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:410,columnNumber:19},this),e.jsxDEV("textarea",{id:"otherExpertise",name:"otherExpertise",value:o.otherExpertise,onChange:C,rows:"3",placeholder:"Describe any other neurodiversity areas you specialize in..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:411,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:409,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:384,columnNumber:13},this),(o.role==="parent"||o.role==="instructor")&&e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"Your Neurodiversity Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:427,columnNumber:15},this),e.jsxDEV("p",{className:"section-description",children:o.role==="instructor"?"Help parents find instructors who understand their children by sharing your own neurodiversity profile. Many of our best instructors are neurodiverse themselves.":"Help us understand your own neurodiversity profile. This information helps match you with instructors who understand your perspective and is kept private."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:428,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Your personal neurodiversity profile (Optional - Select all that apply)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:436,columnNumber:17},this),e.jsxDEV("div",{className:"checkbox-grid",children:h.map(U=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:o.neurodiversityProfile.includes(U.value),onChange:()=>p(U.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:442,columnNumber:23},this),e.jsxDEV("span",{children:U.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:447,columnNumber:23},this)]},U.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:441,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:439,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:435,columnNumber:15},this),o.neurodiversityProfile.includes("other")&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"otherNeurodiversity",children:"Please specify"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:455,columnNumber:19},this),e.jsxDEV("textarea",{id:"otherNeurodiversity",name:"otherNeurodiversity",value:o.otherNeurodiversity,onChange:C,rows:"3",placeholder:"Describe any other aspects of your neurodiversity..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:456,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:454,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:426,columnNumber:13},this),o.role==="parent"&&e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"Add Your Children"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:472,columnNumber:15},this),e.jsxDEV("p",{className:"section-description",children:"Create profiles for your children so you can enroll them in courses and track their progress."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:473,columnNumber:15},this),e.jsxDEV("div",{className:"student-form",children:[e.jsxDEV("h3",{children:"Add a Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:479,columnNumber:17},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"studentFirstName",children:"Student's First Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:482,columnNumber:21},this),e.jsxDEV("input",{id:"studentFirstName",name:"firstName",type:"text",value:d.firstName,onChange:V,placeholder:"Enter student's name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:483,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:481,columnNumber:19},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"studentAge",children:"Age"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:493,columnNumber:21},this),e.jsxDEV("input",{id:"studentAge",name:"age",type:"number",value:d.age,onChange:V,min:"3",max:"18",placeholder:"Age"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:494,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:492,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:480,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Student's Learning Profile (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:508,columnNumber:19},this),e.jsxDEV("p",{className:"field-description",children:"Help instructors understand your child's unique learning style and needs."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:509,columnNumber:19},this),e.jsxDEV("div",{className:"checkbox-grid",children:h.map(U=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:d.neurodiversityProfile.includes(U.value),onChange:()=>T(U.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:515,columnNumber:25},this),e.jsxDEV("span",{children:U.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:520,columnNumber:25},this)]},U.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:514,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:512,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:507,columnNumber:17},this),d.neurodiversityProfile.includes("other")&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"otherNeeds",children:"Please specify other needs"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:528,columnNumber:21},this),e.jsxDEV("textarea",{id:"otherNeeds",name:"otherNeeds",value:d.otherNeeds,onChange:V,rows:"3",placeholder:"Describe any specific learning needs, accommodations, or other important information..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:529,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:527,columnNumber:19},this),e.jsxDEV("button",{type:"button",onClick:P,className:"btn-secondary",disabled:!d.firstName||!d.age,children:"Add Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:540,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:478,columnNumber:15},this),n.length>0&&e.jsxDEV("div",{className:"students-list",children:[e.jsxDEV("h3",{children:["Added Students (",n.length,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:553,columnNumber:19},this),n.map(U=>e.jsxDEV("div",{className:"student-card",children:[e.jsxDEV("div",{className:"student-info",children:[e.jsxDEV("h4",{children:U.firstName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:557,columnNumber:25},this),e.jsxDEV("p",{children:["Age: ",U.age]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:558,columnNumber:25},this),U.neurodiversityProfile.length>0&&e.jsxDEV("div",{className:"student-badges",children:U.neurodiversityProfile.map(R=>{var I;return e.jsxDEV("span",{className:"profile-badge",children:((I=h.find(W=>W.value===R))==null?void 0:I.label)||R},R,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:562,columnNumber:31},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:560,columnNumber:27},this),U.otherNeeds&&e.jsxDEV("p",{className:"student-notes",children:U.otherNeeds},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:569,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:556,columnNumber:23},this),e.jsxDEV("button",{type:"button",onClick:()=>v(U.id),className:"btn-danger-small",children:"Remove"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:572,columnNumber:23},this)]},U.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:555,columnNumber:21},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:552,columnNumber:17},this),n.length===0&&e.jsxDEV("div",{className:"empty-students",children:e.jsxDEV("p",{children:"No students added yet. Please add at least one student to continue."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:586,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:585,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:471,columnNumber:13},this),e.jsxDEV("div",{className:"onboarding-actions",children:[e.jsxDEV("button",{type:"button",onClick:x,className:"btn-secondary",disabled:N,children:"Skip for now"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:595,columnNumber:13},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",disabled:N,children:N?"Saving...":"Complete Setup"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:603,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:594,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:333,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:325,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:324,columnNumber:5},this):e.jsxDEV("div",{className:"onboarding-container",children:e.jsxDEV("div",{className:"onboarding-card",children:e.jsxDEV("div",{className:"onboarding-header",children:[e.jsxDEV("h1",{children:"Authentication Error"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:312,columnNumber:13},this),e.jsxDEV("p",{children:"Please log in again to continue."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:313,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>r("/login"),className:"btn-primary",children:"Go to Login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:314,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:311,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:310,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:309,columnNumber:7},this):e.jsxDEV("div",{className:"onboarding-container",children:e.jsxDEV("div",{className:"onboarding-card",children:e.jsxDEV("div",{className:"onboarding-header",children:[e.jsxDEV("h1",{children:"Loading..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:298,columnNumber:13},this),e.jsxDEV("p",{children:"Please wait while we set up your account."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:299,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:297,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:296,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:295,columnNumber:7},this)}function Ri(){const r=ne(),{user:s}=se(),[a,i]=j.useState("parent"),[l,o]=j.useState(!1),[t,n]=j.useState(""),m=async()=>{if(!s){n("You must be logged in to update your role");return}o(!0),n("");try{const{error:d}=await E.from("profiles").update({role:a}).eq("id",s.id);if(d)throw d;a==="instructor"?r("/instructor/dashboard",{replace:!0}):a==="parent"&&r("/onboarding",{replace:!0})}catch(d){console.error("Error updating role:",d),n("Failed to update role. Please try again.")}finally{o(!1)}};return e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:[e.jsxDEV("h2",{children:"Select Your Role"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:50,columnNumber:9},this),e.jsxDEV("p",{className:"auth-subtitle",children:"We need to know your role to set up your account properly"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:51,columnNumber:9},this),t&&e.jsxDEV("div",{className:"error-message",children:t},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:55,columnNumber:19},this),e.jsxDEV("div",{className:"role-selection",children:e.jsxDEV("div",{className:"role-cards",children:[e.jsxDEV("div",{className:`role-card ${a==="parent"?"selected":""}`,onClick:()=>i("parent"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:63,columnNumber:15},this),e.jsxDEV("h3",{children:"Parent"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:64,columnNumber:15},this),e.jsxDEV("p",{children:"Manage my children's learning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:65,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:59,columnNumber:13},this),e.jsxDEV("div",{className:`role-card ${a==="instructor"?"selected":""}`,onClick:()=>i("instructor"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:71,columnNumber:15},this),e.jsxDEV("h3",{children:"Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:72,columnNumber:15},this),e.jsxDEV("p",{children:"Teach and inspire"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:73,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:67,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:58,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:57,columnNumber:9},this),e.jsxDEV("button",{onClick:m,disabled:l,className:"btn-primary btn-full",children:l?"Updating...":`Continue as ${a==="instructor"?"Instructor":"Parent"}`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:78,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:49,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:48,columnNumber:5},this)}function Li(){var f;const{user:r}=se(),[s,a]=j.useState(!1),[i,l]=j.useState([]),[o,t]=j.useState(""),n=(N,c)=>{l(h=>[...h,{test:N,result:c,timestamp:new Date().toLocaleTimeString()}])},m=async()=>{if(!r){t("Please log in as an instructor first");return}a(!0),t(""),l([]);try{n("Creating course...","Starting");const N={title:"Backend Test Course",description:"This course tests the backend integration",category:"parenting",courseType:"group",sessionDuration:60,enrollmentLimit:10,isSelfPaced:!1,startDate:"2024-02-01",sessionTime:"10:00",selectedDays:["Monday","Wednesday"],hasEndDate:!0,endDate:"2024-04-01"},c=await K(G.courses.create,N,r);n("Course Creation",`‚úÖ Success: ${c.course.title}`);const h=c.course.id;n("Creating homework...","Starting");const p={title:"Test Assignment",description:"This is a test assignment",due_date:"2024-02-08T23:59:59Z",points:100,submission_type:"text",is_published:!0},b=await K(G.homework.create,h,p,r.id);n("Homework Creation",`‚úÖ Success: ${b.title}`),n("Creating resource...","Starting");const C={title:"Test Resource",description:"This is a test resource",resource_type:"link",link_url:"https://example.com/test.pdf"},S=await K(G.resources.create,h,C,r.id);n("Resource Creation",`‚úÖ Success: ${S.title}`),n("Sending message...","Starting");const V={content:"This is a test message from the backend integration test.",is_announcement:!1},T=await K(G.messages.send,h,V,r.id);n("Message Sending","‚úÖ Success: Message sent"),n("Fetching courses...","Starting");const P=await K(G.courses.getInstructorCourses,r.id);n("Fetch Courses",`‚úÖ Success: Found ${P.length} courses`),n("Getting statistics...","Starting");const v=await K(G.courses.getStats,r.id);n("Course Statistics",`‚úÖ Success: ${v.totalCourses} total courses`),n("All Tests","üéâ All tests completed successfully!")}catch(N){console.error("Test failed:",N),t(N.message),n("Test Failed",`‚ùå Error: ${N.message}`)}finally{a(!1)}},d=()=>{l([]),t("")};return r?e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #3b82f6",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"üß™ Backend Integration Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:125,columnNumber:7},this),e.jsxDEV("p",{children:["User: ",r.email," (Role: ",((f=r.user_metadata)==null?void 0:f.role)||"Unknown",")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:126,columnNumber:7},this),e.jsxDEV("div",{style:{marginBottom:"1rem"},children:[e.jsxDEV("button",{onClick:m,disabled:s,style:{padding:"0.75rem 1.5rem",backgroundColor:s?"#9ca3af":"#3b82f6",color:"white",border:"none",borderRadius:"0.5rem",marginRight:"0.5rem"},children:s?"Running Tests...":"Run All Tests"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:129,columnNumber:9},this),e.jsxDEV("button",{onClick:d,style:{padding:"0.75rem 1.5rem",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"0.5rem"},children:"Clear Results"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:144,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:128,columnNumber:7},this),o&&e.jsxDEV("div",{style:{padding:"1rem",backgroundColor:"#fee2e2",border:"1px solid #fecaca",borderRadius:"0.5rem",color:"#dc2626",marginBottom:"1rem"},children:[e.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:167,columnNumber:11},this)," ",o]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:159,columnNumber:9},this),i.length>0&&e.jsxDEV("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1rem",maxHeight:"400px",overflowY:"auto"},children:[e.jsxDEV("h4",{children:"Test Results:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:180,columnNumber:11},this),i.map((N,c)=>e.jsxDEV("div",{style:{padding:"0.5rem",borderBottom:"1px solid #e2e8f0",fontFamily:"monospace",fontSize:"0.875rem"},children:[e.jsxDEV("span",{style:{color:"#6b7280"},children:["[",N.timestamp,"]"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:188,columnNumber:15},this)," ",e.jsxDEV("strong",{children:[N.test,":"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:189,columnNumber:15},this)," ",N.result]},c,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:182,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:172,columnNumber:9},this),e.jsxDEV("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[e.jsxDEV("h4",{children:"What this test does:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:203,columnNumber:9},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"‚úÖ Creates a test course with sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:205,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Creates a homework assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:206,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Creates a course resource"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:207,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Sends a test message"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:208,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Fetches instructor courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:209,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Gets course statistics"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:204,columnNumber:9},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Note:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:212,columnNumber:12},this)," This creates real data in your database. You may want to delete the test course afterward."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:212,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:195,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:124,columnNumber:5},this):e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #f59e0b",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"Backend Integration Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:117,columnNumber:9},this),e.jsxDEV("p",{children:"Please log in as an instructor to test the backend integration."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:116,columnNumber:7},this)}function Pi(){var N;const{user:r}=se(),[s,a]=j.useState(!1),[i,l]=j.useState([]),[o,t]=j.useState(""),n=(c,h,p="info")=>{l(b=>[...b,{test:c,result:h,status:p,timestamp:new Date().toLocaleTimeString()}])},m=async()=>{var c,h;if(!r){t("Please log in first");return}a(!0),t(""),l([]);try{n("Security Test Suite","Starting RLS policy verification...","info"),n("Current User",`${r.email} (Role: ${((c=r.user_metadata)==null?void 0:c.role)||"Unknown"})`,"info"),n("Course Policies","Testing course access control...","info");try{const p=await K(G.courses.getInstructorCourses,r.id);n("Course Access",`‚úÖ Can access ${p.length} courses as expected`,"success")}catch(p){n("Course Access",`‚ùå Unexpected error: ${p.message}`,"error")}if(((h=r.user_metadata)==null?void 0:h.role)==="instructor"){n("Course Creation","Testing instructor course creation...","info");try{const p={title:"RLS Test Course",description:"Testing RLS policies",category:"parenting",courseType:"group",sessionDuration:60,enrollmentLimit:5,isSelfPaced:!1,startDate:"2024-02-01",sessionTime:"14:00",selectedDays:["Tuesday"],hasEndDate:!0,endDate:"2024-03-01"},b=await K(G.courses.create,p,r);n("Course Creation",`‚úÖ Successfully created course: ${b.course.title}`,"success"),n("Homework Policies","Testing homework creation for owned course...","info");try{const C={title:"RLS Test Assignment",description:"Testing homework RLS",due_date:"2024-02-15T23:59:59Z",points:50,submission_type:"text",is_published:!0},S=await K(G.homework.create,b.course.id,C,r.id);n("Homework Creation",`‚úÖ Successfully created homework: ${S.title}`,"success")}catch(C){n("Homework Creation",`‚ùå Failed: ${C.message}`,"error")}n("Resource Policies","Testing resource creation for owned course...","info");try{const C={title:"RLS Test Resource",description:"Testing resource RLS",resource_type:"link",link_url:"https://example.com/test-resource"},S=await K(G.resources.create,b.course.id,C,r.id);n("Resource Creation",`‚úÖ Successfully created resource: ${S.title}`,"success")}catch(C){n("Resource Creation",`‚ùå Failed: ${C.message}`,"error")}n("Message Policies","Testing message sending for owned course...","info");try{const C={content:"RLS test message - verifying security policies",is_announcement:!1};await K(G.messages.send,b.course.id,C,r.id),n("Message Sending","‚úÖ Successfully sent message","success")}catch(C){n("Message Sending",`‚ùå Failed: ${C.message}`,"error")}}catch(p){n("Course Creation",`‚ùå Failed: ${p.message}`,"error")}}else n("Course Creation","‚ö†Ô∏è Skipped - User is not an instructor","warning");n("Statistics Policies","Testing statistics access...","info");try{const p=await K(G.courses.getStats,r.id);n("Statistics Access",`‚úÖ Successfully retrieved stats: ${p.totalCourses} courses`,"success")}catch(p){n("Statistics Access",`‚ùå Failed: ${p.message}`,"error")}n("Profile Policies","Testing profile access...","info"),n("Profile Access","‚úÖ Can access own profile data","success"),n("Security Test Complete","üîí RLS policy verification completed!","success")}catch(p){console.error("Security test failed:",p),t(p.message),n("Security Test Failed",`‚ùå Error: ${p.message}`,"error")}finally{a(!1)}},d=()=>{l([]),t("")};if(!r)return e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #f59e0b",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"üîí RLS Security Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:162,columnNumber:9},this),e.jsxDEV("p",{children:"Please log in to test Row Level Security policies."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:163,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:161,columnNumber:7},this);const f=c=>{switch(c){case"success":return"#10b981";case"error":return"#ef4444";case"warning":return"#f59e0b";default:return"#6b7280"}};return e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #8b5cf6",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"üîí RLS Security Policy Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:179,columnNumber:7},this),e.jsxDEV("p",{children:["User: ",r.email," (Role: ",((N=r.user_metadata)==null?void 0:N.role)||"Unknown",")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:180,columnNumber:7},this),e.jsxDEV("div",{style:{marginBottom:"1rem"},children:[e.jsxDEV("button",{onClick:m,disabled:s,style:{padding:"0.75rem 1.5rem",backgroundColor:s?"#9ca3af":"#8b5cf6",color:"white",border:"none",borderRadius:"0.5rem",marginRight:"0.5rem"},children:s?"Running Security Tests...":"Run Security Tests"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:183,columnNumber:9},this),e.jsxDEV("button",{onClick:d,style:{padding:"0.75rem 1.5rem",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"0.5rem"},children:"Clear Results"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:198,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:182,columnNumber:7},this),o&&e.jsxDEV("div",{style:{padding:"1rem",backgroundColor:"#fee2e2",border:"1px solid #fecaca",borderRadius:"0.5rem",color:"#dc2626",marginBottom:"1rem"},children:[e.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:221,columnNumber:11},this)," ",o]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:213,columnNumber:9},this),i.length>0&&e.jsxDEV("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1rem",maxHeight:"500px",overflowY:"auto"},children:[e.jsxDEV("h4",{children:"Security Test Results:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:234,columnNumber:11},this),i.map((c,h)=>e.jsxDEV("div",{style:{padding:"0.5rem",borderBottom:"1px solid #e2e8f0",fontFamily:"monospace",fontSize:"0.875rem"},children:[e.jsxDEV("span",{style:{color:"#6b7280"},children:["[",c.timestamp,"]"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:242,columnNumber:15},this)," ",e.jsxDEV("strong",{style:{color:f(c.status)},children:[c.test,":"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:243,columnNumber:15},this)," ",e.jsxDEV("span",{style:{color:f(c.status)},children:c.result},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:244,columnNumber:15},this)]},h,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:236,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:226,columnNumber:9},this),e.jsxDEV("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[e.jsxDEV("h4",{children:"üîí What this security test verifies:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:258,columnNumber:9},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"‚úÖ Course access control (instructors can only see their courses)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:260,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Course creation permissions (only instructors can create)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:261,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Homework management (only course owners can create)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:262,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Resource management (only course owners can add)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:263,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Message permissions (only course participants can send)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:264,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Statistics access (users can only see their own data)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:265,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:259,columnNumber:9},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Security Note:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:267,columnNumber:12},this)," This test creates real data to verify RLS policies work correctly."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:267,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:250,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:178,columnNumber:5},this)}Hs(()=>import("./fixProfile-BWudWgM5.js"),__vite__mapDeps([0,1,2]));function te({children:r,role:s}){const{user:a,profile:i}=se();return a?s&&(i==null?void 0:i.role)!==s?e.jsxDEV(ss,{to:"/"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:40,columnNumber:12},this):r:e.jsxDEV(ss,{to:"/login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:36,columnNumber:12},this)}function Ai(){return e.jsxDEV(Xs,{children:e.jsxDEV(As,{children:[e.jsxDEV(Qs,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:50,columnNumber:9},this),e.jsxDEV(Is,{children:[e.jsxDEV(Q,{path:"/login",element:e.jsxDEV(sr,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:52,columnNumber:41},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:52,columnNumber:11},this),e.jsxDEV(Q,{path:"/register",element:e.jsxDEV(rr,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:53,columnNumber:44},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:53,columnNumber:11},this),e.jsxDEV(Q,{path:"/auth/callback",element:e.jsxDEV(_i,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:54,columnNumber:49},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:54,columnNumber:11},this),e.jsxDEV(Q,{path:"/onboarding",element:e.jsxDEV(Mi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:55,columnNumber:46},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:55,columnNumber:11},this),e.jsxDEV(Q,{path:"/role-selection",element:e.jsxDEV(Ri,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:56,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:56,columnNumber:11},this),e.jsxDEV(Q,{path:"/",element:e.jsxDEV(Zs,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:58,columnNumber:36},this),children:[e.jsxDEV(Q,{index:!0,element:e.jsxDEV(er,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:59,columnNumber:35},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:59,columnNumber:13},this),e.jsxDEV(Q,{path:"marketplace",element:e.jsxDEV(ui,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:60,columnNumber:48},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:60,columnNumber:13},this),e.jsxDEV(Q,{path:"courses/:courseId",element:e.jsxDEV(Ni,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:61,columnNumber:54},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:61,columnNumber:13},this),e.jsxDEV(Q,{path:"my-courses",element:e.jsxDEV(te,{children:e.jsxDEV(gi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:65,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:64,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:63,columnNumber:13},this),e.jsxDEV(Q,{path:"manage-students",element:e.jsxDEV(te,{role:"parent",children:e.jsxDEV(xi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:71,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:70,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:69,columnNumber:13},this),e.jsxDEV(Q,{path:"learn/:courseId",element:e.jsxDEV(te,{children:e.jsxDEV(Ei,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:77,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:76,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:75,columnNumber:13},this),e.jsxDEV(Q,{path:"instructor/dashboard",element:e.jsxDEV(te,{role:"instructor",children:e.jsxDEV(Ci,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:83,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:82,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:81,columnNumber:13},this),e.jsxDEV(Q,{path:"instructor/create-course",element:e.jsxDEV(te,{role:"instructor",children:e.jsxDEV(Si,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:89,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:88,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:87,columnNumber:13},this),e.jsxDEV(Q,{path:"instructor/sessions/:courseId",element:e.jsxDEV(te,{role:"instructor",children:e.jsxDEV(gs,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:95,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:94,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:93,columnNumber:13},this),e.jsxDEV(Q,{path:"instructor/course/:courseId/manage",element:e.jsxDEV(te,{role:"instructor",children:e.jsxDEV(wi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:101,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:100,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:99,columnNumber:13},this),e.jsxDEV(Q,{path:"profile",element:e.jsxDEV(te,{children:e.jsxDEV(Vi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:107,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:106,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:105,columnNumber:13},this),e.jsxDEV(Q,{path:"test-backend",element:e.jsxDEV(te,{role:"instructor",children:e.jsxDEV(Li,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:113,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:112,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:111,columnNumber:13},this),e.jsxDEV(Q,{path:"test-security",element:e.jsxDEV(te,{children:e.jsxDEV(Pi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:119,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:118,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:117,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:58,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:51,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:49,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:48,columnNumber:5},this)}Oe.createRoot(document.getElementById("root")).render(e.jsxDEV(Os.StrictMode,{children:e.jsxDEV(Ai,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/main.jsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/main.jsx",lineNumber:7,columnNumber:3},void 0));export{E as s};
