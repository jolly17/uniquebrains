const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fixProfile-j9xDZ1ln.js","assets/react-vendor-Bky_MTeY.js","assets/supabase-vendor-DJU2_pxu.js"])))=>i.map(i=>d[i]);
import{r as h,b as $s,u as ie,L as H,O as Fs,d as cs,e as Ve,f as Be,B as Hs,R as qs,h as W,N as os,i as Bs}from"./react-vendor-Bky_MTeY.js";import{c as zs}from"./supabase-vendor-DJU2_pxu.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const t of l.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&a(t)}).observe(document,{childList:!0,subtree:!0});function i(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerPolicy&&(l.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?l.credentials="include":n.crossOrigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=i(n);fetch(n.href,l)}})();var ms={exports:{}},Fe={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var r=h,s=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),g=Symbol.for("react.memo"),N=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),b=Symbol.iterator,p="@@iterator";function y(u){if(u===null||typeof u!="object")return null;var k=b&&u[b]||u[p];return typeof k=="function"?k:null}var T=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function R(u){{for(var k=arguments.length,M=new Array(k>1?k-1:0),I=1;I<k;I++)M[I-1]=arguments[I];v("error",u,M)}}function v(u,k,M){{var I=T.ReactDebugCurrentFrame,F=I.getStackAddendum();F!==""&&(k+="%s",M=M.concat([F]));var Y=M.map(function(O){return String(O)});Y.unshift("Warning: "+k),Function.prototype.apply.call(console[u],console,Y)}}var L=!1,C=!1,U=!1,x=!1,S=!1,j;j=Symbol.for("react.module.reference");function _(u){return!!(typeof u=="string"||typeof u=="function"||u===a||u===l||S||u===n||u===m||u===d||x||u===f||L||C||U||typeof u=="object"&&u!==null&&(u.$$typeof===N||u.$$typeof===g||u.$$typeof===t||u.$$typeof===o||u.$$typeof===c||u.$$typeof===j||u.getModuleId!==void 0))}function w(u,k,M){var I=u.displayName;if(I)return I;var F=k.displayName||k.name||"";return F!==""?M+"("+F+")":M}function B(u){return u.displayName||"Context"}function V(u){if(u==null)return null;if(typeof u.tag=="number"&&R("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u;switch(u){case a:return"Fragment";case i:return"Portal";case l:return"Profiler";case n:return"StrictMode";case m:return"Suspense";case d:return"SuspenseList"}if(typeof u=="object")switch(u.$$typeof){case o:var k=u;return B(k)+".Consumer";case t:var M=u;return B(M._context)+".Provider";case c:return w(u,u.render,"ForwardRef");case g:var I=u.displayName||null;return I!==null?I:V(u.type)||"Memo";case N:{var F=u,Y=F._payload,O=F._init;try{return V(O(Y))}catch{return null}}}return null}var P=Object.assign,$=0,ae,te,oe,ve,ce,be,Se;function Ce(){}Ce.__reactDisabledLog=!0;function pe(){{if($===0){ae=console.log,te=console.info,oe=console.warn,ve=console.error,ce=console.group,be=console.groupCollapsed,Se=console.groupEnd;var u={configurable:!0,enumerable:!0,value:Ce,writable:!0};Object.defineProperties(console,{info:u,log:u,warn:u,error:u,group:u,groupCollapsed:u,groupEnd:u})}$++}}function ke(){{if($--,$===0){var u={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:P({},u,{value:ae}),info:P({},u,{value:te}),warn:P({},u,{value:oe}),error:P({},u,{value:ve}),group:P({},u,{value:ce}),groupCollapsed:P({},u,{value:be}),groupEnd:P({},u,{value:Se})})}$<0&&R("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var D=T.ReactCurrentDispatcher,q;function z(u,k,M){{if(q===void 0)try{throw Error()}catch(F){var I=F.stack.trim().match(/\n( *(at )?)/);q=I&&I[1]||""}return`
`+q+u}}var X=!1,me;{var we=typeof WeakMap=="function"?WeakMap:Map;me=new we}function Ee(u,k){if(!u||X)return"";{var M=me.get(u);if(M!==void 0)return M}var I;X=!0;var F=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var Y;Y=D.current,D.current=null,pe();try{if(k){var O=function(){throw Error()};if(Object.defineProperty(O.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(O,[])}catch(se){I=se}Reflect.construct(u,[],O)}else{try{O.call()}catch(se){I=se}u.call(O.prototype)}}else{try{throw Error()}catch(se){I=se}u()}}catch(se){if(se&&I&&typeof se.stack=="string"){for(var A=se.stack.split(`
`),ee=I.stack.split(`
`),J=A.length-1,K=ee.length-1;J>=1&&K>=0&&A[J]!==ee[K];)K--;for(;J>=1&&K>=0;J--,K--)if(A[J]!==ee[K]){if(J!==1||K!==1)do if(J--,K--,K<0||A[J]!==ee[K]){var ne=`
`+A[J].replace(" at new "," at ");return u.displayName&&ne.includes("<anonymous>")&&(ne=ne.replace("<anonymous>",u.displayName)),typeof u=="function"&&me.set(u,ne),ne}while(J>=1&&K>=0);break}}}finally{X=!1,D.current=Y,ke(),Error.prepareStackTrace=F}var fe=u?u.displayName||u.name:"",ue=fe?z(fe):"";return typeof u=="function"&&me.set(u,ue),ue}function de(u,k,M){return Ee(u,!1)}function Ne(u){var k=u.prototype;return!!(k&&k.isReactComponent)}function ge(u,k,M){if(u==null)return"";if(typeof u=="function")return Ee(u,Ne(u));if(typeof u=="string")return z(u);switch(u){case m:return z("Suspense");case d:return z("SuspenseList")}if(typeof u=="object")switch(u.$$typeof){case c:return de(u.render);case g:return ge(u.type,k,M);case N:{var I=u,F=I._payload,Y=I._init;try{return ge(Y(F),k,M)}catch{}}}return""}var xe=Object.prototype.hasOwnProperty,We={},Je=T.ReactDebugCurrentFrame;function De(u){if(u){var k=u._owner,M=ge(u.type,u._source,k?k.type:null);Je.setExtraStackFrame(M)}else Je.setExtraStackFrame(null)}function Es(u,k,M,I,F){{var Y=Function.call.bind(xe);for(var O in u)if(Y(u,O)){var A=void 0;try{if(typeof u[O]!="function"){var ee=Error((I||"React class")+": "+M+" type `"+O+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof u[O]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw ee.name="Invariant Violation",ee}A=u[O](k,O,I,M,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(J){A=J}A&&!(A instanceof Error)&&(De(F),R("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",I||"React class",M,O,typeof A),De(null)),A instanceof Error&&!(A.message in We)&&(We[A.message]=!0,De(F),R("Failed %s type: %s",M,A.message),De(null))}}}var xs=Array.isArray;function Re(u){return xs(u)}function ys(u){{var k=typeof Symbol=="function"&&Symbol.toStringTag,M=k&&u[Symbol.toStringTag]||u.constructor.name||"Object";return M}}function vs(u){try{return Ge(u),!1}catch{return!0}}function Ge(u){return""+u}function Ke(u){if(vs(u))return R("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",ys(u)),Ge(u)}var ye=T.ReactCurrentOwner,Ss={key:!0,ref:!0,__self:!0,__source:!0},Xe,Ze,Me;Me={};function Cs(u){if(xe.call(u,"ref")){var k=Object.getOwnPropertyDescriptor(u,"ref").get;if(k&&k.isReactWarning)return!1}return u.ref!==void 0}function ks(u){if(xe.call(u,"key")){var k=Object.getOwnPropertyDescriptor(u,"key").get;if(k&&k.isReactWarning)return!1}return u.key!==void 0}function Ds(u,k){if(typeof u.ref=="string"&&ye.current&&k&&ye.current.stateNode!==k){var M=V(ye.current.type);Me[M]||(R('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',V(ye.current.type),u.ref),Me[M]=!0)}}function Ts(u,k){{var M=function(){Xe||(Xe=!0,R("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",k))};M.isReactWarning=!0,Object.defineProperty(u,"key",{get:M,configurable:!0})}}function Us(u,k){{var M=function(){Ze||(Ze=!0,R("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",k))};M.isReactWarning=!0,Object.defineProperty(u,"ref",{get:M,configurable:!0})}}var Vs=function(u,k,M,I,F,Y,O){var A={$$typeof:s,type:u,key:k,ref:M,props:O,_owner:Y};return A._store={},Object.defineProperty(A._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(A,"_self",{configurable:!1,enumerable:!1,writable:!1,value:I}),Object.defineProperty(A,"_source",{configurable:!1,enumerable:!1,writable:!1,value:F}),Object.freeze&&(Object.freeze(A.props),Object.freeze(A)),A};function ws(u,k,M,I,F){{var Y,O={},A=null,ee=null;M!==void 0&&(Ke(M),A=""+M),ks(k)&&(Ke(k.key),A=""+k.key),Cs(k)&&(ee=k.ref,Ds(k,F));for(Y in k)xe.call(k,Y)&&!Ss.hasOwnProperty(Y)&&(O[Y]=k[Y]);if(u&&u.defaultProps){var J=u.defaultProps;for(Y in J)O[Y]===void 0&&(O[Y]=J[Y])}if(A||ee){var K=typeof u=="function"?u.displayName||u.name||"Unknown":u;A&&Ts(O,K),ee&&Us(O,K)}return Vs(u,A,ee,F,I,ye.current,O)}}var _e=T.ReactCurrentOwner,Qe=T.ReactDebugCurrentFrame;function he(u){if(u){var k=u._owner,M=ge(u.type,u._source,k?k.type:null);Qe.setExtraStackFrame(M)}else Qe.setExtraStackFrame(null)}var Le;Le=!1;function Pe(u){return typeof u=="object"&&u!==null&&u.$$typeof===s}function es(){{if(_e.current){var u=V(_e.current.type);if(u)return`

Check the render method of \``+u+"`."}return""}}function Rs(u){{if(u!==void 0){var k=u.fileName.replace(/^.*[\\\/]/,""),M=u.lineNumber;return`

Check your code at `+k+":"+M+"."}return""}}var ss={};function Ms(u){{var k=es();if(!k){var M=typeof u=="string"?u:u.displayName||u.name;M&&(k=`

Check the top-level render call using <`+M+">.")}return k}}function rs(u,k){{if(!u._store||u._store.validated||u.key!=null)return;u._store.validated=!0;var M=Ms(k);if(ss[M])return;ss[M]=!0;var I="";u&&u._owner&&u._owner!==_e.current&&(I=" It was passed a child from "+V(u._owner.type)+"."),he(u),R('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',M,I),he(null)}}function is(u,k){{if(typeof u!="object")return;if(Re(u))for(var M=0;M<u.length;M++){var I=u[M];Pe(I)&&rs(I,k)}else if(Pe(u))u._store&&(u._store.validated=!0);else if(u){var F=y(u);if(typeof F=="function"&&F!==u.entries)for(var Y=F.call(u),O;!(O=Y.next()).done;)Pe(O.value)&&rs(O.value,k)}}}function _s(u){{var k=u.type;if(k==null||typeof k=="string")return;var M;if(typeof k=="function")M=k.propTypes;else if(typeof k=="object"&&(k.$$typeof===c||k.$$typeof===g))M=k.propTypes;else return;if(M){var I=V(k);Es(M,u.props,"prop",I,u)}else if(k.PropTypes!==void 0&&!Le){Le=!0;var F=V(k);R("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",F||"Unknown")}typeof k.getDefaultProps=="function"&&!k.getDefaultProps.isReactClassApproved&&R("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Ls(u){{for(var k=Object.keys(u.props),M=0;M<k.length;M++){var I=k[M];if(I!=="children"&&I!=="key"){he(u),R("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",I),he(null);break}}u.ref!==null&&(he(u),R("Invalid attribute `ref` supplied to `React.Fragment`."),he(null))}}var as={};function Ps(u,k,M,I,F,Y){{var O=_(u);if(!O){var A="";(u===void 0||typeof u=="object"&&u!==null&&Object.keys(u).length===0)&&(A+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var ee=Rs(F);ee?A+=ee:A+=es();var J;u===null?J="null":Re(u)?J="array":u!==void 0&&u.$$typeof===s?(J="<"+(V(u.type)||"Unknown")+" />",A=" Did you accidentally export a JSX literal instead of a component?"):J=typeof u,R("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",J,A)}var K=ws(u,k,M,F,Y);if(K==null)return K;if(O){var ne=k.children;if(ne!==void 0)if(I)if(Re(ne)){for(var fe=0;fe<ne.length;fe++)is(ne[fe],u);Object.freeze&&Object.freeze(ne)}else R("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else is(ne,u)}if(xe.call(k,"key")){var ue=V(u),se=Object.keys(k).filter(function(Os){return Os!=="key"}),Ie=se.length>0?"{key: someKey, "+se.join(": ..., ")+": ...}":"{key: someKey}";if(!as[ue+Ie]){var As=se.length>0?"{"+se.join(": ..., ")+": ...}":"{}";R(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Ie,ue,As,ue),as[ue+Ie]=!0}}return u===a?Ls(K):_s(K),K}}var Is=Ps;Fe.Fragment=a,Fe.jsxDEV=Is})();ms.exports=Fe;var e=ms.exports,He={},Ae=$s;{var Te=Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;He.createRoot=function(r,s){Te.usingClientEntryPoint=!0;try{return Ae.createRoot(r,s)}finally{Te.usingClientEntryPoint=!1}},He.hydrateRoot=function(r,s,i){Te.usingClientEntryPoint=!0;try{return Ae.hydrateRoot(r,s,i)}finally{Te.usingClientEntryPoint=!1}}}const Ys="modulepreload",Ws=function(r){return"/"+r},ns={},Js=function(s,i,a){let n=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),o=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));n=Promise.allSettled(i.map(c=>{if(c=Ws(c),c in ns)return;ns[c]=!0;const m=c.endsWith(".css"),d=m?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${c}"]${d}`))return;const g=document.createElement("link");if(g.rel=m?"stylesheet":Ys,m||(g.as="script"),g.crossOrigin="",g.href=c,o&&g.setAttribute("nonce",o),document.head.appendChild(g),m)return new Promise((N,f)=>{g.addEventListener("load",N),g.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${c}`)))})}))}function l(t){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=t,window.dispatchEvent(o),!o.defaultPrevented)throw t}return n.then(t=>{for(const o of t||[])o.status==="rejected"&&l(o.reason);return s().catch(l)})},Gs="https://wxfxvuvlpjxnyxhpquyw.supabase.co",Ks="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4Znh2dXZscGp4bnl4aHBxdXl3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxODkyNzEsImV4cCI6MjA4MDc2NTI3MX0.rdFXyHC-7W5JRa-AtNeU82p1vPGI8oOWuQdQZASFD0c",E=zs(Gs,Ks,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"uniquebrains-auth",flowType:"pkce"},db:{schema:"public"},global:{headers:{"x-application-name":"uniquebrains"}}});async function Xs({email:r,password:s,firstName:i,lastName:a,role:n="parent"}){try{if(!r||!s||!i||!a)return{user:null,session:null,error:{message:"All fields are required"}};if(s.length<8)return{user:null,session:null,error:{message:"Password must be at least 8 characters long"}};if(!["instructor","parent","admin"].includes(n))return{user:null,session:null,error:{message:"Invalid role specified. Only parents and instructors can create accounts."}};const{data:t,error:o}=await E.auth.signUp({email:r,password:s,options:{data:{first_name:i,last_name:a,role:n},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(o)return{user:null,session:null,error:o};if(t.user){const{error:c}=await E.from("profiles").insert({id:t.user.id,email:r,first_name:i,last_name:a,role:n});c&&c.code!=="23505"&&console.error("Error creating profile:",c)}return{user:t.user,session:t.session,error:null}}catch(l){return console.error("Sign up error:",l),{user:null,session:null,error:l}}}async function Zs(r,s){try{if(!r||!s)return{user:null,session:null,profile:null,error:{message:"Email and password are required"}};const{data:i,error:a}=await E.auth.signInWithPassword({email:r,password:s});if(a)return{user:null,session:null,profile:null,error:a};const{data:n,error:l}=await E.from("profiles").select("*").eq("id",i.user.id).single();return l?(console.error("Error fetching profile:",l),{user:i.user,session:i.session,profile:null,error:{message:"Profile not found"}}):{user:i.user,session:i.session,profile:n,error:null}}catch(i){return console.error("Sign in error:",i),{user:null,session:null,profile:null,error:i}}}async function Qs(){try{const{error:r}=await E.auth.signOut();return{error:r}}catch(r){return console.error("Sign out error:",r),{error:r}}}async function er(){try{const{data:{session:r},error:s}=await E.auth.getSession();return s?{session:null,user:null,error:s}:{session:r,user:(r==null?void 0:r.user)||null,error:null}}catch(r){return console.error("Get session error:",r),{session:null,user:null,error:r}}}async function Oe(){try{const{data:{user:r},error:s}=await E.auth.getUser();if(s||!r)return{profile:null,error:s||{message:"Not authenticated"}};const{data:i,error:a}=await E.from("profiles").select("*").eq("id",r.id).single();return a?{profile:null,error:a}:{profile:i,error:null}}catch(r){return console.error("Get profile error:",r),{profile:null,error:r}}}function sr(r){const{data:{subscription:s}}=E.auth.onAuthStateChange(r);return s}const ds=h.createContext(null);function rr({children:r}){const[s,i]=h.useState(null),[a,n]=h.useState(null),[l,t]=h.useState(null),[o,c]=h.useState([]),[m,d]=h.useState(null),[g,N]=h.useState(!0);h.useEffect(()=>{er().then(({session:x,user:S})=>{x&&S?(t(x),i(S),Oe().then(({profile:j})=>{j&&(n(j),j.role==="parent"&&f(S.id)),N(!1)})):N(!1)});const U=sr((x,S)=>{t(S),i((S==null?void 0:S.user)||null),S!=null&&S.user?Oe().then(({profile:j})=>{j&&(n(j),j.role==="parent"&&f(S.user.id))}):(n(null),c([]),d(null))});return()=>{U==null||U.unsubscribe()}},[]);const f=async U=>{try{const{data:x,error:S}=await E.from("students").select("*").eq("parent_id",U).order("created_at",{ascending:!0});if(S){console.error("Error loading students:",S);return}c(x||[]),x&&x.length>0&&!m&&d(x[0])}catch(x){console.error("Load students error:",x)}},b=async(U,x)=>{const{user:S,session:j,profile:_,error:w}=await Zs(U,x);return w?(console.error("Login error:",w),{error:w}):(i(S),t(j),n(_),{user:S,profile:_,error:null})},p=async U=>{const{user:x,session:S,error:j}=await Xs(U);if(j)return console.error("Registration error:",j),{error:j};if(i(x),t(S),x){const{profile:_}=await Oe();n(_)}return{user:x,error:null}},y=async U=>{if(console.log("‚ûï Adding student:",U),console.log("üë§ Current user:",s==null?void 0:s.id,"Role:",a==null?void 0:a.role),!s||(a==null?void 0:a.role)!=="parent")return console.error("‚ùå Only parents can add students"),{error:"Only parents can add students"};try{const x={parent_id:s.id,first_name:U.firstName,last_name:(a==null?void 0:a.last_name)||U.lastName||"Student",age:parseInt(U.age),date_of_birth:U.dateOfBirth||null,grade_level:U.gradeLevel||null,neurodiversity_profile:U.neurodiversityProfile||[],other_needs:U.otherNeeds||null,interests:U.interests||[],bio:U.bio||null};console.log("üìù Student record to insert:",x);const{data:S,error:j}=await E.from("students").insert([x]).select().single();if(console.log("üíæ Insert result:",{newStudent:S,error:j}),j)return console.error("‚ùå Error creating student:",j),{error:j.message};const _=[...o,S];return c(_),console.log("‚úÖ Students updated:",_.length),_.length===1&&(d(S),console.log("üéØ Set as active student:",S)),{student:S,error:null}}catch(x){return console.error("üí• Student creation error:",x),{error:x.message}}},T=async(U,x)=>{if(!s||(a==null?void 0:a.role)!=="parent")return console.error("Only parents can update students"),{error:"Only parents can update students"};try{const{data:S,error:j}=await E.from("students").update(x).eq("id",U).eq("parent_id",s.id).select().single();if(j)return console.error("Error updating student:",j),{error:j.message};const _=o.map(w=>w.id===U?S:w);return c(_),(m==null?void 0:m.id)===U&&d(S),{student:S,error:null}}catch(S){return console.error("Student update error:",S),{error:S.message}}},R=async U=>{if(!s||(a==null?void 0:a.role)!=="parent")return console.error("Only parents can delete students"),{error:"Only parents can delete students"};try{const{error:x}=await E.from("students").delete().eq("id",U).eq("parent_id",s.id);if(x)return console.error("Error deleting student:",x),{error:x.message};const S=o.filter(j=>j.id!==U);if(c(S),(m==null?void 0:m.id)===U){const j=S[0]||null;d(j)}return{error:null}}catch(x){return console.error("Student deletion error:",x),{error:x.message}}},v=U=>{if(U===null)d(null);else{const x=o.find(S=>S.id===U);x&&d(x)}},L=async()=>{s&&(a==null?void 0:a.role)==="parent"&&await f(s.id)},C=async()=>{const{error:U}=await Qs();return U?(console.error("Logout error:",U),{error:U}):(i(null),t(null),n(null),c([]),d(null),{error:null})};return g?e.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/context/AuthContext.jsx",lineNumber:307,columnNumber:12},this):e.jsxDEV(ds.Provider,{value:{user:s,profile:a,session:l,students:o,activeStudent:m,loading:g,login:b,register:p,logout:C,addStudent:y,updateStudent:T,deleteStudent:R,switchStudent:v,refreshStudents:L},children:r},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/context/AuthContext.jsx",lineNumber:311,columnNumber:5},this)}function G(){const r=h.useContext(ds);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function Ns({size:r="medium"}){const s={small:{height:50},medium:{height:80},large:{height:100}},{height:i}=s[r];return e.jsxDEV("div",{style:{display:"flex",alignItems:"center"},children:e.jsxDEV("img",{src:"/uniquebrains-logo.png.png",alt:"UniqueBrains",style:{height:`${i}px`,width:"auto",backgroundColor:"transparent"},onError:a=>{a.target.style.display="none",a.target.parentElement.innerHTML='<span style="font-size: 1.5rem; font-weight: 700; background: linear-gradient(135deg, #6366f1 0%, #ec4899 50%, #f59e0b 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">UniqueBrains</span>'}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Logo.jsx",lineNumber:12,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Logo.jsx",lineNumber:11,columnNumber:5},this)}function ir(){const{user:r,profile:s,students:i,activeStudent:a,switchStudent:n,logout:l}=G(),t=ie(),[o,c]=h.useState(!1),[m,d]=h.useState(!1),g=b=>b?b.charAt(0).toUpperCase()+b.slice(1).toLowerCase():"",N=()=>{l(),t("/login"),c(!1)},f=()=>{c(!1)};return e.jsxDEV("div",{className:"layout",children:[e.jsxDEV("header",{className:"header",children:e.jsxDEV("div",{className:"header-content",children:[e.jsxDEV(H,{to:"/",className:"logo",onClick:f,children:e.jsxDEV(Ns,{size:"medium"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:34,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:33,columnNumber:11},this),e.jsxDEV("button",{className:"mobile-menu-toggle",onClick:()=>c(!o),"aria-label":"Toggle menu",children:o?"‚úï":"‚ò∞"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:37,columnNumber:11},this),e.jsxDEV("nav",{className:`nav ${o?"nav-open":""}`,children:[e.jsxDEV(H,{to:"/marketplace",className:"nav-link",onClick:f,children:"Marketplace"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:46,columnNumber:13},this),r&&e.jsxDEV(e.Fragment,{children:[(s==null?void 0:s.role)==="parent"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(H,{to:"/my-courses",className:"nav-link",onClick:f,children:"My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:52,columnNumber:21},this),e.jsxDEV(H,{to:"/manage-students",className:"nav-link",onClick:f,children:"Manage Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:53,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:51,columnNumber:19},this),(s==null?void 0:s.role)==="instructor"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(H,{to:"/instructor/dashboard",className:"nav-link",onClick:f,children:"Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:59,columnNumber:21},this),e.jsxDEV(H,{to:"/instructor/create-course",className:"nav-link",onClick:f,children:"Create Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:60,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:58,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:49,columnNumber:15},this),e.jsxDEV("div",{className:"mobile-header-actions",children:r?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"mobile-user-info",children:[e.jsxDEV("span",{className:"user-name",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:70,columnNumber:21},this),e.jsxDEV("span",{className:"user-role",children:["(",s==null?void 0:s.role,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:71,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:69,columnNumber:19},this),e.jsxDEV(H,{to:"/profile",className:"btn-secondary",onClick:f,children:"Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:73,columnNumber:19},this),e.jsxDEV("button",{onClick:N,className:"btn-secondary",children:"Logout"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:74,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:68,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(H,{to:"/login",className:"btn-secondary",onClick:f,children:"Login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:78,columnNumber:19},this),e.jsxDEV(H,{to:"/register",className:"btn-primary",onClick:f,children:"Sign Up"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:79,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:77,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:66,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:45,columnNumber:11},this),e.jsxDEV("div",{className:"desktop-header-actions",children:r?e.jsxDEV("div",{className:"user-menu",children:[(s==null?void 0:s.role)==="parent"&&e.jsxDEV("div",{className:"student-switcher",children:[e.jsxDEV("button",{className:"active-student-btn",onClick:()=>d(!m),children:["üë§ ",a?g(a.first_name):`${g(s==null?void 0:s.first_name)} (Me)`,e.jsxDEV("span",{className:"dropdown-arrow",children:"‚ñº"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:95,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:90,columnNumber:21},this),m&&e.jsxDEV("div",{className:"student-dropdown",children:[e.jsxDEV("button",{className:`student-option ${a?"":"active"}`,onClick:()=>{n(null),d(!1)},children:["üë§ ",g(s==null?void 0:s.first_name)," (Me) ",!a&&"‚úì"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:100,columnNumber:25},this),e.jsxDEV("div",{className:"dropdown-divider"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:111,columnNumber:25},this),i.map(b=>e.jsxDEV("button",{className:`student-option ${(a==null?void 0:a.id)===b.id?"active":""}`,onClick:()=>{n(b.id),d(!1)},children:["üë∂ ",g(b.first_name)," ",(a==null?void 0:a.id)===b.id&&"‚úì"]},b.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:115,columnNumber:27},this)),e.jsxDEV("div",{className:"dropdown-divider"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:127,columnNumber:25},this),e.jsxDEV(H,{to:"/manage-students",className:"manage-students-link",onClick:()=>d(!1),children:"+ Manage Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:128,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:98,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:89,columnNumber:19},this),e.jsxDEV("span",{className:"user-name",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:139,columnNumber:17},this),e.jsxDEV("span",{className:"user-role",children:["(",s==null?void 0:s.role,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:140,columnNumber:17},this),e.jsxDEV(H,{to:"/profile",className:"btn-secondary",children:"Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:141,columnNumber:17},this),e.jsxDEV("button",{onClick:N,className:"btn-secondary",children:"Logout"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:142,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:87,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(H,{to:"/login",className:"btn-secondary",children:"Login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:146,columnNumber:17},this),e.jsxDEV(H,{to:"/register",className:"btn-primary",children:"Sign Up"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:147,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:145,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:85,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:32,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:31,columnNumber:7},this),e.jsxDEV("main",{className:"main-content",children:e.jsxDEV(Fs,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:155,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:154,columnNumber:7},this),e.jsxDEV("footer",{className:"footer",children:e.jsxDEV("div",{className:"footer-content",children:[e.jsxDEV("p",{children:"¬© 2025 UniqueBrains. Where every brain learns differently."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:160,columnNumber:11},this),e.jsxDEV("div",{className:"footer-social",children:e.jsxDEV("a",{href:"https://www.instagram.com/ouruniquebrains",target:"_blank",rel:"noopener noreferrer",className:"social-link instagram-link","aria-label":"Follow us on Instagram",children:[e.jsxDEV("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"instagram-icon",children:[e.jsxDEV("defs",{children:e.jsxDEV("linearGradient",{id:"instagram-gradient",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[e.jsxDEV("stop",{offset:"0%",style:{stopColor:"#FED373",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:178,columnNumber:21},this),e.jsxDEV("stop",{offset:"15%",style:{stopColor:"#F15245",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:179,columnNumber:21},this),e.jsxDEV("stop",{offset:"35%",style:{stopColor:"#D92E7F",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:180,columnNumber:21},this),e.jsxDEV("stop",{offset:"65%",style:{stopColor:"#9B36B7",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:181,columnNumber:21},this),e.jsxDEV("stop",{offset:"100%",style:{stopColor:"#515ECF",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:182,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:177,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:176,columnNumber:17},this),e.jsxDEV("path",{fill:"url(#instagram-gradient)",d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:185,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:169,columnNumber:15},this),"Follow us on Instagram"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:162,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:161,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:159,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:158,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:30,columnNumber:5},this)}function ar(){const{pathname:r}=cs();return h.useEffect(()=>{window.scrollTo(0,0)},[r]),null}function or(){return e.jsxDEV("div",{className:"landing-page",children:[e.jsxDEV("section",{className:"hero",children:e.jsxDEV("div",{className:"hero-content",children:[e.jsxDEV("h1",{className:"hero-title",children:e.jsxDEV("span",{className:"gradient-text",children:"UniqueBrains"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:10,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:9,columnNumber:11},this),e.jsxDEV("p",{className:"hero-tagline",children:"Where every brain learns differently"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:12,columnNumber:11},this),e.jsxDEV("p",{className:"hero-description",children:"A free learning marketplace connecting neurodivergent children with specialized instructors who understand and celebrate their unique learning styles."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:13,columnNumber:11},this),e.jsxDEV("div",{className:"hero-actions",children:[e.jsxDEV(H,{to:"/marketplace",className:"btn-primary-large",children:"Explore Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:18,columnNumber:13},this),e.jsxDEV("div",{className:"donation-buttons",children:[e.jsxDEV("a",{href:"https://www.gofundme.com/f/help-me-support-autism-awareness-and-families-with-genai",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary-large",children:"Support Our Mission ‚ù§Ô∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:22,columnNumber:15},this),e.jsxDEV("a",{href:"https://milaap.org/fundraisers/support-autistic-kids-1",target:"_blank",rel:"noopener noreferrer",className:"btn-secondary-large donation-india",children:"Donate (India) üáÆüá≥"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:30,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:21,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:17,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:8,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:7,columnNumber:7},this),e.jsxDEV("section",{className:"mission",children:e.jsxDEV("div",{className:"mission-content",children:[e.jsxDEV("h2",{children:"Our Mission"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:45,columnNumber:11},this),e.jsxDEV("p",{children:["UniqueBrains is a ",e.jsxDEV("strong",{children:"100% free platform"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:47,columnNumber:31},this)," dedicated to making quality education accessible to neurodivergent children. We believe that every child deserves to learn in a way that honors their unique brain, without financial barriers."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:46,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:44,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:43,columnNumber:7},this),e.jsxDEV("section",{className:"features",children:[e.jsxDEV("h2",{children:"What Makes Us Different"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:55,columnNumber:9},this),e.jsxDEV("div",{className:"features-grid",children:[e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üß©"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:58,columnNumber:13},this),e.jsxDEV("h3",{children:"Neurodiversity-First Design"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:59,columnNumber:13},this),e.jsxDEV("p",{children:"Built from the ground up with neurodivergent learners in mind. Clear interfaces, consistent patterns, and supportive guidance at every step."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:57,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:67,columnNumber:13},this),e.jsxDEV("h3",{children:"Specialized Instructors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:68,columnNumber:13},this),e.jsxDEV("p",{children:"Connect with educators trained in neurodiversity-affirming practices who understand ADHD, Autism, Dyslexia, and other learning differences."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:69,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:66,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üé®"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:76,columnNumber:13},this),e.jsxDEV("h3",{children:"Diverse Learning Paths"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:77,columnNumber:13},this),e.jsxDEV("p",{children:"From music and art to coding and science, explore courses designed for different learning styles and interests."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:75,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üíù"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:85,columnNumber:13},this),e.jsxDEV("h3",{children:"Always Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:86,columnNumber:13},this),e.jsxDEV("p",{children:"No subscriptions, no hidden fees. Quality education for neurodivergent children should never be behind a paywall."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:87,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:84,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"ü§ù"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:94,columnNumber:13},this),e.jsxDEV("h3",{children:"Flexible Scheduling"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:95,columnNumber:13},this),e.jsxDEV("p",{children:"Choose between group classes or one-on-one sessions. Learn at your own pace, on your own schedule."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:96,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:93,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üåü"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:103,columnNumber:13},this),e.jsxDEV("h3",{children:"Celebrate Differences"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:104,columnNumber:13},this),e.jsxDEV("p",{children:`We don't try to "fix" anyone. We celebrate neurodiversity and help every child discover their unique strengths.`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:105,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:56,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:54,columnNumber:7},this),e.jsxDEV("section",{className:"support-section",children:e.jsxDEV("div",{className:"support-content",children:[e.jsxDEV("h2",{children:"Help Us Keep UniqueBrains Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:115,columnNumber:11},this),e.jsxDEV("p",{children:"Running a platform takes resources‚Äîservers, development, and support. Your donation helps us:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:116,columnNumber:11},this),e.jsxDEV("ul",{className:"support-list",children:[e.jsxDEV("li",{children:"‚úÖ Keep the platform 100% free for all families"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:120,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Add new features and courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:121,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Support instructors who volunteer their time"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:122,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Maintain and improve our technology"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:123,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Reach more neurodivergent children worldwide"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:124,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:119,columnNumber:11},this),e.jsxDEV("div",{className:"support-actions",children:[e.jsxDEV("div",{className:"donation-buttons",children:[e.jsxDEV("a",{href:"https://www.gofundme.com/f/help-me-support-autism-awareness-and-families-with-genai",target:"_blank",rel:"noopener noreferrer",className:"btn-donate",children:"Donate Now"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:128,columnNumber:15},this),e.jsxDEV("a",{href:"https://milaap.org/fundraisers/support-autistic-kids-1",target:"_blank",rel:"noopener noreferrer",className:"btn-donate donation-india",children:"Donate (India) üáÆüá≥"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:136,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:127,columnNumber:13},this),e.jsxDEV("a",{href:"mailto:hello@uniquebrains.org?subject=Interested in Volunteering as an Instructor&body=Hi UniqueBrains Team,%0D%0A%0D%0AI'm interested in volunteering my time to teach courses on your platform.%0D%0A%0D%0APlease let me know how I can get started!%0D%0A%0D%0AThank you!",className:"btn-volunteer",children:"Volunteer as Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:126,columnNumber:11},this),e.jsxDEV("p",{className:"support-note",children:"Every contribution, no matter how small, makes a difference in a child's learning journey."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:152,columnNumber:11},this),e.jsxDEV("p",{className:"volunteer-note",children:[e.jsxDEV("strong",{children:"Are you an instructor?"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:156,columnNumber:13},this)," Share your expertise and make a difference! We're looking for passionate educators to volunteer their time teaching neurodivergent children."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:155,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:114,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:113,columnNumber:7},this),e.jsxDEV("section",{className:"cta-section",children:e.jsxDEV("div",{className:"cta-content",children:[e.jsxDEV("h2",{children:"Ready to Start Learning?"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:164,columnNumber:11},this),e.jsxDEV("p",{children:"Join our community of unique learners and supportive instructors today."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:165,columnNumber:11},this),e.jsxDEV("div",{className:"cta-actions",children:[e.jsxDEV(H,{to:"/register",className:"btn-primary-large",children:"Sign Up Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:167,columnNumber:13},this),e.jsxDEV(H,{to:"/marketplace",className:"btn-secondary-large",children:"Browse Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:170,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:166,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:163,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:162,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:6,columnNumber:5},this)}function gs({provider:r,children:s,className:i=""}){const a=async()=>{try{const n={redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}};r==="google"&&(n.scopes="email profile");const{data:l,error:t}=await E.auth.signInWithOAuth({provider:r,options:n});if(t)throw t}catch(n){console.error(`OAuth ${r} error:`,n),alert(`Failed to sign in with ${r}: ${n.message}`)}};return e.jsxDEV("button",{onClick:a,className:`oauth-button oauth-button-${r} ${i}`,type:"button",children:s},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/OAuthButton.jsx",lineNumber:44,columnNumber:5},this)}function nr(){const[r,s]=h.useState(""),[i,a]=h.useState(""),[n,l]=h.useState("parent"),[t,o]=h.useState(""),{login:c}=G(),m=ie(),d=async g=>{g.preventDefault(),o("");try{const N=await c(r,i,n);N.error?N.error.message&&N.error.message.includes("Email not confirmed")?o("Please verify your email address. Check your inbox for the confirmation link."):o(N.error.message||"Invalid credentials"):m("/marketplace")}catch(N){N.message&&N.message.includes("Email not confirmed")?o("Please verify your email address. Check your inbox for the confirmation link."):o("Invalid credentials")}};return e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:[e.jsxDEV("div",{className:"auth-logo",children:e.jsxDEV(Ns,{size:"medium"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:45,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:44,columnNumber:9},this),e.jsxDEV("h2",{children:"Welcome Back"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:47,columnNumber:9},this),e.jsxDEV("p",{className:"auth-subtitle",children:"Sign in to continue your learning journey"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:48,columnNumber:9},this),t&&e.jsxDEV("div",{className:"error-message",children:t},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:50,columnNumber:19},this),e.jsxDEV("div",{className:"role-selection",children:[e.jsxDEV("p",{className:"role-label",children:"I want to sign in as:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:53,columnNumber:11},this),e.jsxDEV("div",{className:"role-cards",children:[e.jsxDEV("div",{className:`role-card ${n==="parent"?"selected":""}`,onClick:()=>l("parent"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:59,columnNumber:15},this),e.jsxDEV("h3",{children:"Parent"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:60,columnNumber:15},this),e.jsxDEV("p",{children:"Manage my children's learning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:61,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:55,columnNumber:13},this),e.jsxDEV("div",{className:`role-card ${n==="instructor"?"selected":""}`,onClick:()=>l("instructor"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:67,columnNumber:15},this),e.jsxDEV("h3",{children:"Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:68,columnNumber:15},this),e.jsxDEV("p",{children:"Teach and inspire"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:69,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:63,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:54,columnNumber:11},this),e.jsxDEV("p",{className:"role-note",children:e.jsxDEV("small",{children:"Note: Students don't have their own login - parents manage student profiles"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:73,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:52,columnNumber:9},this),e.jsxDEV("div",{className:"oauth-section",children:[e.jsxDEV("button",{type:"button",className:"oauth-button oauth-button-google",onClick:()=>{localStorage.setItem("oauth_role_preference",n),document.querySelector(".oauth-button-google-hidden").click()},children:[e.jsxDEV("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxDEV("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:89,columnNumber:15},this),e.jsxDEV("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:90,columnNumber:15},this),e.jsxDEV("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:91,columnNumber:15},this),e.jsxDEV("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:92,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:88,columnNumber:13},this),"Continue with Google as ",n==="instructor"?"Instructor":"Parent"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:78,columnNumber:11},this),e.jsxDEV("div",{style:{display:"none"},children:e.jsxDEV(gs,{provider:"google",className:"oauth-button-google-hidden",children:"Hidden"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:99,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:98,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:77,columnNumber:9},this),e.jsxDEV("div",{className:"divider",children:e.jsxDEV("span",{children:"or"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:106,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:105,columnNumber:9},this),e.jsxDEV("form",{onSubmit:d,className:"auth-form",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"email",children:"Email"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:111,columnNumber:13},this),e.jsxDEV("input",{id:"email",type:"email",value:r,onChange:g=>s(g.target.value),required:!0,placeholder:"your@email.com"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:112,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:110,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:123,columnNumber:13},this),e.jsxDEV("input",{id:"password",type:"password",value:i,onChange:g=>a(g.target.value),required:!0,placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:124,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:122,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn-primary btn-full",children:["Sign In as ",n==="parent"?"Parent":"Instructor"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:134,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:109,columnNumber:9},this),e.jsxDEV("p",{className:"auth-footer",children:["Don't have an account? ",e.jsxDEV(H,{to:"/register",children:"Sign up"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:140,columnNumber:34},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:139,columnNumber:9},this),e.jsxDEV("div",{className:"demo-accounts",children:[e.jsxDEV("p",{className:"demo-title",children:"Demo Accounts:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:144,columnNumber:11},this),e.jsxDEV("p",{children:"Parent: parent@demo.com / Password: any"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:145,columnNumber:11},this),e.jsxDEV("p",{children:"Instructor: instructor@demo.com / Password: any"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:146,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:143,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:43,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:42,columnNumber:5},this)}function lr(){const[r,s]=h.useState("parent"),[i,a]=h.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:"parent"}),[n,l]=h.useState(""),[t,o]=h.useState(!1),{register:c}=G();ie();const m=g=>{a({...i,[g.target.name]:g.target.value})},d=async g=>{if(g.preventDefault(),l(""),i.password!==i.confirmPassword){l("Passwords do not match");return}const N={...i,role:r};try{const f=await c(N);f.error?l("Registration failed: "+f.error.message):o(!0)}catch{l("Registration failed")}};return t?e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:e.jsxDEV("div",{className:"success-message-container",children:[e.jsxDEV("div",{className:"success-icon",children:"‚úÖ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:60,columnNumber:13},this),e.jsxDEV("h2",{children:"Check Your Email!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:61,columnNumber:13},this),e.jsxDEV("p",{className:"success-message",children:["We've sent a confirmation email to ",e.jsxDEV("strong",{children:i.email},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:63,columnNumber:50},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:62,columnNumber:13},this),e.jsxDEV("p",{className:"success-instructions",children:"Please click the link in the email to verify your account. Once verified, you can log in and complete your profile setup!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:65,columnNumber:13},this),e.jsxDEV("div",{className:"success-actions",children:e.jsxDEV(H,{to:"/login",className:"btn-primary",children:"Go to Login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:70,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:69,columnNumber:13},this),e.jsxDEV("p",{className:"success-note",children:["Didn't receive the email? Check your spam folder or"," ",e.jsxDEV("a",{href:"#",onClick:g=>{g.preventDefault(),o(!1)},children:"try again"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:76,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:74,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:59,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:58,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:57,columnNumber:7},this):e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:[e.jsxDEV("h2",{children:"Create Your Account"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:89,columnNumber:9},this),e.jsxDEV("p",{className:"auth-subtitle",children:"Join UniqueBrains and start your journey"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:90,columnNumber:9},this),n&&e.jsxDEV("div",{className:"error-message",children:n},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:94,columnNumber:19},this),e.jsxDEV("div",{className:"role-selection",children:[e.jsxDEV("p",{className:"role-label",children:"I want to sign up as:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:97,columnNumber:13},this),e.jsxDEV("div",{className:"role-cards",children:[e.jsxDEV("div",{className:`role-card ${r==="parent"?"selected":""}`,onClick:()=>s("parent"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:103,columnNumber:17},this),e.jsxDEV("h3",{children:"Parent"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:104,columnNumber:17},this),e.jsxDEV("p",{children:"Manage my children's learning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:105,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:99,columnNumber:15},this),e.jsxDEV("div",{className:`role-card ${r==="instructor"?"selected":""}`,onClick:()=>s("instructor"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:111,columnNumber:17},this),e.jsxDEV("h3",{children:"Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:112,columnNumber:17},this),e.jsxDEV("p",{children:"Teach and inspire"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:113,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:107,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:98,columnNumber:13},this),e.jsxDEV("p",{className:"role-note",children:e.jsxDEV("small",{children:"Note: Student profiles are created by parents during onboarding"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:117,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:116,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:96,columnNumber:9},this),e.jsxDEV("div",{className:"oauth-section",children:[e.jsxDEV("button",{type:"button",className:"oauth-button oauth-button-google",onClick:()=>{console.log("üîç Storing OAuth role preference:",r),localStorage.setItem("oauth_role_preference",r),document.querySelector(".oauth-button-google-hidden").click()},children:[e.jsxDEV("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxDEV("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:134,columnNumber:19},this),e.jsxDEV("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:135,columnNumber:19},this),e.jsxDEV("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:136,columnNumber:19},this),e.jsxDEV("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:137,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:133,columnNumber:17},this),"Sign up with Google as ",r==="instructor"?"Instructor":"Parent"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:122,columnNumber:15},this),e.jsxDEV("div",{style:{display:"none"},children:e.jsxDEV(gs,{provider:"google",className:"oauth-button-google-hidden",children:"Hidden"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:144,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:121,columnNumber:9},this),e.jsxDEV("div",{className:"divider",children:e.jsxDEV("span",{children:"or"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:151,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:150,columnNumber:9},this),e.jsxDEV("form",{onSubmit:d,className:"auth-form",children:[e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"firstName",children:"First Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:157,columnNumber:15},this),e.jsxDEV("input",{id:"firstName",name:"firstName",type:"text",value:i.firstName,onChange:m,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:158,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:156,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"lastName",children:"Last Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:169,columnNumber:15},this),e.jsxDEV("input",{id:"lastName",name:"lastName",type:"text",value:i.lastName,onChange:m,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:155,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"email",children:"Email"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:182,columnNumber:13},this),e.jsxDEV("input",{id:"email",name:"email",type:"email",value:i.email,onChange:m,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:183,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:181,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:194,columnNumber:13},this),e.jsxDEV("input",{id:"password",name:"password",type:"password",value:i.password,onChange:m,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:195,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:193,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"confirmPassword",children:"Confirm Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:206,columnNumber:13},this),e.jsxDEV("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:i.confirmPassword,onChange:m,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:207,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:205,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn-primary btn-full",children:"Create Account"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:217,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:154,columnNumber:9},this),e.jsxDEV("p",{className:"auth-footer",children:["Already have an account? ",e.jsxDEV(H,{to:"/login",children:"Sign in"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:223,columnNumber:36},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:222,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:88,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:87,columnNumber:5},this)}function qe({rating:r,onRate:s,size:i="medium"}){const a=[1,2,3,4,5];return e.jsxDEV("div",{className:`star-rating ${i}`,children:a.map(n=>e.jsxDEV("span",{className:`star ${n<=r?"filled":""} ${s?"interactive":""}`,onClick:()=>s&&s(n),children:"‚òÖ"},n,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/StarRating.jsx",lineNumber:9,columnNumber:9},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/StarRating.jsx",lineNumber:7,columnNumber:5},this)}function tr(r){const s={parenting:["#667eea","#764ba2"],music:["#f093fb","#f5576c"],dance:["#4facfe","#00f2fe"],drama:["#43e97b","#38f9d7"],art:["#fa709a","#fee140"],language:["#ff6b6b","#feca57"],default:["#667eea","#764ba2"]},i=s[r]||s.default;return{gradient:i,style:{background:`linear-gradient(135deg, ${i[0]} 0%, ${i[1]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white"}}}function ur(r){const s={parenting:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶",music:"üéµ",dance:"üíÉ",drama:"üé≠",art:"üé®",language:"üåç",default:"üìö"};return s[r]||s.default}function cr({course:r}){const s=r.enrollmentLimit&&r.currentEnrollment>=r.enrollmentLimit,i=r.enrollmentLimit?r.enrollmentLimit-r.currentEnrollment:null,a=tr(r.category),n=ur(r.category);return e.jsxDEV(H,{to:`/courses/${r.id}`,className:"course-card",children:[e.jsxDEV("div",{className:"course-image",children:[e.jsxDEV("div",{className:"generated-image",style:a.style,children:e.jsxDEV("div",{className:"category-icon-large",children:n},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:16,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:15,columnNumber:9},this),r.price===0&&e.jsxDEV("span",{className:"free-badge",children:"Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:18,columnNumber:32},this),s&&e.jsxDEV("span",{className:"full-badge",children:"Class Full"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:19,columnNumber:20},this),!s&&i!==null&&i<=3&&i>0&&e.jsxDEV("span",{className:"spots-badge",children:[i," spots left"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:21,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:14,columnNumber:7},this),e.jsxDEV("div",{className:"course-content",children:[e.jsxDEV("div",{className:"course-category",children:r.category},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:26,columnNumber:9},this),e.jsxDEV("h3",{className:"course-title",children:r.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:27,columnNumber:9},this),e.jsxDEV("p",{className:"course-description",children:r.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:28,columnNumber:9},this),e.jsxDEV("div",{className:"course-instructor",children:e.jsxDEV("span",{children:["By ",r.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:31,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:30,columnNumber:9},this),e.jsxDEV("div",{className:"course-footer",children:[e.jsxDEV("div",{className:"course-rating",children:[e.jsxDEV(qe,{rating:r.averageRating},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:36,columnNumber:13},this),e.jsxDEV("span",{className:"rating-count",children:["(",r.totalRatings,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:37,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:35,columnNumber:11},this),e.jsxDEV("div",{className:"course-price",children:r.price===0?"Free":`$${r.price}`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:40,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:34,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:25,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:13,columnNumber:5},this)}async function mr(r,s){var a;if(!s)throw new Error("Authentication required to create a course");const i=["title","description","category","courseType"];for(const n of i)if(!r[n])throw new Error(`${n} is required`);try{const n={title:r.title.trim(),description:r.description.trim(),category:r.category,course_type:r.courseType,price:0,session_duration:r.sessionDuration?parseInt(r.sessionDuration):null,enrollment_limit:r.enrollmentLimit?parseInt(r.enrollmentLimit):null,is_self_paced:r.isSelfPaced||!1,instructor_id:s.id,status:"published",is_published:!0,start_date:r.startDate||null,end_date:r.endDate||null,has_end_date:r.hasEndDate||!1,session_time:r.sessionTime||null,selected_days:r.selectedDays||null,frequency:r.frequency||"weekly"},{data:l,error:t}=await E.from("courses").insert([n]).select().single();if(t)throw console.error("Course creation error:",t),new Error(`Failed to create course: ${t.message}`);let o=[];return r.courseType==="group"&&!r.isSelfPaced&&r.startDate&&((a=r.selectedDays)==null?void 0:a.length)>0&&(o=await dr(l.id,r)),{course:l,sessions:o,message:"Course created and published successfully! Students can now enroll."}}catch(n){throw console.error("Error in createCourse:",n),n}}async function dr(r,s){const i=[],a=new Date(s.startDate),n=s.hasEndDate&&s.endDate?new Date(s.endDate):new Date(a.getTime()+12*7*24*60*60*1e3);let l=new Date(a),t=1;const o=50;for(;l<=n&&t<=o;){const c=l.toLocaleDateString("en-US",{weekday:"long"});if(s.selectedDays.includes(c)){const m=new Date(l),[d,g]=s.sessionTime.split(":");m.setHours(parseInt(d),parseInt(g),0,0),i.push({course_id:r,title:`Session ${t}`,description:`${s.title} - Session ${t}`,session_date:m.toISOString(),duration:parseInt(s.sessionDuration),meeting_link:"",meeting_platform:null,status:"scheduled"}),t++}l.setDate(l.getDate()+1)}if(i.length>0){const{data:c,error:m}=await E.from("sessions").insert(i).select();return m?(console.error("Error creating sessions:",m),[]):c}return[]}async function Nr(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:i}=await E.from("courses").select(`
        *,
        enrollments(count),
        sessions(count)
      `).eq("instructor_id",r).order("created_at",{ascending:!1});if(i)throw console.error("Error fetching instructor courses:",i),new Error(`Failed to fetch courses: ${i.message}`);return s||[]}catch(s){throw console.error("Error in getInstructorCourses:",s),s}}async function gr(){try{const{data:r,error:s}=await E.from("courses").select(`
        *,
        profiles!instructor_id(id, first_name, last_name, avatar_url),
        enrollments(count),
        sessions(count)
      `).eq("status","published").eq("is_published",!0).order("created_at",{ascending:!1});if(s)throw console.error("Error fetching published courses:",s),new Error(`Failed to fetch courses: ${s.message}`);return r||[]}catch(r){throw console.error("Error in getAllPublishedCourses:",r),r}}async function hr(r){if(!r)throw new Error("Course ID is required");try{const{data:s,error:i}=await E.from("courses").select(`
        *,
        profiles!instructor_id(id, first_name, last_name, avatar_url, bio),
        enrollments(count),
        sessions(*)
      `).eq("id",r).single();if(i)throw console.error("Error fetching course:",i),new Error(`Failed to fetch course: ${i.message}`);return s}catch(s){throw console.error("Error in getCourseById:",s),s}}async function ze(r,s,i){if(!r||!i)throw new Error("Course ID and instructor ID are required");try{const{data:a,error:n}=await E.from("courses").select("instructor_id").eq("id",r).single();if(n)throw new Error(`Course not found: ${n.message}`);if(a.instructor_id!==i)throw new Error("Unauthorized: You can only update your own courses");const l={...s,updated_at:new Date().toISOString()},{data:t,error:o}=await E.from("courses").update(l).eq("id",r).select().single();if(o)throw console.error("Error updating course:",o),new Error(`Failed to update course: ${o.message}`);return t}catch(a){throw console.error("Error in updateCourse:",a),a}}async function fr(r,s){return ze(r,{is_published:!0,status:"published"},s)}async function jr(r,s){return ze(r,{is_published:!1,status:"draft"},s)}async function br(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:i,error:a}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(a)throw new Error(`Course not found: ${a.message}`);if(i.instructor_id!==s)throw new Error("Unauthorized: You can only delete your own courses");const{data:n,error:l}=await E.from("enrollments").select("id").eq("course_id",r).limit(1);if(l&&console.error("Error checking enrollments:",l),n&&n.length>0)throw new Error("Cannot delete course with active enrollments. Please contact students first.");const{error:t}=await E.from("courses").delete().eq("id",r);if(t)throw console.error("Error deleting course:",t),new Error(`Failed to delete course: ${t.message}`);return!0}catch(i){throw console.error("Error in deleteCourse:",i),i}}async function pr(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:i}=await E.from("courses").select("id, status, is_published").eq("instructor_id",r);if(i)throw new Error(`Failed to fetch course stats: ${i.message}`);const{data:a,error:n}=await E.from("enrollments").select("course_id").in("course_id",s.map(t=>t.id));return n&&console.error("Error fetching enrollment stats:",n),{totalCourses:s.length,publishedCourses:s.filter(t=>t.is_published).length,draftCourses:s.filter(t=>!t.is_published).length,totalEnrollments:a?a.length:0}}catch(s){throw console.error("Error in getCourseStats:",s),s}}async function Er(r,s){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await kr(r,s))throw new Error("Unauthorized: You do not have access to this course");const{data:a,error:n}=await E.from("sessions").select("*").eq("course_id",r).order("session_date",{ascending:!0});if(n)throw console.error("Error fetching sessions:",n),new Error(`Failed to fetch sessions: ${n.message}`);return a||[]}catch(i){throw console.error("Error in getCourseSessions:",i),i}}async function xr(r,s,i){if(!r||!i)throw new Error("Session ID and instructor ID are required");try{const{data:a,error:n}=await E.from("sessions").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(n)throw new Error(`Session not found: ${n.message}`);if(a.courses.instructor_id!==i)throw new Error("Unauthorized: You can only update sessions for your own courses");if(s.meeting_link&&!Ye(s.meeting_link))throw new Error("Invalid meeting link URL");const l={meeting_link:s.meeting_link||"",meeting_password:s.meeting_password||"",meeting_platform:s.meeting_platform||null},{data:t,error:o}=await E.from("sessions").update(l).eq("id",r).select().single();if(o)throw console.error("Error updating session:",o),new Error(`Failed to update session: ${o.message}`);return t}catch(a){throw console.error("Error in updateSessionMeeting:",a),a}}async function yr(r,s,i){var a;if(!r||!i)throw new Error("Course ID and instructor ID are required");try{const{data:n,error:l}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(l)throw new Error(`Course not found: ${l.message}`);if(n.instructor_id!==i)throw new Error("Unauthorized: You can only create sessions for your own courses");if(!s.title||!s.session_date)throw new Error("Session title and date are required");const t={course_id:r,title:s.title.trim(),description:((a=s.description)==null?void 0:a.trim())||"",session_date:new Date(s.session_date).toISOString(),duration:s.duration||60,meeting_link:s.meeting_link||"",meeting_password:s.meeting_password||"",meeting_platform:s.meeting_platform||null,status:"scheduled"};if(t.meeting_link&&!Ye(t.meeting_link))throw new Error("Invalid meeting link URL");const{data:o,error:c}=await E.from("sessions").insert([t]).select().single();if(c)throw console.error("Error creating session:",c),new Error(`Failed to create session: ${c.message}`);return o}catch(n){throw console.error("Error in createSession:",n),n}}async function vr(r,s,i){if(!r||!i)throw new Error("Session ID and instructor ID are required");try{const{data:a,error:n}=await E.from("sessions").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(n)throw new Error(`Session not found: ${n.message}`);if(a.courses.instructor_id!==i)throw new Error("Unauthorized: You can only update sessions for your own courses");if(s.meeting_link&&!Ye(s.meeting_link))throw new Error("Invalid meeting link URL");const l={...s};l.session_date&&(l.session_date=new Date(l.session_date).toISOString());const{data:t,error:o}=await E.from("sessions").update(l).eq("id",r).select().single();if(o)throw console.error("Error updating session:",o),new Error(`Failed to update session: ${o.message}`);return t}catch(a){throw console.error("Error in updateSession:",a),a}}async function Sr(r,s){if(!r||!s)throw new Error("Session ID and instructor ID are required");try{const{data:i,error:a}=await E.from("sessions").select(`
        id,
        course_id,
        title,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(a)throw new Error(`Session not found: ${a.message}`);if(i.courses.instructor_id!==s)throw new Error("Unauthorized: You can only delete sessions for your own courses");const{error:n}=await E.from("sessions").delete().eq("id",r);if(n)throw console.error("Error deleting session:",n),new Error(`Failed to delete session: ${n.message}`);return!0}catch(i){throw console.error("Error in deleteSession:",i),i}}async function Cr(r,s=5){if(!r)throw new Error("Instructor ID is required");try{const{data:i,error:a}=await E.from("sessions").select(`
        *,
        courses!inner(title, instructor_id)
      `).eq("courses.instructor_id",r).gte("session_date",new Date().toISOString()).order("session_date",{ascending:!0}).limit(s);if(a)throw console.error("Error fetching upcoming sessions:",a),new Error(`Failed to fetch upcoming sessions: ${a.message}`);return i||[]}catch(i){throw console.error("Error in getUpcomingSessions:",i),i}}async function kr(r,s){try{const{data:i,error:a}=await E.from("courses").select("instructor_id").eq("id",r).single();if(a)return!1;if(i.instructor_id===s)return!0;const{data:n,error:l}=await E.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();return l?!1:!!n}catch(i){return console.error("Error checking course access:",i),!1}}function Ye(r){try{return new URL(r),!0}catch{return!1}}async function Dr(r,s,i){if(!r||!i)throw new Error("Course ID and instructor ID are required");try{const{data:a,error:n}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(n)throw new Error(`Course not found: ${n.message}`);if(a.instructor_id!==i)throw new Error("Unauthorized: You can only create homework for your own courses");if(!s.title||!s.description)throw new Error("Title and description are required");const l={course_id:r,title:s.title.trim(),description:s.description.trim(),due_date:s.due_date?new Date(s.due_date).toISOString():null,points:s.points||100,submission_type:s.submission_type||"text",is_published:s.is_published||!1,attachments:s.attachments||null},{data:t,error:o}=await E.from("homework").insert([l]).select().single();if(o)throw console.error("Error creating homework:",o),new Error(`Failed to create homework: ${o.message}`);return t}catch(a){throw console.error("Error in createHomework:",a),a}}async function Tr(r,s,i=!0){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await Lr(r,s))throw new Error("Unauthorized: You do not have access to this course");const n=await hs(r,s);let l=E.from("homework").select(`
        *,
        submissions(
          id,
          student_id,
          status,
          submitted_at,
          grade,
          feedback
        )
      `).eq("course_id",r);!n&&i&&(l=l.eq("is_published",!0)),l=l.order("due_date",{ascending:!0,nullsLast:!0});const{data:t,error:o}=await l;if(o)throw console.error("Error fetching homework:",o),new Error(`Failed to fetch homework: ${o.message}`);return t||[]}catch(a){throw console.error("Error in getCourseHomework:",a),a}}async function Ur(r,s,i){if(!r||!i)throw new Error("Homework ID and student ID are required");try{const{data:a,error:n}=await E.from("homework").select("id, course_id, title, due_date, is_published, submission_type").eq("id",r).single();if(n)throw new Error(`Homework not found: ${n.message}`);if(!a.is_published)throw new Error("This homework assignment is not yet available for submission");const{data:l,error:t}=await E.from("enrollments").select("id").eq("course_id",a.course_id).eq("student_id",i).single();if(t)throw new Error("You must be enrolled in this course to submit homework");const{data:o,error:c}=await E.from("submissions").select("id").eq("homework_id",r).eq("student_id",i).single();if(o)throw new Error("You have already submitted this homework. Contact your instructor to resubmit.");if(a.submission_type==="text"&&!s.content)throw new Error("Text content is required for this assignment");if(a.submission_type==="file"&&!s.file_url)throw new Error("File upload is required for this assignment");const m={homework_id:r,student_id:i,content:s.content||"",file_url:s.file_url||null,status:"submitted"},{data:d,error:g}=await E.from("submissions").insert([m]).select().single();if(g)throw console.error("Error creating submission:",g),new Error(`Failed to submit homework: ${g.message}`);return d}catch(a){throw console.error("Error in submitHomework:",a),a}}async function Vr(r,s){if(!r||!s)throw new Error("Homework ID and instructor ID are required");try{const{data:i,error:a}=await E.from("homework").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(a)throw new Error(`Homework not found: ${a.message}`);if(i.courses.instructor_id!==s)throw new Error("Unauthorized: You can only view submissions for your own courses");const{data:n,error:l}=await E.from("submissions").select(`
        *,
        profiles!inner(id, full_name, avatar_url)
      `).eq("homework_id",r).order("submitted_at",{ascending:!1});if(l)throw console.error("Error fetching submissions:",l),new Error(`Failed to fetch submissions: ${l.message}`);return n||[]}catch(i){throw console.error("Error in getHomeworkSubmissions:",i),i}}async function wr(r,s,i){if(!r||!i)throw new Error("Submission ID and instructor ID are required");try{const{data:a,error:n}=await E.from("submissions").select(`
        id,
        homework_id,
        homework!inner(
          course_id,
          courses!inner(instructor_id)
        )
      `).eq("id",r).single();if(n)throw new Error(`Submission not found: ${n.message}`);if(a.homework.courses.instructor_id!==i)throw new Error("Unauthorized: You can only grade submissions for your own courses");const l={grade:s.grade||null,feedback:s.feedback||"",status:s.grade!==null?"graded":"submitted",graded_at:s.grade!==null?new Date().toISOString():null},{data:t,error:o}=await E.from("submissions").update(l).eq("id",r).select(`
        *,
        profiles!inner(id, full_name, avatar_url),
        homework!inner(title, course_id)
      `).single();if(o)throw console.error("Error grading submission:",o),new Error(`Failed to grade submission: ${o.message}`);return t}catch(a){throw console.error("Error in gradeSubmission:",a),a}}async function Rr(r,s,i){if(!r||!i)throw new Error("Homework ID and instructor ID are required");try{const{data:a,error:n}=await E.from("homework").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(n)throw new Error(`Homework not found: ${n.message}`);if(a.courses.instructor_id!==i)throw new Error("Unauthorized: You can only update homework for your own courses");const l={...s};l.due_date&&(l.due_date=new Date(l.due_date).toISOString());const{data:t,error:o}=await E.from("homework").update(l).eq("id",r).select().single();if(o)throw console.error("Error updating homework:",o),new Error(`Failed to update homework: ${o.message}`);return t}catch(a){throw console.error("Error in updateHomework:",a),a}}async function Mr(r,s){if(!r||!s)throw new Error("Homework ID and instructor ID are required");try{const{data:i,error:a}=await E.from("homework").select(`
        id,
        title,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(a)throw new Error(`Homework not found: ${a.message}`);if(i.courses.instructor_id!==s)throw new Error("Unauthorized: You can only delete homework for your own courses");const{data:n,error:l}=await E.from("submissions").select("id").eq("homework_id",r).limit(1);if(l&&console.error("Error checking submissions:",l),n&&n.length>0)throw new Error("Cannot delete homework with existing submissions. Please contact students first.");const{error:t}=await E.from("homework").delete().eq("id",r);if(t)throw console.error("Error deleting homework:",t),new Error(`Failed to delete homework: ${t.message}`);return!0}catch(i){throw console.error("Error in deleteHomework:",i),i}}async function _r(r,s){if(!r||!s)throw new Error("Course ID and student ID are required");try{const{data:i,error:a}=await E.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();if(a)throw new Error("You must be enrolled in this course to view submissions");const{data:n,error:l}=await E.from("submissions").select(`
        *,
        homework!inner(
          id,
          title,
          description,
          due_date,
          points,
          course_id
        )
      `).eq("student_id",s).eq("homework.course_id",r).order("submitted_at",{ascending:!1});if(l)throw console.error("Error fetching student submissions:",l),new Error(`Failed to fetch submissions: ${l.message}`);return n||[]}catch(i){throw console.error("Error in getStudentSubmissions:",i),i}}async function Lr(r,s){try{if(await hs(r,s))return!0;const{data:a,error:n}=await E.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();return!n&&!!a}catch(i){return console.error("Error checking course access:",i),!1}}async function hs(r,s){try{const{data:i,error:a}=await E.from("courses").select("instructor_id").eq("id",r).single();return!a&&i.instructor_id===s}catch(i){return console.error("Error checking instructor status:",i),!1}}async function Pr(r,s,i){var a;if(!r||!i)throw new Error("Course ID and instructor ID are required");try{const{data:n,error:l}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(l)throw new Error(`Course not found: ${l.message}`);if(n.instructor_id!==i)throw new Error("Unauthorized: You can only add resources to your own courses");if(!s.title)throw new Error("Resource title is required");if(!s.resource_type||!["file","link"].includes(s.resource_type))throw new Error('Resource type must be either "file" or "link"');if(s.resource_type==="file"&&!s.file_url)throw new Error("File URL is required for file resources");if(s.resource_type==="link"&&!s.link_url)throw new Error("Link URL is required for link resources");if(s.link_url&&!fs(s.link_url))throw new Error("Invalid link URL");const t={course_id:r,title:s.title.trim(),description:((a=s.description)==null?void 0:a.trim())||"",resource_type:s.resource_type,file_url:s.file_url||null,link_url:s.link_url||null,file_size:s.file_size||null,file_type:s.file_type||null,is_public:s.is_public||!1},{data:o,error:c}=await E.from("resources").insert([t]).select().single();if(c)throw console.error("Error creating resource:",c),new Error(`Failed to create resource: ${c.message}`);return o}catch(n){throw console.error("Error in createResource:",n),n}}async function Ir(r,s){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await qr(r,s))throw new Error("Unauthorized: You do not have access to this course");const{data:a,error:n}=await E.from("resources").select("*").eq("course_id",r).order("created_at",{ascending:!1});if(n)throw console.error("Error fetching resources:",n),new Error(`Failed to fetch resources: ${n.message}`);return a||[]}catch(i){throw console.error("Error in getCourseResources:",i),i}}async function Ar(r,s,i){if(!r||!i)throw new Error("Resource ID and instructor ID are required");try{const{data:a,error:n}=await E.from("resources").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(n)throw new Error(`Resource not found: ${n.message}`);if(a.courses.instructor_id!==i)throw new Error("Unauthorized: You can only update resources for your own courses");if(s.link_url&&!fs(s.link_url))throw new Error("Invalid link URL");const l={...s},{data:t,error:o}=await E.from("resources").update(l).eq("id",r).select().single();if(o)throw console.error("Error updating resource:",o),new Error(`Failed to update resource: ${o.message}`);return t}catch(a){throw console.error("Error in updateResource:",a),a}}async function Or(r,s){if(!r||!s)throw new Error("Resource ID and instructor ID are required");try{const{data:i,error:a}=await E.from("resources").select(`
        id,
        title,
        file_url,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(a)throw new Error(`Resource not found: ${a.message}`);if(i.courses.instructor_id!==s)throw new Error("Unauthorized: You can only delete resources for your own courses");const{error:n}=await E.from("resources").delete().eq("id",r);if(n)throw console.error("Error deleting resource:",n),new Error(`Failed to delete resource: ${n.message}`);return!0}catch(i){throw console.error("Error in deleteResource:",i),i}}async function $r(r,s){if(!r||!s)throw new Error("Resource ID and student ID are required");try{const{data:i,error:a}=await E.from("resources").select("course_id").eq("id",r).single();if(a)throw new Error(`Resource not found: ${a.message}`);const{data:n,error:l}=await E.from("enrollments").select("id").eq("course_id",i.course_id).eq("student_id",s).single();if(l)throw new Error("You must be enrolled in this course to access resources");return console.log(`Student ${s} accessed resource ${r}`),!0}catch(i){throw console.error("Error in trackResourceAccess:",i),i}}async function Fr(r,s,i){if(!r||!s||!i)throw new Error("File, course ID, and instructor ID are required");try{const{data:a,error:n}=await E.from("courses").select("instructor_id").eq("id",s).single();if(n)throw new Error(`Course not found: ${n.message}`);if(a.instructor_id!==i)throw new Error("Unauthorized: You can only upload files to your own courses");const l=100*1024*1024;if(r.size>l)throw new Error("File size must be less than 100MB");const t=r.name.split(".").pop(),o=`${s}/${Date.now()}-${Math.random().toString(36).substring(2)}.${t}`,{data:c,error:m}=await E.storage.from("course-resources").upload(o,r,{cacheControl:"3600",upsert:!1});if(m)throw console.error("Error uploading file:",m),new Error(`Failed to upload file: ${m.message}`);const{data:d}=E.storage.from("course-resources").getPublicUrl(o);return{file_url:d.publicUrl,file_name:r.name,file_size:r.size,file_type:r.type,storage_path:o}}catch(a){throw console.error("Error in uploadResourceFile:",a),a}}async function Hr(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:i}=await E.from("resources").select(`
        id,
        resource_type,
        course_id,
        courses!inner(instructor_id, title)
      `).eq("courses.instructor_id",r);if(i)throw console.error("Error fetching resource stats:",i),new Error(`Failed to fetch resource stats: ${i.message}`);const a={totalResources:s.length,fileResources:s.filter(n=>n.resource_type==="file").length,linkResources:s.filter(n=>n.resource_type==="link").length,resourcesByCourse:{}};return s.forEach(n=>{const l=n.courses.title;a.resourcesByCourse[l]||(a.resourcesByCourse[l]=0),a.resourcesByCourse[l]++}),a}catch(s){throw console.error("Error in getResourceStats:",s),s}}async function qr(r,s){try{const{data:i,error:a}=await E.from("courses").select("instructor_id").eq("id",r).single();if(a)return!1;if(i.instructor_id===s)return!0;const{data:n,error:l}=await E.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();return l?!1:!!n}catch(i){return console.error("Error checking course access:",i),!1}}function fs(r){try{return new URL(r),!0}catch{return!1}}const le=new Map,$e=new Map;function Br(r,s={}){if(!r)throw new Error("Course ID is required");const i=`course:${r}:messages`;if(le.has(i)){const l=le.get(i),t=l.channel.state;if(console.log(`Channel ${i} exists with state: ${t}`),t==="closed"||t==="errored")console.log(`Removing closed/errored channel ${i}`),le.delete(i);else return console.log(`Returning existing active channel ${i}`),l}console.log(`Creating new channel: ${i}`);const a=E.channel(i).on("broadcast",{event:"new_message"},l=>{console.log("üì® New message received via broadcast:",l),s.onMessage&&s.onMessage(l.payload)}).subscribe((l,t)=>{console.log(`Channel ${i} status:`,l),t&&console.error(`Channel ${i} error:`,t),l==="SUBSCRIBED"?console.log(`‚úÖ Channel ${i} successfully subscribed!`):l==="CLOSED"?(console.error(`‚ùå Channel ${i} closed unexpectedly`),le.delete(i)):l==="CHANNEL_ERROR"&&(console.error(`‚ùå Channel ${i} error:`,t),le.delete(i))}),n={channel:a,unsubscribe:async()=>{await E.removeChannel(a),le.delete(i),console.log(`Channel ${i} unsubscribed`)}};return le.set(i,n),n}function zr(r,s,i={},a={}){if(!r||!s)throw new Error("Course ID and user ID are required");const n=`course:${r}:presence`;if(le.has(n))return console.warn(`Presence channel ${n} already exists`),le.get(n);const l=E.channel(n).on("presence",{event:"sync"},()=>{const o=l.presenceState();console.log("Presence sync:",o),$e.set(n,o),a.onSync&&a.onSync(o)}).on("presence",{event:"join"},({key:o,newPresences:c})=>{console.log("User joined:",o,c),a.onJoin&&a.onJoin(o,c)}).on("presence",{event:"leave"},({key:o,leftPresences:c})=>{console.log("User left:",o,c),a.onLeave&&a.onLeave(o,c)}).subscribe(async o=>{console.log(`Presence channel ${n} status:`,o),o==="SUBSCRIBED"&&await l.track({user_id:s,online_at:new Date().toISOString(),...i})}),t={channel:l,track:async(o={})=>{await l.track({user_id:s,online_at:new Date().toISOString(),...i,...o})},untrack:async()=>{await l.untrack()},getPresenceState:()=>$e.get(n)||{},unsubscribe:async()=>{await l.untrack(),await E.removeChannel(l),le.delete(n),$e.delete(n),console.log(`Presence channel ${n} unsubscribed`)}};return le.set(n,t),t}function Yr(){return le}const ls=Yr();async function js(r,s,i){if(!r||!i)throw new Error("Course ID and sender ID are required");try{if(!await je(r,i))throw new Error("Unauthorized: You do not have access to this course");if(!s.content||s.content.trim().length===0)throw new Error("Message content is required");if(s.content.length>2e3)throw new Error("Message content must be less than 2000 characters");const n={course_id:r,sender_id:i,content:s.content.trim(),recipient_id:s.recipient_id||null,is_announcement:s.is_announcement||!1,attachments:s.attachments||null};if(s.recipient_id&&!await je(r,s.recipient_id))throw new Error("Recipient does not have access to this course");const{data:l,error:t}=await E.from("messages").insert([n]).select(`
        *,
        profiles!sender_id(id, full_name, avatar_url, role)
      `).single();if(t)throw console.error("Error sending message:",t),new Error(`Failed to send message: ${t.message}`);return console.log("üì° Broadcasting message to channel:",`course:${r}:messages`),console.log("üì° Message payload:",l),await Wr(r,"new_message",l),console.log("üì° Broadcast complete"),l}catch(a){throw console.error("Error in sendMessage:",a),a}}async function Wr(r,s,i){try{const a=`course:${r}:messages`;console.log("Looking for existing channel:",a),console.log("Active channels:",Array.from(ls.keys()));const n=ls.get(a);if(n&&n.channel){console.log("Using existing channel for broadcast, state:",n.channel.state);const l=await n.channel.send({type:"broadcast",event:s,payload:i});console.log("Broadcast result:",l)}else{console.log("No existing channel found in activeChannels");const l=E.getChannels();console.log("All Supabase channels:",l.map(o=>o.topic));const t=l.find(o=>o.topic===a||o.topic===`realtime:${a}`);if(t){console.log("Found matching channel in Supabase, using it");const o=await t.send({type:"broadcast",event:s,payload:i});console.log("Broadcast result:",o)}else console.warn("No channel found - message saved but not broadcast")}console.log("Broadcast sent successfully")}catch(a){console.error("Error broadcasting message:",a)}}async function bs(r,s,i=50,a=null){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await je(r,s))throw new Error("Unauthorized: You do not have access to this course");let l=E.from("messages").select(`
        *,
        profiles!sender_id(id, full_name, avatar_url, role)
      `).eq("course_id",r).is("recipient_id",null).order("created_at",{ascending:!1}).limit(i);a&&(l=l.lt("created_at",a));const{data:t,error:o}=await l;if(o)throw console.error("Error fetching messages:",o),new Error(`Failed to fetch messages: ${o.message}`);return(t||[]).reverse()}catch(n){throw console.error("Error in getCourseMessages:",n),n}}async function Jr(r,s,i,a=50,n=null){if(!r||!s||!i)throw new Error("Course ID, user ID, and other user ID are required");try{const l=await je(r,s),t=await je(r,i);if(!l||!t)throw new Error("Unauthorized: One or both users do not have access to this course");let o=E.from("messages").select(`
        *,
        profiles!sender_id(id, full_name, avatar_url, role)
      `).eq("course_id",r).or(`and(sender_id.eq.${s},recipient_id.eq.${i}),and(sender_id.eq.${i},recipient_id.eq.${s})`).order("created_at",{ascending:!1}).limit(a);n&&(o=o.lt("created_at",n));const{data:c,error:m}=await o;if(m)throw console.error("Error fetching conversation:",m),new Error(`Failed to fetch conversation: ${m.message}`);return(c||[]).reverse()}catch(l){throw console.error("Error in getConversation:",l),l}}async function Gr(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:i,error:a}=await E.from("courses").select("instructor_id, course_type").eq("id",r).single();if(a)throw new Error(`Course not found: ${a.message}`);if(i.instructor_id!==s)throw new Error("Unauthorized: You can only view conversations for your own courses");const{data:n,error:l}=await E.from("enrollments").select(`
        student_id,
        profiles!student_id(id, full_name, avatar_url)
      `).eq("course_id",r);if(l)throw console.error("Error fetching enrollments:",l),new Error(`Failed to fetch enrollments: ${l.message}`);const t=[];for(const o of n||[]){const c=o.student_id,{data:m,error:d}=await E.from("messages").select(`
          *,
          profiles!sender_id(id, full_name, avatar_url, role)
        `).eq("course_id",r).or(`and(sender_id.eq.${s},recipient_id.eq.${c}),and(sender_id.eq.${c},recipient_id.eq.${s})`).order("created_at",{ascending:!1}).limit(1).single();t.push({student:o.profiles,lastMessage:d?null:m,unreadCount:0})}return t.sort((o,c)=>!o.lastMessage&&!c.lastMessage?0:o.lastMessage?c.lastMessage?new Date(c.lastMessage.created_at)-new Date(o.lastMessage.created_at):-1:1),t}catch(i){throw console.error("Error in getConversationThreads:",i),i}}async function Kr(r,s,i=null){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await je(r,s))throw new Error("Unauthorized: You do not have access to this course");return console.log(`User ${s} marked messages as read in course ${r}`,i?`with ${i}`:"(group chat)"),!0}catch(a){throw console.error("Error in markMessagesAsRead:",a),a}}async function Xr(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:i}=await E.from("messages").select(`
        id,
        created_at,
        course_id,
        courses!inner(instructor_id, title, course_type)
      `).eq("courses.instructor_id",r);if(i)throw console.error("Error fetching message stats:",i),new Error(`Failed to fetch message stats: ${i.message}`);const a=new Date,n=new Date(a.getFullYear(),a.getMonth(),a.getDate()),l=new Date(n.getTime()-7*24*60*60*1e3),t={totalMessages:s.length,messagesToday:s.filter(o=>new Date(o.created_at)>=n).length,messagesThisWeek:s.filter(o=>new Date(o.created_at)>=l).length,messagesByCourse:{}};return s.forEach(o=>{const c=o.courses.title;t.messagesByCourse[c]||(t.messagesByCourse[c]=0),t.messagesByCourse[c]++}),t}catch(s){throw console.error("Error in getMessageStats:",s),s}}async function Zr(r,s){if(!r||!s)throw new Error("Message ID and instructor ID are required");try{const{data:i,error:a}=await E.from("messages").select(`
        id,
        sender_id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(a)throw new Error(`Message not found: ${a.message}`);if(i.courses.instructor_id!==s&&i.sender_id!==s)throw new Error("Unauthorized: You can only delete your own messages or messages in your courses");const{error:n}=await E.from("messages").delete().eq("id",r);if(n)throw console.error("Error deleting message:",n),new Error(`Failed to delete message: ${n.message}`);return!0}catch(i){throw console.error("Error in deleteMessage:",i),i}}async function je(r,s){try{console.log("Checking course access:",{courseId:r,userId:s});const{data:i,error:a}=await E.from("courses").select("instructor_id").eq("id",r).single();if(console.log("Course query result:",{course:i,courseError:a}),a)return console.error("Course not found or error:",a),!1;if(i.instructor_id===s)return console.log("User is the instructor - access granted"),!0;const{data:n,error:l}=await E.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();if(console.log("Enrollment query result:",{enrollment:n,enrollmentError:l}),l)return console.error("Not enrolled or error:",l),!1;const t=!!n;return console.log("Access check result:",t),t}catch(i){return console.error("Error checking course access:",i),!1}}async function Qr(r,s){if(!r||!s)throw new Error("Course ID and student ID are required");try{const{data:i,error:a}=await E.from("courses").select("id, title, is_published, enrollment_limit, instructor_id").eq("id",r).single();if(a)throw new Error(`Course not found: ${a.message}`);if(!i.is_published)throw new Error("This course is not currently available for enrollment");if(i.instructor_id===s)throw new Error("Instructors cannot enroll in their own courses");const{data:n,error:l}=await E.from("enrollments").select("id, status").eq("course_id",r).eq("student_id",s).single();if(n){if(n.status==="active")throw new Error("You are already enrolled in this course");if(n.status==="completed")throw new Error("You have already completed this course")}if(i.enrollment_limit){const{data:m,error:d}=await E.from("enrollments").select("id").eq("course_id",r).eq("status","active");if(d)console.error("Error checking enrollment count:",d);else if(m&&m.length>=i.enrollment_limit)throw new Error("This course is full. Please check back later for availability.")}const t={course_id:r,student_id:s,status:"active",progress:0,enrolled_at:new Date().toISOString()},{data:o,error:c}=await E.from("enrollments").insert([t]).select(`
        *,
        courses!inner(id, title, instructor_id, course_type),
        profiles!student_id(id, full_name, avatar_url)
      `).single();if(c)throw console.error("Error creating enrollment:",c),new Error(`Failed to enroll in course: ${c.message}`);return o}catch(i){throw console.error("Error in enrollStudent:",i),i}}async function ei(r,s=null){if(!r)throw new Error("Student ID is required");try{let i=E.from("enrollments").select(`
        *,
        courses!inner(
          id,
          title,
          description,
          category,
          course_type,
          instructor_id,
          is_published,
          profiles!instructor_id(id, full_name, avatar_url)
        )
      `).eq("student_id",r).order("enrolled_at",{ascending:!1});s&&(i=i.eq("status",s));const{data:a,error:n}=await i;if(n)throw console.error("Error fetching student enrollments:",n),new Error(`Failed to fetch enrollments: ${n.message}`);return a||[]}catch(i){throw console.error("Error in getStudentEnrollments:",i),i}}async function si(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:i,error:a}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(a)throw new Error(`Course not found: ${a.message}`);if(i.instructor_id!==s)throw new Error("Unauthorized: You can only view enrollments for your own courses");const{data:n,error:l}=await E.from("enrollments").select(`
        *,
        profiles!student_id(
          id,
          full_name,
          avatar_url,
          bio,
          neurodiversity_profile
        )
      `).eq("course_id",r).order("enrolled_at",{ascending:!1});if(l)throw console.error("Error fetching course enrollments:",l),new Error(`Failed to fetch enrollments: ${l.message}`);return n||[]}catch(i){throw console.error("Error in getCourseEnrollments:",i),i}}async function ri(r,s,i){if(!r||!i)throw new Error("Enrollment ID and instructor ID are required");try{const{data:a,error:n}=await E.from("enrollments").select(`
        id,
        student_id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(n)throw new Error(`Enrollment not found: ${n.message}`);if(a.courses.instructor_id!==i)throw new Error("Unauthorized: You can only update enrollments for your own courses");const l={...s};s.status==="completed"&&!s.completed_at&&(l.completed_at=new Date().toISOString());const{data:t,error:o}=await E.from("enrollments").update(l).eq("id",r).select(`
        *,
        profiles!student_id(id, full_name, avatar_url),
        courses!inner(id, title)
      `).single();if(o)throw console.error("Error updating enrollment:",o),new Error(`Failed to update enrollment: ${o.message}`);return t}catch(a){throw console.error("Error in updateEnrollment:",a),a}}async function ii(r,s){if(!r||!s)throw new Error("Course ID and student ID are required");try{const{data:i,error:a}=await E.from("enrollments").select("id, status").eq("course_id",r).eq("student_id",s).single();if(a)throw new Error(`Enrollment not found: ${a.message}`);if(i.status==="withdrawn")throw new Error("You have already withdrawn from this course");const{error:n}=await E.from("enrollments").update({status:"withdrawn",withdrawn_at:new Date().toISOString()}).eq("id",i.id);if(n)throw console.error("Error withdrawing from course:",n),new Error(`Failed to withdraw from course: ${n.message}`);return!0}catch(i){throw console.error("Error in withdrawStudent:",i),i}}async function ai(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:i}=await E.from("enrollments").select(`
        id,
        status,
        progress,
        enrolled_at,
        completed_at,
        course_id,
        courses!inner(instructor_id, title)
      `).eq("courses.instructor_id",r);if(i)throw console.error("Error fetching enrollment stats:",i),new Error(`Failed to fetch enrollment stats: ${i.message}`);const a=new Date,n=new Date(a.getFullYear(),a.getMonth(),1),l={totalEnrollments:s.length,activeEnrollments:s.filter(o=>o.status==="active").length,completedEnrollments:s.filter(o=>o.status==="completed").length,withdrawnEnrollments:s.filter(o=>o.status==="withdrawn").length,enrollmentsThisMonth:s.filter(o=>new Date(o.enrolled_at)>=n).length,averageProgress:0,enrollmentsByCourse:{}},t=s.filter(o=>o.status==="active");if(t.length>0){const o=t.reduce((c,m)=>c+(m.progress||0),0);l.averageProgress=Math.round(o/t.length)}return s.forEach(o=>{const c=o.courses.title;l.enrollmentsByCourse[c]||(l.enrollmentsByCourse[c]={total:0,active:0,completed:0,withdrawn:0}),l.enrollmentsByCourse[c].total++,l.enrollmentsByCourse[c][o.status]++}),l}catch(s){throw console.error("Error in getEnrollmentStats:",s),s}}async function oi(r,s){if(!r||!s)throw new Error("Course ID and student ID are required");try{const{data:i,error:a}=await E.from("enrollments").select("*").eq("course_id",r).eq("student_id",s).single();if(a&&a.code!=="PGRST116")throw console.error("Error checking enrollment:",a),new Error(`Failed to check enrollment: ${a.message}`);return i||null}catch(i){throw console.error("Error in checkEnrollment:",i),i}}async function ni(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:i,error:a}=await E.from("courses").select("instructor_id, title").eq("id",r).single();if(a)throw new Error(`Course not found: ${a.message}`);if(i.instructor_id!==s)throw new Error("Unauthorized: You can only view completion rates for your own courses");const{data:n,error:l}=await E.from("enrollments").select("status, progress").eq("course_id",r);if(l)throw console.error("Error fetching completion rate:",l),new Error(`Failed to fetch completion rate: ${l.message}`);const t=n.length,o=n.filter(g=>g.status==="completed").length,c=n.filter(g=>g.status==="active").length,m=n.filter(g=>g.status==="active"),d=m.length>0?Math.round(m.reduce((g,N)=>g+(N.progress||0),0)/m.length):0;return{totalEnrollments:t,completedEnrollments:o,activeEnrollments:c,completionRate:t>0?Math.round(o/t*100):0,averageProgress:d}}catch(i){throw console.error("Error in getCourseCompletionRate:",i),i}}const li={create:mr,getAll:gr,getById:hr,getInstructorCourses:Nr,update:ze,delete:br,publish:fr,unpublish:jr,getStats:pr},ti={create:yr,getCourse:Er,update:vr,delete:Sr,updateMeeting:xr,getUpcoming:Cr},ui={create:Dr,getCourse:Tr,update:Rr,delete:Mr,submit:Ur,getSubmissions:Vr,grade:wr,getStudentSubmissions:_r},ci={create:Pr,getCourse:Ir,update:Ar,delete:Or,uploadFile:Fr,trackAccess:$r,getStats:Hr},mi={send:js,getCourse:bs,getConversation:Jr,delete:Zr,getThreads:Gr,markAsRead:Kr,getStats:Xr},di={enroll:Qr,withdraw:ii,update:ri,check:oi,getStudent:ei,getCourse:si,getStats:ai,getCompletionRate:ni},Z={courses:li,sessions:ti,homework:ui,resources:ci,messages:mi,enrollments:di};class ts extends Error{constructor(s,i="API_ERROR",a=null){super(s),this.name="ApiError",this.code=i,this.details=a}}async function Q(r,...s){try{return await r(...s)}catch(i){throw console.error("API call failed:",i),i instanceof ts?i:new ts(i.message||"An unexpected error occurred",i.code||"UNKNOWN_ERROR",i)}}function Ni(){return e.jsxDEV("div",{className:"coming-soon",children:e.jsxDEV("div",{className:"coming-soon-content",children:[e.jsxDEV("div",{className:"coming-soon-icon",children:"üöÄ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:8,columnNumber:9},this),e.jsxDEV("h1",{children:"Coming Soon!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:9,columnNumber:9},this),e.jsxDEV("p",{className:"coming-soon-subtitle",children:"We're working hard to bring you an amazing learning marketplace for neurodivergent children."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:10,columnNumber:9},this),e.jsxDEV("div",{className:"progress-section",children:[e.jsxDEV("h2",{children:"What We're Building"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:15,columnNumber:11},this),e.jsxDEV("div",{className:"features-list",children:[e.jsxDEV("div",{className:"feature-item",children:[e.jsxDEV("span",{className:"check",children:"‚úÖ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:18,columnNumber:15},this),e.jsxDEV("span",{children:"Beautiful, accessible platform design"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:19,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:17,columnNumber:13},this),e.jsxDEV("div",{className:"feature-item",children:[e.jsxDEV("span",{className:"check",children:"‚úÖ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:22,columnNumber:15},this),e.jsxDEV("span",{children:"Neurodiversity-first user experience"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:23,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:21,columnNumber:13},this),e.jsxDEV("div",{className:"feature-item",children:[e.jsxDEV("span",{className:"progress-icon",children:"üî®"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:26,columnNumber:15},this),e.jsxDEV("span",{children:"Course marketplace with specialized instructors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:27,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:25,columnNumber:13},this),e.jsxDEV("div",{className:"feature-item",children:[e.jsxDEV("span",{className:"progress-icon",children:"üî®"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:30,columnNumber:15},this),e.jsxDEV("span",{children:"Student and instructor dashboards"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:31,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:29,columnNumber:13},this),e.jsxDEV("div",{className:"feature-item",children:[e.jsxDEV("span",{className:"progress-icon",children:"üî®"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:34,columnNumber:15},this),e.jsxDEV("span",{children:"Interactive learning tools and resources"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:35,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:33,columnNumber:13},this),e.jsxDEV("div",{className:"feature-item",children:[e.jsxDEV("span",{className:"progress-icon",children:"üî®"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:38,columnNumber:15},this),e.jsxDEV("span",{children:"Communication features for students and teachers"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:39,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:37,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:16,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:14,columnNumber:9},this),e.jsxDEV("div",{className:"support-box",children:[e.jsxDEV("h2",{children:"Support Our Mission üöÄ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:45,columnNumber:11},this),e.jsxDEV("p",{children:"Help us bring free, quality education to families. Your support makes a difference!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:46,columnNumber:11},this),e.jsxDEV("div",{className:"support-buttons",children:[e.jsxDEV("div",{className:"donation-buttons",children:[e.jsxDEV("a",{href:"https://www.gofundme.com/f/help-me-support-autism-awareness-and-families-with-genai",target:"_blank",rel:"noopener noreferrer",className:"support-btn donation-btn",children:"üíö Make a Donation"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:51,columnNumber:15},this),e.jsxDEV("a",{href:"https://milaap.org/fundraisers/support-autistic-kids-1",target:"_blank",rel:"noopener noreferrer",className:"support-btn donation-btn donation-india",children:"üíö Donate (India) üáÆüá≥"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:59,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:50,columnNumber:13},this),e.jsxDEV("a",{href:"https://wa.me/447417364089?text=I'm%20interested%20in%20becoming%20an%20instructor",target:"_blank",rel:"noopener noreferrer",className:"support-btn volunteer-btn",children:"üéì Volunteer as Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:68,columnNumber:13},this),e.jsxDEV("a",{href:"https://wa.me/?text=Check%20out%20UniqueBrains%20-%20Free%20courses%20for%20neurodivergent%20kids!%20https://uniquebrains.org",target:"_blank",rel:"noopener noreferrer",className:"support-btn spread-btn",children:"üì¢ Spread the Word"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:76,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:49,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:44,columnNumber:9},this),e.jsxDEV("div",{className:"timeline",children:e.jsxDEV("p",{className:"timeline-text",children:[e.jsxDEV("strong",{children:"Estimated Launch:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:89,columnNumber:13},this)," We're aiming to launch in early 2025. With your support, we can make it happen even sooner!"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:88,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:87,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ComingSoon.jsx",lineNumber:6,columnNumber:5},this)}function gi(){const s=new URLSearchParams(window.location.search).get("dev")==="true";if(console.log("=== MARKETPLACE DEBUG ==="),console.log("URL:",window.location.href),console.log("Hostname:",window.location.hostname),console.log("Show marketplace:",s),console.log("========================"),!s)return console.log("üéÑ Showing ComingSoon page"),e.jsxDEV(Ni,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:22,columnNumber:12},this);console.log("üõ†Ô∏è Showing Marketplace (dev mode)");const[i,a]=h.useState(""),[n,l]=h.useState("all"),[t,o]=h.useState([]),[c,m]=h.useState(!0),[d,g]=h.useState(""),N=["all","parenting","music","dance","drama","art","language"];h.useEffect(()=>{(async()=>{try{m(!0);const y=(await Q(Z.courses.getAll)).filter(T=>T.status==="published");o(y)}catch(p){console.error("Error fetching courses:",p),g("Failed to load courses")}finally{m(!1)}})()},[]);const f=t.filter(b=>{const p=b.title.toLowerCase().includes(i.toLowerCase())||b.description.toLowerCase().includes(i.toLowerCase()),y=n==="all"||b.category===n;return p&&y});return e.jsxDEV("div",{className:"marketplace",children:[e.jsxDEV("div",{className:"marketplace-header",children:[e.jsxDEV("h1",{children:"Discover Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:64,columnNumber:9},this),e.jsxDEV("p",{className:"tagline",children:"Here every brain learns differently"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:65,columnNumber:9},this),e.jsxDEV("p",{className:"subtitle",children:"Personalized live classes for unique learners"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:63,columnNumber:7},this),e.jsxDEV("div",{className:"marketplace-filters",children:[e.jsxDEV("div",{className:"search-bar",children:e.jsxDEV("input",{type:"text",placeholder:"Search courses...",value:i,onChange:b=>a(b.target.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:71,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:70,columnNumber:9},this),e.jsxDEV("div",{className:"category-filters",children:N.map(b=>e.jsxDEV("button",{className:`category-btn ${n===b?"active":""}`,onClick:()=>l(b),children:b.charAt(0).toUpperCase()+b.slice(1)},b,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:81,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:79,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:69,columnNumber:7},this),c?e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:"Loading courses..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:94,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:93,columnNumber:9},this):d?e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:d},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:98,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:97,columnNumber:9},this):e.jsxDEV("div",{className:"courses-grid",children:f.length>0?f.map(b=>e.jsxDEV(cr,{course:b},b.id,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:104,columnNumber:15},this)):e.jsxDEV("div",{className:"no-results",children:[e.jsxDEV("p",{children:"No courses found matching your criteria"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:108,columnNumber:15},this),t.length===0&&e.jsxDEV("p",{style:{marginTop:"1rem",color:"#6b7280"},children:"No courses have been published yet. Check back soon!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:110,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:107,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:101,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:62,columnNumber:5},this)}const Ue=[{id:"1",title:"Positive Parenting Fundamentals",description:"Learn evidence-based strategies for raising confident, resilient children through positive discipline and emotional connection.",category:"parenting",price:49.99,instructorId:"1",instructorName:"Dr. Sarah Johnson",isPublished:!0,averageRating:4.8,totalRatings:127,thumbnail:null,courseType:"group",sessionDuration:60,sessionFrequency:"weekly",selectedDays:["Monday","Wednesday"],dayTimes:{Monday:"10:00",Wednesday:"10:00"},isSelfPaced:!1,enrollmentLimit:15,currentEnrollment:12,learningObjectives:["Understand child development stages and age-appropriate expectations","Master effective communication techniques for connecting with your child","Learn positive discipline strategies that build cooperation","Set healthy boundaries while maintaining emotional connection","Handle challenging behaviors with confidence and compassion","Build your child's self-esteem and emotional intelligence"]},{id:"2",title:"Piano for Beginners",description:"Start your musical journey with comprehensive piano lessons designed for absolute beginners.",category:"music",price:79.99,instructorId:"2",instructorName:"Michael Chen",isPublished:!0,averageRating:4.9,totalRatings:89,thumbnail:null,courseType:"one-on-one",sessionDuration:45,sessionFrequency:"biweekly",selectedDays:[],isSelfPaced:!1,enrollmentLimit:8,currentEnrollment:8,learningObjectives:["Develop proper posture and hand position at the piano","Learn to read sheet music and understand musical notation","Master basic scales, chords, and finger exercises","Play simple melodies and popular songs","Understand rhythm, tempo, and musical expression","Build confidence in performance and practice habits"]},{id:"3",title:"Creative Dance for Kids",description:"Fun and engaging dance classes that help children express themselves through movement.",category:"dance",price:0,instructorId:"3",instructorName:"Emma Rodriguez",isPublished:!0,averageRating:4.7,totalRatings:156,thumbnail:null,courseType:"group",sessionDuration:30,sessionFrequency:"weekly",selectedDays:["Tuesday","Thursday"],dayTimes:{Tuesday:"15:30",Thursday:"15:30"},isSelfPaced:!1,enrollmentLimit:20,currentEnrollment:15,learningObjectives:["Explore creative movement and self-expression through dance","Learn basic dance techniques and coordination","Develop rhythm, musicality, and body awareness","Build confidence and stage presence","Create and perform original dance routines","Have fun while staying active and healthy"]},{id:"4",title:"Drama and Theater Arts",description:"Build confidence and creativity through theatrical performance and improvisation.",category:"drama",price:59.99,instructorId:"4",instructorName:"James Williams",isPublished:!0,averageRating:4.6,totalRatings:73,thumbnail:null,courseType:"group",sessionDuration:0,sessionFrequency:"",selectedDays:[],isSelfPaced:!0,enrollmentLimit:null,currentEnrollment:45,learningObjectives:["Develop voice projection and clear articulation","Master character development and emotional expression","Learn improvisation techniques and quick thinking","Build confidence in public speaking and performance","Understand stage presence and audience engagement","Collaborate effectively in ensemble performances"]}],hi=[{id:"1",firstName:"Emma",lastName:"Thompson",email:"emma@example.com",neurodiversityProfile:["autism"],otherNeeds:null},{id:"2",firstName:"Liam",lastName:"Chen",email:"liam@example.com",neurodiversityProfile:["adhd","dyslexia"],otherNeeds:null},{id:"3",firstName:"Sophia",lastName:"Rodriguez",email:"sophia@example.com",neurodiversityProfile:["other"],otherNeeds:"Sensory processing differences"}],fi=[{id:"1",courseId:"1",studentName:"Jennifer Smith",rating:5,reviewText:"This course completely transformed my parenting approach. Dr. Johnson's techniques are practical and effective!",createdAt:"2024-11-15"},{id:"2",courseId:"1",studentName:"Robert Brown",rating:4,reviewText:"Great content and well-structured lessons. Would have liked more real-world examples.",createdAt:"2024-11-10"}];function ji(){const{courseId:r}=Ve(),{user:s,profile:i,activeStudent:a}=G(),n=ie(),[l,t]=h.useState(!1),[o,c]=h.useState(null),[m,d]=h.useState(!0),[g,N]=h.useState(""),f=fi.filter(T=>T.courseId===r);if(h.useEffect(()=>{r&&(async()=>{try{d(!0);const R=await Q(Z.courses.getById,r);c(R)}catch(R){console.error("Error fetching course:",R),N("Failed to load course")}finally{d(!1)}})()},[r]),m)return e.jsxDEV("div",{className:"course-detail",children:e.jsxDEV("div",{className:"loading-state",children:"Loading course..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:41,columnNumber:43},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:41,columnNumber:12},this);if(g||!o)return e.jsxDEV("div",{className:"course-detail",children:e.jsxDEV("div",{className:"error-state",children:[e.jsxDEV("p",{children:g||"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:48,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>n("/marketplace"),className:"btn-primary",children:"Back to Marketplace"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:49,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:47,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:46,columnNumber:7},this);const b=o.enrollmentLimit&&o.currentEnrollment>=o.enrollmentLimit,p=o.enrollmentLimit?o.enrollmentLimit-o.currentEnrollment:null,y=()=>{if(!s){n("/login");return}if(b){alert("Sorry, this class is full!");return}t(!0),setTimeout(()=>{t(!1),n("/my-courses")},3e3)};return e.jsxDEV("div",{className:"course-detail",children:[e.jsxDEV("div",{className:"course-hero",children:[e.jsxDEV("div",{className:"course-hero-content",children:[e.jsxDEV("div",{className:"course-category-badge",children:o.category},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:88,columnNumber:11},this),e.jsxDEV("h1",{children:o.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:89,columnNumber:11},this),e.jsxDEV("p",{className:"course-lead",children:o.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:90,columnNumber:11},this),e.jsxDEV("div",{className:"course-meta",children:[e.jsxDEV("div",{className:"meta-item",children:[e.jsxDEV(qe,{rating:o.averageRating},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:94,columnNumber:15},this),e.jsxDEV("span",{children:[o.averageRating," (",o.totalRatings," ratings)"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:95,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:93,columnNumber:13},this),e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:["Instructor: ",o.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:98,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:97,columnNumber:13},this),!o.isSelfPaced&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:["üìÖ ",o.sessionDuration," min sessions"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:103,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:102,columnNumber:17},this),e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:["üîÑ ",o.sessionFrequency.charAt(0).toUpperCase()+o.sessionFrequency.slice(1)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:106,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:105,columnNumber:17},this),o.selectedDays.length>0&&o.dayTimes&&e.jsxDEV("div",{className:"meta-item schedule-details",children:[e.jsxDEV("span",{children:"üïê Schedule:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:110,columnNumber:21},this),e.jsxDEV("div",{className:"schedule-list",children:o.selectedDays.map(T=>e.jsxDEV("span",{className:"schedule-day",children:[T," at ",o.dayTimes[T]||"TBD"]},T,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:113,columnNumber:25},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:111,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:109,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:101,columnNumber:15},this),o.isSelfPaced&&e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:"‚è∞ Self-paced (learn at your own speed)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:124,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:123,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:92,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:87,columnNumber:9},this),e.jsxDEV("div",{className:"course-enroll-card",children:[e.jsxDEV("div",{className:"enroll-price",children:o.price===0?"Free":`$${o.price}`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:131,columnNumber:11},this),o.enrollmentLimit&&e.jsxDEV("div",{className:"enrollment-status",children:[e.jsxDEV("div",{className:"enrollment-bar",children:e.jsxDEV("div",{className:"enrollment-fill",style:{width:`${o.currentEnrollment/o.enrollmentLimit*100}%`}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:138,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:137,columnNumber:15},this),e.jsxDEV("div",{className:"enrollment-text",children:[o.currentEnrollment," / ",o.enrollmentLimit," students enrolled",!b&&p<=5&&e.jsxDEV("span",{className:"spots-warning",children:[" ‚Ä¢ Only ",p," spots left!"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:146,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:143,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:136,columnNumber:13},this),b?e.jsxDEV("button",{className:"btn-secondary btn-full",disabled:!0,children:"Class Full"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:153,columnNumber:13},this):e.jsxDEV("button",{onClick:y,className:"btn-primary btn-full",children:"Enroll Now"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:157,columnNumber:13},this),e.jsxDEV("div",{className:"enroll-features",children:[e.jsxDEV("div",{className:"feature",children:"‚úì Lifetime access"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:163,columnNumber:13},this),e.jsxDEV("div",{className:"feature",children:"‚úì Certificate of completion"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:164,columnNumber:13},this),e.jsxDEV("div",{className:"feature",children:"‚úì Instructor support"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:165,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:162,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:130,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:86,columnNumber:7},this),e.jsxDEV("div",{className:"course-sections",children:[e.jsxDEV("section",{className:"course-section",children:[e.jsxDEV("h2",{children:"What You'll Learn"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:172,columnNumber:11},this),e.jsxDEV("div",{className:"learning-objectives",children:o.learningObjectives.map((T,R)=>e.jsxDEV("div",{className:"objective-item",children:[e.jsxDEV("span",{className:"objective-icon",children:"‚úì"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:176,columnNumber:17},this),e.jsxDEV("span",{className:"objective-text",children:T},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:177,columnNumber:17},this)]},R,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:175,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:173,columnNumber:11},this),!o.isSelfPaced&&e.jsxDEV("div",{className:"course-note",children:e.jsxDEV("p",{children:["üìÖ ",e.jsxDEV("strong",{children:"Note:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:183,columnNumber:21},this)," Session topics will be tailored to your learning pace and progress. Your instructor will set specific topics for each upcoming class based on your individual needs."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:183,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:171,columnNumber:9},this),e.jsxDEV("section",{className:"course-section",children:[e.jsxDEV("h2",{children:"Student Reviews"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:189,columnNumber:11},this),f.length>0?e.jsxDEV("div",{className:"reviews-list",children:f.map(T=>e.jsxDEV("div",{className:"review-item",children:[e.jsxDEV("div",{className:"review-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"review-author",children:T.studentName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:196,columnNumber:23},this),e.jsxDEV("div",{className:"review-date",children:new Date(T.createdAt).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:197,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:195,columnNumber:21},this),e.jsxDEV(qe,{rating:T.rating,size:"small"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:199,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:194,columnNumber:19},this),e.jsxDEV("p",{className:"review-text",children:T.reviewText},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:201,columnNumber:19},this)]},T.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:193,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:191,columnNumber:13},this):e.jsxDEV("p",{className:"no-reviews",children:"No reviews yet. Be the first to review this course!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:206,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:188,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:170,columnNumber:7},this),l&&e.jsxDEV("div",{className:"enrollment-success-overlay",children:e.jsxDEV("div",{className:"enrollment-success-popup",children:[e.jsxDEV("div",{className:"success-icon",children:"üéâ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:215,columnNumber:13},this),e.jsxDEV("h2",{children:"Enrollment Successful!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:216,columnNumber:13},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:a?`${a.first_name} has been enrolled`:"You have been enrolled"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:218,columnNumber:15},this)," in ",e.jsxDEV("strong",{children:o.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:223,columnNumber:28},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:217,columnNumber:13},this),e.jsxDEV("p",{className:"success-subtitle",children:a?`${a.first_name} can now access the course materials and join sessions.`:"You can now access the course materials and join sessions."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:225,columnNumber:13},this),e.jsxDEV("div",{className:"success-actions",children:[e.jsxDEV("button",{onClick:()=>{t(!1),n("/my-courses")},className:"btn-primary",children:"View My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:232,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>t(!1),className:"btn-secondary",children:"Continue Browsing"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:241,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:231,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:214,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:213,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:85,columnNumber:5},this)}function bi(){const{profile:r,activeStudent:s}=G(),[i,a]=h.useState("list"),[n,l]=h.useState([]),t=d=>d?d.charAt(0).toUpperCase()+d.slice(1).toLowerCase():"";h.useEffect(()=>{l(s?Ue.slice(0,2):Ue.slice(2,4))},[s]);const o=()=>{const d=[];return n.forEach(g=>{if(!g.isSelfPaced&&g.selectedDays.length>0)for(let N=0;N<4;N++)g.selectedDays.forEach(f=>{const b=c(f,N);d.push({courseId:g.id,courseTitle:g.title,instructor:g.instructorName,date:b,time:g.sessionTime||"09:00",duration:g.sessionDuration,category:g.category})})}),d.sort((g,N)=>g.date-N.date)},c=(d,g=0)=>{const N=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],f=new Date,b=N.indexOf(d),p=f.getDay();let y=b-p;y<=0&&(y+=7);const T=new Date(f);return T.setDate(f.getDate()+y+g*7),T},m=o();return e.jsxDEV("div",{className:"my-courses",children:[e.jsxDEV("div",{className:"my-courses-header",children:[e.jsxDEV("div",{className:"courses-title",children:[e.jsxDEV("h1",{children:s?`${t(s.first_name)}'s Courses`:"My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:78,columnNumber:11},this),e.jsxDEV("p",{className:"courses-subtitle",children:s?`Courses enrolled for ${t(s.first_name)}`:"Courses you are enrolled in"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:84,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:77,columnNumber:9},this),e.jsxDEV("div",{className:"view-toggle",children:[e.jsxDEV("button",{className:`toggle-btn ${i==="list"?"active":""}`,onClick:()=>a("list"),children:"üìã List View"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:93,columnNumber:11},this),e.jsxDEV("button",{className:`toggle-btn ${i==="calendar"?"active":""}`,onClick:()=>a("calendar"),children:"üìÖ Calendar View"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:92,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:76,columnNumber:7},this),i==="list"?e.jsxDEV("div",{className:"courses-list",children:n.map(d=>e.jsxDEV("div",{className:"enrolled-course-card",children:[e.jsxDEV("div",{className:"course-info",children:[e.jsxDEV("h3",{children:d.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:117,columnNumber:17},this),e.jsxDEV("p",{className:"instructor",children:["By ",d.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:118,columnNumber:17},this),!d.isSelfPaced&&e.jsxDEV("p",{className:"session-info",children:["üìÖ ",d.sessionDuration," min ‚Ä¢ ",d.sessionFrequency,d.selectedDays.length>0&&d.dayTimes&&e.jsxDEV("span",{className:"session-times",children:[" ‚Ä¢ ",d.selectedDays.map(N=>`${N} ${d.dayTimes[N]}`).join(", ")]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:124,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:121,columnNumber:19},this),d.isSelfPaced&&e.jsxDEV("p",{className:"session-info",children:"‚è∞ Self-paced learning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:132,columnNumber:19},this),e.jsxDEV("div",{className:"progress-section",children:[e.jsxDEV("div",{className:"progress-bar",children:e.jsxDEV("div",{className:"progress-fill",style:{width:"35%"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:137,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:136,columnNumber:19},this),e.jsxDEV("span",{className:"progress-text",children:[Math.round(35),"% Complete"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:139,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:135,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:116,columnNumber:15},this),e.jsxDEV(H,{to:`/learn/${d.id}`,className:"btn-primary",children:"View Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:143,columnNumber:15},this)]},d.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:115,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:109,columnNumber:9},this):e.jsxDEV("div",{className:"calendar-view",children:[e.jsxDEV("div",{className:"calendar-header",children:[e.jsxDEV("h2",{children:"Upcoming Classes"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:153,columnNumber:13},this),e.jsxDEV("p",{className:"calendar-subtitle",children:"Your scheduled sessions for the next 4 weeks"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:154,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:152,columnNumber:11},this),m.length>0?e.jsxDEV("div",{className:"sessions-timeline",children:m.map((d,g)=>e.jsxDEV("div",{className:"session-card",children:[e.jsxDEV("div",{className:"session-date",children:[e.jsxDEV("div",{className:"date-day",children:d.date.getDate()},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:162,columnNumber:21},this),e.jsxDEV("div",{className:"date-month",children:d.date.toLocaleDateString("en-US",{month:"short"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:163,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:161,columnNumber:19},this),e.jsxDEV("div",{className:"session-details",children:[e.jsxDEV("h3",{className:"session-title",children:d.courseTitle},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:169,columnNumber:21},this),e.jsxDEV("div",{className:"session-meta",children:[e.jsxDEV("span",{children:["üë®‚Äçüè´ ",d.instructor]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:171,columnNumber:23},this),e.jsxDEV("span",{children:["üïê ",d.time]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:172,columnNumber:23},this),e.jsxDEV("span",{children:["‚è±Ô∏è ",d.duration," min"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:173,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:170,columnNumber:21},this),e.jsxDEV("div",{className:"session-day",children:d.date.toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:175,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:168,columnNumber:19},this),e.jsxDEV(H,{to:`/learn/${d.courseId}`,className:"btn-primary",children:"Join Class"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:180,columnNumber:19},this)]},g,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:160,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:158,columnNumber:13},this):e.jsxDEV("div",{className:"no-sessions",children:[e.jsxDEV("p",{children:"No upcoming scheduled sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:188,columnNumber:15},this),e.jsxDEV("p",{className:"no-sessions-subtitle",children:"Your self-paced courses are available anytime"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:189,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:187,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:151,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:75,columnNumber:5},this)}function pi({courseId:r,userId:s}){const[i,a]=h.useState([]),[n,l]=h.useState({});h.useEffect(()=>{t(),o()},[r,s]);const t=()=>{const N=JSON.parse(localStorage.getItem(`homework_${r}`)||"[]");a(N)},o=()=>{const N=JSON.parse(localStorage.getItem(`submissions_${r}_${s}`)||"{}");l(N)},c=N=>n[N],m=N=>{const p=new Date(N)-new Date;return Math.ceil(p/(1e3*60*60*24))},d=i.filter(N=>!c(N.id)),g=i.filter(N=>c(N.id));return e.jsxDEV("div",{className:"student-homework",children:[e.jsxDEV("h2",{children:"üìù Your Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:40,columnNumber:7},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:42,columnNumber:9},this),e.jsxDEV("p",{children:"Complete assignments and submit them before the due date"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:43,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:41,columnNumber:7},this),e.jsxDEV("div",{className:"homework-section",children:[e.jsxDEV("h3",{className:"section-title",children:["‚ö†Ô∏è To Do (",d.length,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:48,columnNumber:9},this),d.length>0?e.jsxDEV("div",{className:"homework-list",children:d.map(N=>{const f=m(N.dueDate),b=f<0,p=f>=0&&f<=2;return e.jsxDEV("div",{className:`homework-card ${b?"overdue":""}`,children:[e.jsxDEV("div",{className:"homework-header",children:[e.jsxDEV("h4",{children:N.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:59,columnNumber:21},this),e.jsxDEV("span",{className:`due-badge ${b?"overdue":p?"due-soon":""}`,children:b?`Overdue by ${Math.abs(f)} day${Math.abs(f)!==1?"s":""}`:`Due: ${new Date(N.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})} (${f} day${f!==1?"s":""} left)`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:60,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:58,columnNumber:19},this),e.jsxDEV("p",{className:"homework-description",children:N.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:67,columnNumber:19},this),e.jsxDEV("div",{className:"homework-meta",children:e.jsxDEV("span",{children:["üìé Type: ",N.submissionType==="text"?"Text Response":N.submissionType==="file"?"File Upload":"Checkmark Only"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:69,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:68,columnNumber:19},this),e.jsxDEV("button",{className:"btn-primary submit-btn",onClick:()=>{const y=new CustomEvent("openSubmissionModal",{detail:{homework:N}});window.dispatchEvent(y)},children:"Submit Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:71,columnNumber:19},this)]},N.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:57,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:50,columnNumber:11},this):e.jsxDEV("p",{className:"empty-state",children:"No pending homework assignments"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:88,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:47,columnNumber:7},this),e.jsxDEV("div",{className:"homework-section",children:[e.jsxDEV("h3",{className:"section-title",children:["‚úÖ Completed (",g.length,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:94,columnNumber:9},this),g.length>0?e.jsxDEV("div",{className:"homework-list",children:g.map(N=>{const f=c(N.id);return e.jsxDEV("div",{className:"homework-card completed",children:[e.jsxDEV("div",{className:"homework-header",children:[e.jsxDEV("h4",{children:["‚úì ",N.title]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:103,columnNumber:21},this),e.jsxDEV("span",{className:"submitted-badge",children:["Submitted: ",new Date(f.submittedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:104,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:102,columnNumber:19},this),f.feedback&&e.jsxDEV("div",{className:"feedback-section",children:[e.jsxDEV("p",{className:"feedback-label",children:"Instructor Feedback:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:110,columnNumber:23},this),e.jsxDEV("p",{className:"feedback-text",children:f.feedback},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:111,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:109,columnNumber:21},this),!f.feedback&&e.jsxDEV("p",{className:"pending-feedback",children:"Waiting for instructor feedback..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:115,columnNumber:21},this),e.jsxDEV("button",{className:"btn-secondary",onClick:()=>{const b=new CustomEvent("viewSubmissionDetails",{detail:{homework:N,submission:f}});window.dispatchEvent(b)},children:"View Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:117,columnNumber:19},this)]},N.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:101,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:96,columnNumber:11},this):e.jsxDEV("p",{className:"empty-state",children:"No completed homework yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:133,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:93,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:39,columnNumber:5},this)}function Ei({courseId:r,userId:s}){const[i,a]=h.useState([]);h.useEffect(()=>{n()},[r]);const n=()=>{const m=JSON.parse(localStorage.getItem(`resources_${r}`)||"[]");a(m)},l=m=>{const d=JSON.parse(localStorage.getItem(`viewed_resources_${r}_${s}`)||"[]");d.includes(m.id)||(d.push(m.id),localStorage.setItem(`viewed_resources_${r}_${s}`,JSON.stringify(d)));const g=i.map(N=>N.id===m.id&&!N.viewedBy.includes(s)?{...N,viewedBy:[...N.viewedBy,s]}:N);localStorage.setItem(`resources_${r}`,JSON.stringify(g)),a(g),m.type==="link"?window.open(m.url,"_blank"):m.type==="file"&&alert(`Downloading: ${m.title}`)},t=m=>{l(m),alert(`Preview: ${m.title}`)},o=m=>{if(m.type==="link")return"üîó";const d=m.fileName||m.title;return d.endsWith(".pdf")?"üìÑ":d.match(/\.(jpg|jpeg|png|gif)$/i)?"üñºÔ∏è":d.match(/\.(doc|docx)$/i)?"üìù":d.match(/\.(xls|xlsx)$/i)?"üìä":d.match(/\.(mp3|wav)$/i)?"üéµ":d.match(/\.(mp4|mov|avi)$/i)?"üé•":"üìé"},c=m=>m.type==="link"?!1:(m.fileName||m.title).match(/\.(pdf|jpg|jpeg|png|gif)$/i);return e.jsxDEV("div",{className:"student-resources",children:[e.jsxDEV("h2",{children:"üìö Course Materials"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:71,columnNumber:7},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:73,columnNumber:9},this),e.jsxDEV("p",{children:"Download files and access links shared by your instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:74,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:72,columnNumber:7},this),i.length>0?e.jsxDEV("div",{className:"resources-list",children:i.map(m=>e.jsxDEV("div",{className:"resource-card",children:[e.jsxDEV("div",{className:"resource-icon",children:o(m)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:81,columnNumber:15},this),e.jsxDEV("div",{className:"resource-info",children:[e.jsxDEV("h3",{children:m.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:85,columnNumber:17},this),e.jsxDEV("div",{className:"resource-meta",children:[e.jsxDEV("span",{children:m.type==="link"?"Web Link":"File"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:87,columnNumber:19},this),m.fileSize&&e.jsxDEV("span",{children:["‚Ä¢ ",m.fileSize]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:88,columnNumber:41},this),e.jsxDEV("span",{children:["‚Ä¢ Added ",new Date(m.addedAt).toLocaleDateString("en-US",{month:"short",day:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:89,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:86,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:84,columnNumber:15},this),e.jsxDEV("div",{className:"resource-actions",children:m.type==="link"?e.jsxDEV("button",{className:"btn-primary",onClick:()=>l(m),children:"Open Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:94,columnNumber:19},this):e.jsxDEV(e.Fragment,{children:[c(m)&&e.jsxDEV("button",{className:"btn-secondary",onClick:()=>t(m),children:"Preview"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:103,columnNumber:23},this),e.jsxDEV("button",{className:"btn-primary",onClick:()=>l(m),children:"Download"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:110,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:101,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:92,columnNumber:15},this)]},m.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:80,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:78,columnNumber:9},this):e.jsxDEV("p",{className:"empty-state",children:"No resources available yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:123,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:70,columnNumber:5},this)}function xi({courseId:r,userId:s,course:i}){const[a,n]=h.useState([]),[l,t]=h.useState(""),[o,c]=h.useState(!1),m=h.useRef(null);h.useEffect(()=>{d();const p=setInterval(d,3e3);return()=>clearInterval(p)},[r,s]),h.useEffect(()=>{g()},[a]);const d=()=>{const p=JSON.parse(localStorage.getItem(`chat_${r}`)||"[]");let y=p;i.courseType==="one-on-one"&&(y=p.filter(R=>R.senderId===s||R.recipientId===s||R.senderRole==="instructor"&&R.recipientId===s||R.senderId===s&&R.senderRole==="student")),n(y);const T=p.map(R=>R.senderRole==="instructor"&&!R.readBy.includes(s)?{...R,readBy:[...R.readBy,s]}:R);localStorage.setItem(`chat_${r}`,JSON.stringify(T))},g=()=>{var p;(p=m.current)==null||p.scrollIntoView({behavior:"smooth"})},N=async()=>{if(!l.trim()||o)return;c(!0);const p={id:Date.now().toString(),courseId:r,senderId:s,senderName:"You",senderRole:"student",recipientId:i.courseType==="one-on-one"?i.instructorId:null,message:l.trim(),sentAt:new Date().toISOString(),readBy:[s]},y=JSON.parse(localStorage.getItem(`chat_${r}`)||"[]");y.push(p),localStorage.setItem(`chat_${r}`,JSON.stringify(y)),n([...a,p]),t(""),c(!1),setTimeout(()=>{g()},100)},f=p=>{p.key==="Enter"&&!p.shiftKey&&(p.preventDefault(),N())},b=p=>{const y=new Date(p);return(new Date-y)/(1e3*60*60)<24?y.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"}):y.toLocaleDateString("en-US",{month:"short",day:"numeric"})+" "+y.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit"})};return e.jsxDEV("div",{className:"student-chat",children:[e.jsxDEV("h2",{children:i.courseType==="group"?"üí¨ Class Chat":"üí¨ Chat with Your Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:107,columnNumber:7},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:112,columnNumber:9},this),e.jsxDEV("p",{children:i.courseType==="group"?`Chat with your instructor and classmates (${i.currentEnrollment} students total)`:"Private conversation - only you and your instructor can see these messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:113,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:111,columnNumber:7},this),e.jsxDEV("div",{className:"chat-container",children:[e.jsxDEV("div",{className:"chat-messages",children:a.length>0?e.jsxDEV(e.Fragment,{children:[a.map(p=>e.jsxDEV("div",{className:`chat-message ${p.senderId===s?"own":""}`,children:[e.jsxDEV("div",{className:"message-header",children:[e.jsxDEV("span",{className:"message-sender",children:[p.senderId===s?"You":p.senderName,p.senderRole==="instructor"&&" (Instructor)"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:130,columnNumber:21},this),e.jsxDEV("span",{className:"message-time",children:b(p.sentAt)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:134,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:129,columnNumber:19},this),e.jsxDEV("div",{className:"message-content",children:p.message},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:136,columnNumber:19},this)]},p.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:125,columnNumber:17},this)),e.jsxDEV("div",{ref:m},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:139,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:123,columnNumber:13},this):e.jsxDEV("div",{className:"empty-chat",children:e.jsxDEV("p",{children:"No messages yet. Start the conversation!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:143,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:142,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:121,columnNumber:9},this),e.jsxDEV("div",{className:"chat-input-container",children:[e.jsxDEV("textarea",{value:l,onChange:p=>t(p.target.value),onKeyPress:f,placeholder:"Type your message...",className:"chat-input",rows:"3",disabled:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:149,columnNumber:11},this),e.jsxDEV("button",{onClick:N,className:"btn-primary send-button",disabled:!l.trim()||o,children:o?"Sending...":"Send"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:158,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:148,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:120,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:106,columnNumber:5},this)}function yi({homework:r,onClose:s,onSubmit:i}){const[a,n]=h.useState(""),[l,t]=h.useState(null),[o,c]=h.useState(!1),[m,d]=h.useState(!1),g=f=>{const b=f.target.files[0];b&&t(b)},N=async()=>{if(r.submissionType==="text"&&!a.trim()){alert("Please enter your response before submitting");return}if(r.submissionType==="file"&&!l){alert("Please select a file to upload");return}c(!0),setTimeout(()=>{const f={homeworkId:r.id,submittedAt:new Date().toISOString(),content:r.submissionType==="text"?a:(l==null?void 0:l.name)||"Completed",feedback:null,feedbackAt:null};i(f),c(!1),d(!0),setTimeout(()=>{s()},1500)},500)};return m?e.jsxDEV("div",{className:"modal-overlay",onClick:s,children:e.jsxDEV("div",{className:"modal-content confirmation",onClick:f=>f.stopPropagation(),children:[e.jsxDEV("div",{className:"confirmation-icon",children:"‚úì"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:56,columnNumber:11},this),e.jsxDEV("h2",{children:"Homework Submitted!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:57,columnNumber:11},this),e.jsxDEV("p",{children:"Your instructor will review it soon."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:58,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:55,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:54,columnNumber:7},this):e.jsxDEV("div",{className:"modal-overlay",onClick:s,children:e.jsxDEV("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:"Submit Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:68,columnNumber:11},this),e.jsxDEV("button",{className:"close-button",onClick:s,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:69,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:67,columnNumber:9},this),e.jsxDEV("div",{className:"modal-body",children:[e.jsxDEV("h3",{children:r.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:73,columnNumber:11},this),e.jsxDEV("p",{className:"homework-description",children:r.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:74,columnNumber:11},this),e.jsxDEV("div",{className:"submission-info",children:[e.jsxDEV("span",{children:["üìÖ Due: ",new Date(r.dueDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:77,columnNumber:13},this),e.jsxDEV("span",{children:["üìé Type: ",r.submissionType==="text"?"Text Response":r.submissionType==="file"?"File Upload":"Checkmark Only"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:76,columnNumber:11},this),e.jsxDEV("div",{className:"submission-area",children:[r.submissionType==="text"&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"text-response",children:"Your Response *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:84,columnNumber:17},this),e.jsxDEV("textarea",{id:"text-response",value:a,onChange:f=>n(f.target.value),placeholder:"Type your response here...",rows:"8",className:"text-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:85,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:83,columnNumber:15},this),r.submissionType==="file"&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"file-upload",children:"Upload File *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:98,columnNumber:17},this),e.jsxDEV("input",{id:"file-upload",type:"file",onChange:g,className:"file-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:99,columnNumber:17},this),l&&e.jsxDEV("p",{className:"file-selected",children:["Selected: ",l.name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:106,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:97,columnNumber:15},this),r.submissionType==="checkmark"&&e.jsxDEV("div",{className:"checkmark-info",children:e.jsxDEV("p",{children:"‚úì Click submit to mark this assignment as complete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:113,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:112,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:81,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:119,columnNumber:13},this),e.jsxDEV("p",{children:"Your instructor will be notified when you submit this homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:118,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:72,columnNumber:9},this),e.jsxDEV("div",{className:"modal-footer",children:[e.jsxDEV("button",{className:"btn-secondary",onClick:s,disabled:o,children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:125,columnNumber:11},this),e.jsxDEV("button",{className:"btn-primary",onClick:N,disabled:o,children:o?"Submitting...":"Submit Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:132,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:124,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:66,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:65,columnNumber:5},this)}function vi({homework:r,submission:s,onClose:i}){return e.jsxDEV("div",{className:"modal-overlay",onClick:i,children:e.jsxDEV("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:"Homework Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:8,columnNumber:11},this),e.jsxDEV("button",{className:"close-button",onClick:i,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:9,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:7,columnNumber:9},this),e.jsxDEV("div",{className:"modal-body",children:[e.jsxDEV("h3",{children:r.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:13,columnNumber:11},this),e.jsxDEV("p",{className:"homework-description",children:r.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:14,columnNumber:11},this),e.jsxDEV("div",{className:"details-section",children:[e.jsxDEV("h4",{children:"Submission Information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:17,columnNumber:13},this),e.jsxDEV("div",{className:"info-grid",children:[e.jsxDEV("div",{className:"info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Due Date:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:20,columnNumber:17},this),e.jsxDEV("span",{className:"info-value",children:new Date(r.dueDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:21,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:19,columnNumber:15},this),e.jsxDEV("div",{className:"info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Submitted:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:30,columnNumber:17},this),e.jsxDEV("span",{className:"info-value",children:new Date(s.submittedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:31,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:29,columnNumber:15},this),e.jsxDEV("div",{className:"info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Type:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:42,columnNumber:17},this),e.jsxDEV("span",{className:"info-value",children:r.submissionType==="text"?"Text Response":r.submissionType==="file"?"File Upload":"Checkmark Only"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:43,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:41,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:18,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:16,columnNumber:11},this),r.submissionType==="text"&&s.content&&e.jsxDEV("div",{className:"details-section",children:[e.jsxDEV("h4",{children:"Your Response"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:56,columnNumber:15},this),e.jsxDEV("div",{className:"response-content",children:s.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:57,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:55,columnNumber:13},this),r.submissionType==="file"&&s.content&&e.jsxDEV("div",{className:"details-section",children:[e.jsxDEV("h4",{children:"Submitted File"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:65,columnNumber:15},this),e.jsxDEV("div",{className:"file-info",children:[e.jsxDEV("span",{className:"file-icon",children:"üìé"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:67,columnNumber:17},this),e.jsxDEV("span",{className:"file-name",children:s.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:68,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:66,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:64,columnNumber:13},this),s.feedback?e.jsxDEV("div",{className:"details-section feedback-section",children:[e.jsxDEV("h4",{children:"Instructor Feedback"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:75,columnNumber:15},this),e.jsxDEV("div",{className:"feedback-content",children:[e.jsxDEV("p",{children:s.feedback},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:77,columnNumber:17},this),s.feedbackAt&&e.jsxDEV("p",{className:"feedback-date",children:["Received: ",new Date(s.feedbackAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:79,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:76,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:74,columnNumber:13},this):e.jsxDEV("div",{className:"details-section",children:e.jsxDEV("div",{className:"pending-feedback-box",children:[e.jsxDEV("span",{className:"pending-icon",children:"‚è≥"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:92,columnNumber:17},this),e.jsxDEV("p",{children:"Waiting for instructor feedback..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:93,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:91,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:90,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:12,columnNumber:9},this),e.jsxDEV("div",{className:"modal-footer",children:e.jsxDEV("button",{className:"btn-primary",onClick:i,children:"Close"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:100,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:6,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:5,columnNumber:5},this)}function Si(){const{courseId:r}=Ve(),s=ie(),[i,a]=Be(),{user:n}=G(),l=Ue.find(S=>S.id===r),t=i.get("tab")||"sessions",[o,c]=h.useState(0),[m,d]=h.useState(0),[g,N]=h.useState(0),[f,b]=h.useState(!1),[p,y]=h.useState(null),[T,R]=h.useState(!1),[v,L]=h.useState(null);h.useEffect(()=>{C();const S=setInterval(C,5e3);return()=>clearInterval(S)},[r,n.id,t]),h.useEffect(()=>{const S=_=>{y(_.detail.homework),b(!0)},j=_=>{y(_.detail.homework),L(_.detail.submission),R(!0)};return window.addEventListener("openSubmissionModal",S),window.addEventListener("viewSubmissionDetails",j),()=>{window.removeEventListener("openSubmissionModal",S),window.removeEventListener("viewSubmissionDetails",j)}},[]);const C=()=>{const S=localStorage.getItem(`chat_${r}`);if(S){const ae=JSON.parse(S).filter(te=>te.senderRole==="instructor"&&!te.readBy.includes(n.id)).length;c(ae)}const j=JSON.parse(localStorage.getItem(`viewed_homework_${r}_${n.id}`)||"[]"),w=JSON.parse(localStorage.getItem(`homework_${r}`)||"[]").filter($=>!j.includes($.id)).length;d(w);const B=JSON.parse(localStorage.getItem(`viewed_resources_${r}_${n.id}`)||"[]"),P=JSON.parse(localStorage.getItem(`resources_${r}`)||"[]").filter($=>!B.includes($.id)).length;N(P)},U=S=>{if(a({tab:S}),S==="chat"){c(0);const j=localStorage.getItem(`chat_${r}`);if(j){const w=JSON.parse(j).map(B=>({...B,readBy:B.readBy.includes(n.id)?B.readBy:[...B.readBy,n.id]}));localStorage.setItem(`chat_${r}`,JSON.stringify(w))}}else if(S==="homework"){d(0);const _=JSON.parse(localStorage.getItem(`homework_${r}`)||"[]").map(w=>w.id);localStorage.setItem(`viewed_homework_${r}_${n.id}`,JSON.stringify(_))}else if(S==="resources"){N(0);const _=JSON.parse(localStorage.getItem(`resources_${r}`)||"[]").map(w=>w.id);localStorage.setItem(`viewed_resources_${r}_${n.id}`,JSON.stringify(_))}},x=S=>{const j=JSON.parse(localStorage.getItem(`submissions_${r}_${n.id}`)||"{}");j[S.homeworkId]=S,localStorage.setItem(`submissions_${r}_${n.id}`,JSON.stringify(j)),b(!1),y(null),C()};return l?e.jsxDEV("div",{className:"student-course-view",children:[e.jsxDEV("div",{className:"student-course-header",children:[e.jsxDEV("button",{onClick:()=>s("/my-courses"),className:"back-button",children:"‚Üê Back to My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:141,columnNumber:9},this),e.jsxDEV("h1",{children:l.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:144,columnNumber:9},this),e.jsxDEV("p",{className:"course-instructor",children:["with ",l.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:145,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:140,columnNumber:7},this),e.jsxDEV("div",{className:"course-tabs",children:[e.jsxDEV("button",{className:`tab-button ${t==="sessions"?"active":""}`,onClick:()=>U("sessions"),children:"üìÖ Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:149,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${t==="homework"?"active":""}`,onClick:()=>U("homework"),children:["üìù Homework",m>0&&e.jsxDEV("span",{className:"notification-badge",children:m},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:160,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:155,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${t==="resources"?"active":""}`,onClick:()=>U("resources"),children:["üìö Resources",g>0&&e.jsxDEV("span",{className:"notification-badge",children:g},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:167,columnNumber:32},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:162,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${t==="chat"?"active":""}`,onClick:()=>U("chat"),children:["üí¨ Chat",o>0&&e.jsxDEV("span",{className:"notification-badge",children:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:174,columnNumber:34},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:169,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:148,columnNumber:7},this),e.jsxDEV("div",{className:"tab-content",children:[t==="sessions"&&e.jsxDEV("div",{className:"tab-panel",children:[e.jsxDEV("h2",{children:"Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:181,columnNumber:13},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:183,columnNumber:15},this),e.jsxDEV("p",{children:"Your upcoming class sessions will appear here. Check back soon!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:184,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:182,columnNumber:13},this),e.jsxDEV("p",{className:"empty-state",children:"Session schedule coming soon"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:186,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:180,columnNumber:11},this),t==="homework"&&e.jsxDEV("div",{className:"tab-panel",children:e.jsxDEV(pi,{courseId:r,userId:n.id},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:192,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:191,columnNumber:11},this),t==="resources"&&e.jsxDEV("div",{className:"tab-panel",children:e.jsxDEV(Ei,{courseId:r,userId:n.id},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:198,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:197,columnNumber:11},this),t==="chat"&&e.jsxDEV("div",{className:"tab-panel",children:e.jsxDEV(xi,{courseId:r,userId:n.id,course:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:204,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:203,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:178,columnNumber:7},this),f&&p&&e.jsxDEV(yi,{homework:p,onClose:()=>{b(!1),y(null)},onSubmit:x},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:211,columnNumber:9},this),T&&p&&v&&e.jsxDEV(vi,{homework:p,submission:v,onClose:()=>{R(!1),y(null),L(null)}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:223,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:139,columnNumber:5},this):e.jsxDEV("div",{children:"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:135,columnNumber:12},this)}function Ci(){const{students:r,addStudent:s,updateStudent:i,deleteStudent:a,activeStudent:n,switchStudent:l,refreshStudents:t}=G(),[o,c]=h.useState(!1),[m,d]=h.useState(null),[g,N]=h.useState({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""}),f=C=>C?C.charAt(0).toUpperCase()+C.slice(1).toLowerCase():"";h.useEffect(()=>{t()},[t]);const b=[{value:"autism",label:"Autism Spectrum"},{value:"adhd",label:"ADHD"},{value:"dyslexia",label:"Dyslexia"},{value:"multiple",label:"Multiple Conditions"},{value:"other",label:"Other"}],p=C=>{N({...g,[C.target.name]:C.target.value})},y=C=>{const U=g.neurodiversityProfile;U.includes(C)?N({...g,neurodiversityProfile:U.filter(x=>x!==C)}):N({...g,neurodiversityProfile:[...U,C]})},T=()=>{N({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""}),d(null),c(!0)},R=C=>{N({firstName:C.first_name,age:C.age,neurodiversityProfile:C.neurodiversity_profile||[],otherNeeds:C.other_needs||""}),d(C),c(!0)},v=C=>{if(C.preventDefault(),m){const U={first_name:g.firstName,age:parseInt(g.age),neurodiversity_profile:g.neurodiversityProfile,other_needs:g.otherNeeds};i(m.id,U)}else s(g);c(!1),N({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""})},L=C=>{if(r.length===1){alert("You must have at least one student profile");return}window.confirm("Are you sure you want to delete this student profile? This will remove all their enrollments.")&&a(C)};return e.jsxDEV("div",{className:"manage-students",children:[e.jsxDEV("div",{className:"students-header",children:[e.jsxDEV("h1",{children:"Manage Student Profiles"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:118,columnNumber:9},this),e.jsxDEV("button",{onClick:T,className:"btn-primary",children:"+ Add Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:117,columnNumber:7},this),e.jsxDEV("div",{className:"students-grid",children:r.map(C=>{var U,x;return e.jsxDEV("div",{className:`student-card ${(n==null?void 0:n.id)===C.id?"active":""}`,children:[e.jsxDEV("div",{className:"student-info",children:[e.jsxDEV("div",{className:"student-avatar",children:((U=C.first_name)==null?void 0:U.charAt(0).toUpperCase())||"?"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:131,columnNumber:15},this),e.jsxDEV("div",{className:"student-details",children:[e.jsxDEV("h3",{children:f(C.first_name)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:135,columnNumber:17},this),e.jsxDEV("p",{className:"student-age",children:["Age: ",C.age]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:136,columnNumber:17},this),C.neurodiversity_profile&&C.neurodiversity_profile.length>0&&e.jsxDEV("div",{className:"student-profile",children:C.neurodiversity_profile.map(S=>{var j;return e.jsxDEV("span",{className:"profile-badge",children:((j=b.find(_=>_.value===S))==null?void 0:j.label)||S},S,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:140,columnNumber:23},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:138,columnNumber:19},this),e.jsxDEV("p",{className:"student-courses",children:[((x=C.enrolledCourses)==null?void 0:x.length)||0," courses enrolled"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:146,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:130,columnNumber:13},this),e.jsxDEV("div",{className:"student-actions",children:[(n==null?void 0:n.id)!==C.id&&e.jsxDEV("button",{onClick:()=>l(C.id),className:"btn-secondary btn-sm",children:"Switch To"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:154,columnNumber:17},this),(n==null?void 0:n.id)===C.id&&e.jsxDEV("span",{className:"active-badge",children:"Active"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:162,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>R(C),className:"btn-secondary btn-sm",children:"Edit"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:164,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>L(C.id),className:"btn-secondary btn-sm btn-danger",children:"Delete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:152,columnNumber:13},this)]},C.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:126,columnNumber:11},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:124,columnNumber:7},this),o&&e.jsxDEV("div",{className:"modal-overlay",onClick:()=>c(!1),children:e.jsxDEV("div",{className:"modal-content",onClick:C=>C.stopPropagation(),children:[e.jsxDEV("h2",{children:m?"Edit Student":"Add New Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:184,columnNumber:13},this),e.jsxDEV("form",{onSubmit:v,children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"firstName",children:"First Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:187,columnNumber:17},this),e.jsxDEV("input",{id:"firstName",name:"firstName",type:"text",value:g.firstName,onChange:p,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:188,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:186,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"age",children:"Age"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:199,columnNumber:17},this),e.jsxDEV("input",{id:"age",name:"age",type:"number",value:g.age,onChange:p,required:!0,min:"3",max:"18"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:200,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:198,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Learning Profile (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:213,columnNumber:17},this),e.jsxDEV("div",{className:"checkbox-group",children:b.map(C=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:g.neurodiversityProfile.includes(C.value),onChange:()=>y(C.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:217,columnNumber:23},this),e.jsxDEV("span",{children:C.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:222,columnNumber:23},this)]},C.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:216,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:214,columnNumber:17},this),g.neurodiversityProfile.includes("other")&&e.jsxDEV("div",{className:"nested-field",children:e.jsxDEV("input",{type:"text",name:"otherNeeds",placeholder:"Please describe specific needs...",value:g.otherNeeds,onChange:p},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:229,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:228,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:212,columnNumber:15},this),e.jsxDEV("div",{className:"modal-actions",children:[e.jsxDEV("button",{type:"button",onClick:()=>c(!1),className:"btn-secondary",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:241,columnNumber:17},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",children:m?"Update Student":"Add Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:244,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:240,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:185,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:183,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:116,columnNumber:5},this)}const ki={autism:"Autism Spectrum",adhd:"ADHD",dyslexia:"Dyslexia",dysgraphia:"Dysgraphia",dyscalculia:"Dyscalculia",other:"Other"},us={autism:"#4A90E2",adhd:"#F5A623",dyslexia:"#7ED321",dysgraphia:"#9013FE",dyscalculia:"#FF6B6B",other:"#6C757D"};function Di({profile:r,size:s="medium",showLabel:i=!0}){return!r||!r.length?null:e.jsxDEV("div",{className:`neurodiversity-badges ${s}`,children:[i&&e.jsxDEV("span",{className:"badges-label",children:"Neurodiversity Profile:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:34,columnNumber:21},this),e.jsxDEV("div",{className:"badges-list",children:r.map((a,n)=>e.jsxDEV("span",{className:"neurodiversity-badge",style:{backgroundColor:us[a]||us.other,color:"white"},children:ki[a]||a},n,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:37,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:35,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:33,columnNumber:5},this)}function Ti(){const{user:r,profile:s}=G(),[i,a]=h.useState([]),[n,l]=h.useState(!0),[t,o]=h.useState(""),c=156,m=87,d=3;h.useEffect(()=>{r&&g()},[r]);const g=async()=>{try{const N=await Q(Z.courses.getInstructorCourses,r.id);a(N||[])}catch(N){console.error("Error fetching courses:",N),o("Failed to load courses")}finally{l(!1)}};return e.jsxDEV("div",{className:"instructor-dashboard",children:[e.jsxDEV("div",{className:"dashboard-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{children:"Instructor Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:41,columnNumber:11},this),e.jsxDEV("div",{className:"instructor-profile-summary",children:[e.jsxDEV("p",{children:["Welcome back, ",(s==null?void 0:s.first_name)||"Instructor","!"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:43,columnNumber:13},this),(s==null?void 0:s.neurodiversity_profile)&&s.neurodiversity_profile.length>0&&e.jsxDEV(Di,{profile:s.neurodiversity_profile,size:"small",showLabel:!1},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:45,columnNumber:15},this),(!(s!=null&&s.bio)||!(s!=null&&s.neurodiversity_profile)||s.neurodiversity_profile.length===0)&&e.jsxDEV("div",{className:"profile-incomplete-notice",children:[e.jsxDEV("span",{children:"üìù Complete your instructor profile to help parents find you"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:53,columnNumber:17},this),e.jsxDEV(H,{to:"/onboarding",className:"btn-link",children:"Complete Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:54,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:52,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:42,columnNumber:11},this),e.jsxDEV("div",{className:"notification-alert",children:["üîî You have ",d," pending enrollment request","s"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:59,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:40,columnNumber:9},this),e.jsxDEV(H,{to:"/instructor/create-course",className:"btn-primary",children:"Create New Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:64,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:39,columnNumber:7},this),e.jsxDEV("div",{className:"stats-grid",children:[e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:i.length},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:71,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Total Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:72,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:70,columnNumber:9},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:c},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:75,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Total Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:76,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:74,columnNumber:9},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:m},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:79,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Sessions Completed"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:80,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:78,columnNumber:9},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:"4.8"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:83,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Average Rating"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:84,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:82,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:69,columnNumber:7},this),e.jsxDEV("div",{className:"dashboard-section",children:[e.jsxDEV("h2",{children:"My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:89,columnNumber:9},this),n?e.jsxDEV("div",{children:"Loading courses..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:91,columnNumber:11},this):t?e.jsxDEV("div",{className:"error-message",children:t},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:93,columnNumber:11},this):i.length===0?e.jsxDEV("div",{className:"empty-state",children:[e.jsxDEV("p",{children:"You haven't created any courses yet."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:96,columnNumber:13},this),e.jsxDEV(H,{to:"/instructor/create-course",className:"btn-primary",children:"Create Your First Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:97,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:95,columnNumber:11},this):e.jsxDEV("div",{className:"instructor-courses-list",children:i.map(N=>{var f,b,p;return e.jsxDEV("div",{className:"instructor-course-card",children:[e.jsxDEV("div",{className:"course-details",children:[e.jsxDEV("h3",{children:N.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:106,columnNumber:19},this),e.jsxDEV("div",{className:"course-stats",children:[e.jsxDEV("span",{children:[((f=N.enrollments)==null?void 0:f.length)||0,N.enrollment_limit?` / ${N.enrollment_limit}`:""," students",N.enrollment_limit&&(((b=N.enrollments)==null?void 0:b.length)||0)>=N.enrollment_limit&&e.jsxDEV("span",{className:"full-indicator",children:" (FULL)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:112,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:108,columnNumber:21},this),e.jsxDEV("span",{children:["Status: ",N.status]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:115,columnNumber:21},this),e.jsxDEV("span",{children:[((p=N.sessions)==null?void 0:p.length)||0," sessions"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:116,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:107,columnNumber:19},this),e.jsxDEV("p",{className:"course-description",children:N.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:118,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:105,columnNumber:17},this),e.jsxDEV("div",{className:"course-actions",children:[e.jsxDEV(H,{to:`/courses/${N.id}`,className:"btn-secondary",children:"View"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:121,columnNumber:19},this),e.jsxDEV(H,{to:`/instructor/course/${N.id}/manage`,className:"btn-primary",children:"Manage Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:124,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:120,columnNumber:17},this)]},N.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:104,columnNumber:15},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:88,columnNumber:7},this),e.jsxDEV("div",{className:"dashboard-section",children:[e.jsxDEV("h2",{children:"Pending Enrollment Requests"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:135,columnNumber:9},this),e.jsxDEV("div",{className:"requests-list",children:[e.jsxDEV("div",{className:"request-item",children:[e.jsxDEV("div",{className:"request-info",children:[e.jsxDEV("div",{className:"request-student",children:"Emma Thompson"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:139,columnNumber:15},this),e.jsxDEV("div",{className:"request-course",children:"Positive Parenting Fundamentals"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:140,columnNumber:15},this),e.jsxDEV("div",{className:"request-profile",children:e.jsxDEV("span",{className:"profile-badge",children:"Autism"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:142,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:141,columnNumber:15},this),e.jsxDEV("div",{className:"request-time",children:"2 hours ago"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:144,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:138,columnNumber:13},this),e.jsxDEV("div",{className:"request-actions",children:[e.jsxDEV("button",{className:"btn-primary",children:"Approve"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:147,columnNumber:15},this),e.jsxDEV("button",{className:"btn-secondary",children:"Decline"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:146,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:137,columnNumber:11},this),e.jsxDEV("div",{className:"request-item",children:[e.jsxDEV("div",{className:"request-info",children:[e.jsxDEV("div",{className:"request-student",children:"Liam Chen"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:153,columnNumber:15},this),e.jsxDEV("div",{className:"request-course",children:"Positive Parenting Fundamentals"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:154,columnNumber:15},this),e.jsxDEV("div",{className:"request-profile",children:[e.jsxDEV("span",{className:"profile-badge",children:"ADHD"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:156,columnNumber:17},this),e.jsxDEV("span",{className:"profile-badge",children:"Dyslexia"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:157,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:155,columnNumber:15},this),e.jsxDEV("div",{className:"request-time",children:"5 hours ago"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:159,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:152,columnNumber:13},this),e.jsxDEV("div",{className:"request-actions",children:[e.jsxDEV("button",{className:"btn-primary",children:"Approve"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:162,columnNumber:15},this),e.jsxDEV("button",{className:"btn-secondary",children:"Decline"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:163,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:161,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:151,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:136,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:134,columnNumber:7},this),e.jsxDEV("div",{className:"dashboard-section",children:[e.jsxDEV("h2",{children:"Recent Activity"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:170,columnNumber:9},this),e.jsxDEV("div",{className:"activity-list",children:[e.jsxDEV(H,{to:"/instructor/course/1/manage?tab=homework",className:"activity-item",children:[e.jsxDEV("div",{className:"activity-icon",children:"üìù"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:173,columnNumber:13},this),e.jsxDEV("div",{className:"activity-content",children:[e.jsxDEV("div",{className:"activity-title",children:"New homework submission"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:175,columnNumber:15},this),e.jsxDEV("div",{className:"activity-subtitle",children:"Positive Parenting Fundamentals"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:176,columnNumber:15},this),e.jsxDEV("div",{className:"activity-time",children:"2 hours ago"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:177,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:174,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:172,columnNumber:11},this),e.jsxDEV(H,{to:"/instructor/course/1/manage?tab=students",className:"activity-item",children:[e.jsxDEV("div",{className:"activity-icon",children:"üë§"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:181,columnNumber:13},this),e.jsxDEV("div",{className:"activity-content",children:[e.jsxDEV("div",{className:"activity-title",children:"3 new students enrolled"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:183,columnNumber:15},this),e.jsxDEV("div",{className:"activity-subtitle",children:"Positive Parenting Fundamentals"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:184,columnNumber:15},this),e.jsxDEV("div",{className:"activity-time",children:"1 day ago"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:185,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:182,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:180,columnNumber:11},this),e.jsxDEV("div",{className:"activity-item",children:[e.jsxDEV("div",{className:"activity-icon",children:"‚≠ê"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:189,columnNumber:13},this),e.jsxDEV("div",{className:"activity-content",children:[e.jsxDEV("div",{className:"activity-title",children:"New 5-star review received"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:191,columnNumber:15},this),e.jsxDEV("div",{className:"activity-subtitle",children:"Piano for Beginners"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:192,columnNumber:15},this),e.jsxDEV("div",{className:"activity-time",children:"5 hours ago"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:193,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:190,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:188,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:171,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:169,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:38,columnNumber:5},this)}function Ui(){const r=ie(),{user:s}=G(),[i,a]=h.useState(!1),[n,l]=h.useState(""),[t,o]=h.useState({title:"",description:"",category:"parenting",courseType:"group",price:"",sessionDuration:"",sessionTime:"",enrollmentLimit:"",startDate:"",repeatEvery:1,repeatUnit:"week",selectedDays:[],endDate:"",hasEndDate:!1}),c=g=>{const N=g.target.type==="checkbox"?g.target.checked:g.target.value;o({...t,[g.target.name]:N})},m=g=>{const N=t.selectedDays;N.includes(g)?o({...t,selectedDays:N.filter(f=>f!==g)}):o({...t,selectedDays:[...N,g]})},d=async g=>{if(g.preventDefault(),!s){l("You must be logged in to create a course");return}a(!0),l("");try{const N={title:t.title,description:t.description,category:t.category,courseType:t.courseType,sessionDuration:t.sessionDuration,enrollmentLimit:t.enrollmentLimit,startDate:t.startDate,sessionTime:t.sessionTime,selectedDays:t.selectedDays,hasEndDate:t.hasEndDate,endDate:t.endDate},f=await Q(Z.courses.create,N,s);console.log("Course created successfully:",f.course),alert(f.message),r("/instructor/dashboard")}catch(N){console.error("Error creating course:",N),l(N.message||"Failed to create course. Please try again.")}finally{a(!1)}};return e.jsxDEV("div",{className:"create-course",style:{padding:"1.5rem",maxWidth:"1200px",margin:"0 auto"},children:[e.jsxDEV("h1",{style:{marginBottom:"1rem",fontSize:"1.75rem"},children:"Create New Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:101,columnNumber:7},this),n&&e.jsxDEV("div",{className:"error-message",style:{background:"#fee2e2",border:"1px solid #fecaca",color:"#dc2626",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem"},children:n},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:104,columnNumber:9},this),e.jsxDEV("form",{onSubmit:d,className:"auth-form",style:{maxWidth:"100%"},children:[e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{htmlFor:"title",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Course Title *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:123,columnNumber:15},this),e.jsxDEV("input",{id:"title",name:"title",type:"text",value:t.title,onChange:c,required:!0,placeholder:"e.g., Introduction to Positive Parenting",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:124,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:122,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{htmlFor:"description",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Description *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:137,columnNumber:15},this),e.jsxDEV("textarea",{id:"description",name:"description",value:t.description,onChange:c,required:!0,rows:"3",placeholder:"Describe what students will learn...",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:138,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:136,columnNumber:13},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"category",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Category *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:152,columnNumber:17},this),e.jsxDEV("select",{id:"category",name:"category",value:t.category,onChange:c,required:!0,style:{padding:"0.5rem"},children:[e.jsxDEV("option",{value:"parenting",children:"Parenting üë®‚Äçüë©‚Äçüëß‚Äçüë¶"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:161,columnNumber:19},this),e.jsxDEV("option",{value:"music",children:"Music üéµ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:162,columnNumber:19},this),e.jsxDEV("option",{value:"dance",children:"Dance üíÉ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:163,columnNumber:19},this),e.jsxDEV("option",{value:"drama",children:"Drama üé≠"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:164,columnNumber:19},this),e.jsxDEV("option",{value:"art",children:"Art üé®"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:165,columnNumber:19},this),e.jsxDEV("option",{value:"language",children:"Language üåç"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:166,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:153,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:151,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"courseType",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Course Type *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:171,columnNumber:17},this),e.jsxDEV("select",{id:"courseType",name:"courseType",value:t.courseType,onChange:c,required:!0,style:{padding:"0.5rem"},children:[e.jsxDEV("option",{value:"group",children:"Group Class üë•"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:180,columnNumber:19},this),e.jsxDEV("option",{value:"one-on-one",children:"One-on-One üë§"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:181,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:172,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:150,columnNumber:13},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"price",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Price ($)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:188,columnNumber:17},this),e.jsxDEV("input",{id:"price",name:"price",type:"number",value:"0.00",disabled:!0,style:{backgroundColor:"#f3f4f6",cursor:"not-allowed",color:"#6b7280",padding:"0.5rem"},placeholder:"0.00"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:189,columnNumber:17},this),e.jsxDEV("p",{style:{fontSize:"0.75rem",color:"#10b981",margin:"0.25rem 0 0 0"},children:"‚ú® Free for all"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:203,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:187,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"enrollmentLimit",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Max Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:209,columnNumber:17},this),e.jsxDEV("input",{id:"enrollmentLimit",name:"enrollmentLimit",type:"number",value:t.enrollmentLimit,onChange:c,min:"1",placeholder:"Unlimited",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:212,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:208,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:186,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:121,columnNumber:11},this),e.jsxDEV("div",{children:[t.courseType==="one-on-one"&&e.jsxDEV("div",{style:{background:"#dbeafe",borderLeft:"4px solid #3b82f6",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:e.jsxDEV("p",{style:{margin:0,color:"#1e40af"},children:"‚ÑπÔ∏è Schedule individual sessions with each student after enrollment."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:237,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:229,columnNumber:15},this),t.courseType==="group"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("h3",{style:{fontSize:"1.1rem",marginBottom:"0.75rem",color:"#374151"},children:"Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:245,columnNumber:17},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"sessionDuration",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Duration (min) *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:249,columnNumber:21},this),e.jsxDEV("input",{id:"sessionDuration",name:"sessionDuration",type:"number",value:t.sessionDuration,onChange:c,required:!0,min:"15",step:"15",placeholder:"60",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:250,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:248,columnNumber:19},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"sessionTime",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Time *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:265,columnNumber:21},this),e.jsxDEV("input",{id:"sessionTime",name:"sessionTime",type:"time",value:t.sessionTime,onChange:c,required:!0,style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:266,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:264,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:247,columnNumber:17},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"startDate",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Start Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:280,columnNumber:21},this),e.jsxDEV("input",{id:"startDate",name:"startDate",type:"date",value:t.startDate,onChange:c,required:!0,style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:281,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:279,columnNumber:19},this),t.hasEndDate&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"endDate",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"End Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:294,columnNumber:23},this),e.jsxDEV("input",{id:"endDate",name:"endDate",type:"date",value:t.endDate,onChange:c,min:t.startDate,required:t.hasEndDate,style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:295,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:293,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:278,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Repeat Every *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:310,columnNumber:19},this),e.jsxDEV("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxDEV("input",{type:"number",name:"repeatEvery",value:t.repeatEvery,onChange:c,min:"1",max:"52",required:!0,style:{width:"80px",padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:312,columnNumber:21},this),e.jsxDEV("select",{name:"repeatUnit",value:t.repeatUnit,onChange:c,required:!0,style:{flex:1,padding:"0.5rem"},children:[e.jsxDEV("option",{value:"day",children:"Day(s)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:329,columnNumber:23},this),e.jsxDEV("option",{value:"week",children:"Week(s)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:330,columnNumber:23},this),e.jsxDEV("option",{value:"month",children:"Month(s)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:331,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:322,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:311,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:309,columnNumber:17},this),t.repeatUnit==="week"&&e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{style:{fontSize:"0.9rem",marginBottom:"0.5rem"},children:"On These Days *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:338,columnNumber:21},this),e.jsxDEV("div",{className:"days-selector",children:[{short:"M",full:"Monday"},{short:"T",full:"Tuesday"},{short:"W",full:"Wednesday"},{short:"T",full:"Thursday"},{short:"F",full:"Friday"},{short:"S",full:"Saturday"},{short:"S",full:"Sunday"}].map((g,N)=>e.jsxDEV("button",{type:"button",className:`day-button ${t.selectedDays.includes(g.full)?"active":""}`,onClick:()=>m(g.full),style:{padding:"0.5rem 0.75rem",fontSize:"0.9rem"},children:g.short},N,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:349,columnNumber:25},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:339,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:337,columnNumber:19},this),e.jsxDEV("div",{className:"form-group",children:e.jsxDEV("label",{style:{display:"flex",alignItems:"center",fontSize:"0.9rem"},children:[e.jsxDEV("input",{type:"checkbox",name:"hasEndDate",checked:t.hasEndDate,onChange:c,style:{marginRight:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:365,columnNumber:21},this),"Set an end date"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:364,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:363,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:244,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:227,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:118,columnNumber:9},this),e.jsxDEV("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:[e.jsxDEV("button",{type:"button",onClick:()=>r(-1),className:"btn-secondary",style:{minWidth:"120px"},children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:382,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",disabled:i,style:{minWidth:"120px"},children:i?"Creating...":"Create Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:385,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:381,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:116,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:100,columnNumber:5},this)}function ps(){var ke;const{courseId:r}=Ve(),s=ie(),i=Ue.find(D=>D.id===r);if(!i)return e.jsxDEV("div",{children:"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:11,columnNumber:23},this);const a=i.courseType==="group",n=[{id:"1",name:"Emma Thompson",neurodiversity:["Autism"]},{id:"2",name:"Liam Chen",neurodiversity:["ADHD","Dyslexia"]},{id:"3",name:"Sophia Rodriguez",neurodiversity:["Other"]}],l=a?8:n.length,t=i.enrollmentLimit||10,[o,c]=h.useState("https://zoom.us/j/123456789"),[m,d]=h.useState(!1),[g,N]=h.useState(o),[f,b]=h.useState(a?[{id:1,date:"2024-01-15",time:"10:00 AM",topic:"Introduction to scales and basic techniques",topicSet:!0,attendees:8},{id:2,date:"2024-01-17",time:"10:00 AM",topic:"",topicSet:!1,meetingLink:"",attendees:8},{id:3,date:"2024-01-22",time:"10:00 AM",topic:"",topicSet:!1,meetingLink:"",attendees:8},{id:4,date:"2024-01-24",time:"10:00 AM",topic:"",topicSet:!1,meetingLink:"",attendees:8}]:[{id:1,studentId:"1",studentName:"Emma Thompson",date:"2024-01-15",time:"10:00 AM",topic:"Review scales and introduce new piece",topicSet:!0,meetingLink:"https://zoom.us/j/123456789"},{id:2,studentId:"1",studentName:"Emma Thompson",date:"2024-01-17",time:"10:00 AM",topic:"",topicSet:!1,meetingLink:""},{id:3,studentId:"2",studentName:"Liam Chen",date:"2024-01-15",time:"11:00 AM",topic:"Continue with chord progressions",topicSet:!0,meetingLink:"https://meet.google.com/abc-defg-hij"},{id:4,studentId:"2",studentName:"Liam Chen",date:"2024-01-17",time:"11:00 AM",topic:"",topicSet:!1,meetingLink:""}]),[p,y]=h.useState(null),[T,R]=h.useState(""),[v,L]=h.useState(!1),[C,U]=h.useState({studentId:"",date:"",time:"",topic:"",meetingLink:o}),[x,S]=h.useState(!1),[j,_]=h.useState({studentId:"",selectedDays:[],time:"",duration:60,startDate:"",endDate:"",frequency:"weekly"}),[w,B]=h.useState({}),V=a?null:n.map(D=>({student:D,sessions:f.filter(q=>q.studentId===D.id)})),P=D=>{y(D.id),R(D.topic)},$=()=>{c(g),d(!1)},ae=()=>{N(o),d(!1)},te=D=>{b(f.map(q=>q.id===D?{...q,topic:T,topicSet:T.trim()!==""}:q)),y(null),R("")},oe=()=>{y(null),R("")},ve=()=>{var q;if(!C.date||!C.time){alert("Please fill in date and time");return}if(!a&&!C.studentId){alert("Please select a student");return}const D={id:f.length+1,date:C.date,time:C.time,topic:C.topic,topicSet:C.topic.trim()!=="",meetingLink:C.meetingLink||o,...a?{attendees:l}:{studentId:C.studentId,studentName:(q=n.find(z=>z.id===C.studentId))==null?void 0:q.name}};b([...f,D].sort((z,X)=>new Date(z.date+" "+z.time)-new Date(X.date+" "+X.time))),L(!1),U({studentId:"",date:"",time:"",topic:"",meetingLink:o})},ce=()=>{L(!1),U({studentId:"",date:"",time:"",topic:"",meetingLink:o})},be=(D=null)=>{const q=D?w[D]:w.group;_(q||{studentId:D||"",selectedDays:[],time:"",duration:60,startDate:new Date().toISOString().split("T")[0],endDate:"",frequency:"weekly"}),S(!0)},Se=D=>{_(q=>({...q,selectedDays:q.selectedDays.includes(D)?q.selectedDays.filter(z=>z!==D):[...q.selectedDays,D]}))},Ce=()=>{var Ee;if(!j.selectedDays.length||!j.time||!j.startDate){alert("Please fill in all required fields");return}if(!a&&!j.studentId){alert("Please select a student");return}const D=[],q=new Date(j.startDate),z=j.endDate?new Date(j.endDate):new Date(q.getTime()+90*24*60*60*1e3);let X=new Date(q),me=f.length+1;for(;X<=z;){const de=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][X.getDay()];if(j.selectedDays.includes(de)){const Ne={id:me++,date:X.toISOString().split("T")[0],time:j.time,topic:"",topicSet:!1,meetingLink:o,recurring:!0,...a?{attendees:l}:{studentId:j.studentId,studentName:(Ee=n.find(ge=>ge.id===j.studentId))==null?void 0:Ee.name}};D.push(Ne)}X.setDate(X.getDate()+1)}b([...f,...D].sort((de,Ne)=>new Date(de.date+" "+de.time)-new Date(Ne.date+" "+Ne.time)));const we=a?"group":j.studentId;B({...w,[we]:j}),S(!1)},pe=()=>{S(!1)};return e.jsxDEV("div",{className:"manage-sessions",children:[e.jsxDEV("div",{className:"sessions-header",children:e.jsxDEV("div",{children:[e.jsxDEV("button",{onClick:()=>s(-1),className:"back-button",children:"‚Üê Back"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:321,columnNumber:11},this),e.jsxDEV("h1",{children:"Manage Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:324,columnNumber:11},this),e.jsxDEV("p",{className:"course-title",children:i.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:325,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:320,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:319,columnNumber:7},this),e.jsxDEV("div",{className:"sessions-info-banner",children:e.jsxDEV("p",{children:["üí° ",a?"Set session topics for your group classes. All enrolled students will see the same schedule.":"Set session topics based on each student's progress and learning needs. Topics help students prepare for upcoming classes."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:330,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:329,columnNumber:7},this),e.jsxDEV("div",{className:"course-meeting-link-section",children:[e.jsxDEV("h3",{children:"üìπ Course Meeting Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:337,columnNumber:9},this),e.jsxDEV("p",{className:"meeting-link-description",children:"Set one meeting link for all sessions in this course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:338,columnNumber:9},this),m?e.jsxDEV("div",{className:"meeting-link-edit",children:[e.jsxDEV("input",{type:"url",value:g,onChange:D=>N(D.target.value),placeholder:"https://zoom.us/j/... or https://meet.google.com/...",className:"meeting-link-input",autoFocus:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:341,columnNumber:13},this),e.jsxDEV("div",{className:"meeting-link-actions",children:[e.jsxDEV("button",{onClick:$,className:"btn-primary btn-sm",children:"Save Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:350,columnNumber:15},this),e.jsxDEV("button",{onClick:ae,className:"btn-secondary btn-sm",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:353,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:349,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:340,columnNumber:11},this):e.jsxDEV("div",{className:"meeting-link-display-section",children:[e.jsxDEV("div",{className:"meeting-link-value",children:["üîó ",o||"No meeting link set"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:360,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>d(!0),className:"btn-secondary btn-sm",children:o?"Edit Link":"Set Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:363,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:359,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:336,columnNumber:7},this),a?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"course-stats",children:[e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:374,columnNumber:15},this),e.jsxDEV("div",{className:"stat-label",children:"Enrolled Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:375,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:373,columnNumber:13},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:t-l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:378,columnNumber:15},this),e.jsxDEV("div",{className:"stat-label",children:"Spots Remaining"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:379,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:377,columnNumber:13},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:f.length},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:382,columnNumber:15},this),e.jsxDEV("div",{className:"stat-label",children:"Upcoming Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:383,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:381,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:372,columnNumber:11},this),e.jsxDEV("div",{className:"sessions-container",children:[e.jsxDEV("div",{className:"sessions-header-row",children:[e.jsxDEV("h2",{children:"Group Sessions Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:389,columnNumber:15},this),e.jsxDEV("div",{className:"header-actions",children:[e.jsxDEV("button",{onClick:()=>be(),className:"btn-secondary",children:w.group?"‚öôÔ∏è Edit Schedule":"üìÖ Set up Recurring Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:391,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>L(!0),className:"btn-primary",children:"+ Create Single Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:394,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:390,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:388,columnNumber:13},this),e.jsxDEV("div",{className:"sessions-list",children:f.map(D=>e.jsxDEV("div",{className:"session-item",children:[e.jsxDEV("div",{className:"session-date-time",children:[e.jsxDEV("div",{className:"session-date",children:new Date(D.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:403,columnNumber:17},this),e.jsxDEV("div",{className:"session-time",children:D.time},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:410,columnNumber:17},this),e.jsxDEV("div",{className:"session-attendees",children:["üë• ",D.attendees," students"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:411,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:402,columnNumber:15},this),e.jsxDEV("div",{className:"session-topic-area",children:p===D.id?e.jsxDEV("div",{className:"topic-edit",children:[e.jsxDEV("div",{className:"edit-fields",children:[e.jsxDEV("input",{type:"text",value:T,onChange:q=>R(q.target.value),placeholder:"Enter session topic...",className:"topic-input",autoFocus:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:418,columnNumber:23},this),e.jsxDEV("input",{type:"url",value:g,onChange:q=>N(q.target.value),placeholder:"Meeting link (Zoom, Google Meet, etc.)",className:"topic-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:426,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:417,columnNumber:21},this),e.jsxDEV("div",{className:"topic-actions",children:[e.jsxDEV("button",{onClick:()=>te(D.id),className:"btn-primary btn-sm",children:"Save"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:435,columnNumber:23},this),e.jsxDEV("button",{onClick:oe,className:"btn-secondary btn-sm",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:441,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:434,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:416,columnNumber:19},this):e.jsxDEV("div",{className:"topic-display",children:[e.jsxDEV("div",{className:"topic-info",children:D.topicSet?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text",children:D.topic},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:454,columnNumber:27},this),D.meetingLink&&e.jsxDEV("div",{className:"meeting-link-display",children:["üîó ",D.meetingLink]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:456,columnNumber:29},this),e.jsxDEV("span",{className:"topic-status set",children:"‚úì Ready"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:460,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:453,columnNumber:25},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text empty",children:"No topic set yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:464,columnNumber:27},this),e.jsxDEV("span",{className:"topic-status pending",children:"‚ö† Pending"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:465,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:463,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:451,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>P(D),className:"btn-secondary btn-sm",children:D.topicSet?"Edit":"Set Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:469,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:450,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:414,columnNumber:15},this)]},D.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:401,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:399,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:387,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:371,columnNumber:9},this):e.jsxDEV("div",{className:"students-sessions",children:[e.jsxDEV("div",{className:"create-session-section",children:e.jsxDEV("button",{onClick:()=>L(!0),className:"btn-primary",children:"+ Create Single Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:486,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:485,columnNumber:11},this),V.map(({student:D,sessions:q})=>e.jsxDEV("div",{className:"student-section",children:[e.jsxDEV("div",{className:"student-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("h2",{children:D.name},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:495,columnNumber:19},this),e.jsxDEV("div",{className:"student-profile",children:D.neurodiversity.map((z,X)=>e.jsxDEV("span",{className:"profile-badge",children:z},X,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:498,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:496,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:494,columnNumber:17},this),e.jsxDEV("div",{className:"student-actions",children:e.jsxDEV("button",{onClick:()=>be(D.id),className:"btn-secondary btn-sm",children:w[D.id]?"‚öôÔ∏è Edit Schedule":"üìÖ Set Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:503,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:502,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:493,columnNumber:15},this),e.jsxDEV("div",{className:"sessions-list",children:q.map(z=>e.jsxDEV("div",{className:"session-item",children:[e.jsxDEV("div",{className:"session-date-time",children:[e.jsxDEV("div",{className:"session-date",children:new Date(z.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:516,columnNumber:23},this),e.jsxDEV("div",{className:"session-time",children:z.time},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:523,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:515,columnNumber:21},this),e.jsxDEV("div",{className:"session-topic-area",children:p===z.id?e.jsxDEV("div",{className:"topic-edit",children:[e.jsxDEV("div",{className:"edit-fields",children:[e.jsxDEV("input",{type:"text",value:T,onChange:X=>R(X.target.value),placeholder:"Enter session topic...",className:"topic-input",autoFocus:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:530,columnNumber:29},this),e.jsxDEV("input",{type:"url",value:g,onChange:X=>N(X.target.value),placeholder:"Meeting link (Zoom, Google Meet, etc.)",className:"topic-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:538,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:529,columnNumber:27},this),e.jsxDEV("div",{className:"topic-actions",children:[e.jsxDEV("button",{onClick:()=>te(z.id),className:"btn-primary btn-sm",children:"Save"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:547,columnNumber:29},this),e.jsxDEV("button",{onClick:oe,className:"btn-secondary btn-sm",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:553,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:546,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:528,columnNumber:25},this):e.jsxDEV("div",{className:"topic-display",children:[e.jsxDEV("div",{className:"topic-info",children:z.topicSet?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text",children:z.topic},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:566,columnNumber:33},this),z.meetingLink&&e.jsxDEV("div",{className:"meeting-link-display",children:["üîó ",z.meetingLink]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:568,columnNumber:35},this),e.jsxDEV("span",{className:"topic-status set",children:"‚úì Ready"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:572,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:565,columnNumber:31},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text empty",children:"No topic set yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:576,columnNumber:33},this),e.jsxDEV("span",{className:"topic-status pending",children:"‚ö† Pending"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:577,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:575,columnNumber:31},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:563,columnNumber:27},this),e.jsxDEV("button",{onClick:()=>P(z),className:"btn-secondary btn-sm",children:z.topicSet?"Edit":"Set Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:581,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:562,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:526,columnNumber:21},this)]},z.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:514,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:512,columnNumber:15},this)]},D.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:492,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:484,columnNumber:9},this),v&&e.jsxDEV("div",{className:"modal-overlay",onClick:ce,children:e.jsxDEV("div",{className:"modal-content",onClick:D=>D.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:"Create New Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:603,columnNumber:15},this),e.jsxDEV("button",{className:"close-button",onClick:ce,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:604,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:602,columnNumber:13},this),e.jsxDEV("div",{className:"modal-body",children:[!a&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"student",children:"Student *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:610,columnNumber:19},this),e.jsxDEV("select",{id:"student",value:C.studentId,onChange:D=>U({...C,studentId:D.target.value}),className:"form-input",children:[e.jsxDEV("option",{value:"",children:"Select a student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:617,columnNumber:21},this),n.map(D=>e.jsxDEV("option",{value:D.id,children:D.name},D.id,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:619,columnNumber:23},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:611,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:609,columnNumber:17},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"date",children:"Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:629,columnNumber:19},this),e.jsxDEV("input",{id:"date",type:"date",value:C.date,onChange:D=>U({...C,date:D.target.value}),className:"form-input",min:new Date().toISOString().split("T")[0]},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:630,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:628,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"time",children:"Time *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:641,columnNumber:19},this),e.jsxDEV("input",{id:"time",type:"time",value:C.time,onChange:D=>U({...C,time:D.target.value}),className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:642,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:640,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:627,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"topic",children:"Session Topic (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:653,columnNumber:17},this),e.jsxDEV("input",{id:"topic",type:"text",value:C.topic,onChange:D=>U({...C,topic:D.target.value}),placeholder:"e.g., Review scales and introduce new piece",className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:654,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:652,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"meetingLink",children:"Meeting Link (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:665,columnNumber:17},this),e.jsxDEV("input",{id:"meetingLink",type:"url",value:C.meetingLink,onChange:D=>U({...C,meetingLink:D.target.value}),placeholder:"https://zoom.us/j/... or https://meet.google.com/...",className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:666,columnNumber:17},this),e.jsxDEV("p",{className:"form-hint",children:["Leave blank to use course default: ",o]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:674,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:664,columnNumber:15},this),e.jsxDEV("div",{className:"info-banner-modal",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:678,columnNumber:17},this),e.jsxDEV("p",{children:a?"This session will be visible to all enrolled students.":"After creating the session, you can discuss details with the student via chat."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:679,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:677,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:607,columnNumber:13},this),e.jsxDEV("div",{className:"modal-footer",children:[e.jsxDEV("button",{className:"btn-secondary",onClick:ce,children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:688,columnNumber:15},this),e.jsxDEV("button",{className:"btn-primary",onClick:ve,children:"Create Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:691,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:687,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:601,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:600,columnNumber:9},this),x&&e.jsxDEV("div",{className:"modal-overlay",onClick:pe,children:e.jsxDEV("div",{className:"modal-content modal-large",onClick:D=>D.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:w[j.studentId||"group"]?"Edit Recurring Schedule":"Set up Recurring Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:704,columnNumber:15},this),e.jsxDEV("button",{className:"close-button",onClick:pe,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:705,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:703,columnNumber:13},this),e.jsxDEV("div",{className:"modal-body",children:[!a&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"recurring-student",children:"Student *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:711,columnNumber:19},this),e.jsxDEV("select",{id:"recurring-student",value:j.studentId,onChange:D=>_({...j,studentId:D.target.value}),className:"form-input",children:[e.jsxDEV("option",{value:"",children:"Select a student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:718,columnNumber:21},this),n.map(D=>e.jsxDEV("option",{value:D.id,children:D.name},D.id,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:720,columnNumber:23},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:712,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:710,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"On These Days *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:729,columnNumber:17},this),e.jsxDEV("div",{className:"day-selector",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(D=>e.jsxDEV("button",{type:"button",className:`day-button ${j.selectedDays.includes(D)?"selected":""}`,onClick:()=>Se(D),children:D.substring(0,3)},D,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:732,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:730,columnNumber:17},this),e.jsxDEV("p",{className:"form-hint",children:"Select the days of the week when sessions will occur"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:742,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:728,columnNumber:15},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"recurring-time",children:"Session Time *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:747,columnNumber:19},this),e.jsxDEV("input",{id:"recurring-time",type:"time",value:j.time,onChange:D=>_({...j,time:D.target.value}),className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:748,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:746,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"duration",children:"Duration (minutes)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:758,columnNumber:19},this),e.jsxDEV("input",{id:"duration",type:"number",value:j.duration,onChange:D=>_({...j,duration:parseInt(D.target.value)}),className:"form-input",min:"15",step:"15"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:759,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:757,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:745,columnNumber:15},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"start-date",children:"Start Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:773,columnNumber:19},this),e.jsxDEV("input",{id:"start-date",type:"date",value:j.startDate,onChange:D=>_({...j,startDate:D.target.value}),className:"form-input",min:new Date().toISOString().split("T")[0]},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:774,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:772,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"end-date",children:"End Date (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:785,columnNumber:19},this),e.jsxDEV("input",{id:"end-date",type:"date",value:j.endDate,onChange:D=>_({...j,endDate:D.target.value}),className:"form-input",min:j.startDate},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:786,columnNumber:19},this),e.jsxDEV("p",{className:"form-hint",children:"Leave blank for 3 months"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:794,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:784,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:771,columnNumber:15},this),e.jsxDEV("div",{className:"info-banner-modal",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:799,columnNumber:17},this),e.jsxDEV("p",{children:a?"This will create recurring sessions for all enrolled students on the selected days and time.":"This will create recurring sessions for the selected student. You can set different schedules for each student."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:800,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:798,columnNumber:15},this),j.selectedDays.length>0&&j.time&&j.startDate&&e.jsxDEV("div",{className:"schedule-preview",children:[e.jsxDEV("h4",{children:"Schedule Preview:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:809,columnNumber:19},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:j.selectedDays.join(", ")},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:811,columnNumber:21},this)," at ",e.jsxDEV("strong",{children:j.time},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:811,columnNumber:85},this),!a&&j.studentId&&e.jsxDEV(e.Fragment,{children:[" for ",e.jsxDEV("strong",{children:(ke=n.find(D=>D.id===j.studentId))==null?void 0:ke.name},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:813,columnNumber:30},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:813,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:810,columnNumber:19},this),e.jsxDEV("p",{className:"preview-detail",children:["Starting ",new Date(j.startDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),j.endDate&&e.jsxDEV(e.Fragment,{children:[" until ",new Date(j.endDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:819,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:816,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:808,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:708,columnNumber:13},this),e.jsxDEV("div",{className:"modal-footer",children:[e.jsxDEV("button",{className:"btn-secondary",onClick:pe,children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:827,columnNumber:15},this),e.jsxDEV("button",{className:"btn-primary",onClick:Ce,children:w[j.studentId||"group"]?"Update Schedule":"Generate Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:830,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:826,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:702,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:701,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:318,columnNumber:5},this)}function Vi({course:r}){const s=r.courseType==="group",i=[{id:"1",name:"Emma Thompson",neurodiversity:["Autism"],homeworkCompleted:5,homeworkTotal:6,nextSession:s?null:"Mon 10:00 AM"},{id:"2",name:"Liam Chen",neurodiversity:["ADHD","Dyslexia"],homeworkCompleted:4,homeworkTotal:6,nextSession:s?null:"Mon 11:00 AM"},{id:"3",name:"Sophia Rodriguez",neurodiversity:["Other"],homeworkCompleted:6,homeworkTotal:6,nextSession:s?null:"Tue 2:00 PM"}],a=s?8:i.length,l=(r.enrollmentLimit||10)-a;return e.jsxDEV("div",{className:"course-students",children:[s&&e.jsxDEV("div",{className:"course-stats-grid",children:[e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:a},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:45,columnNumber:13},this),e.jsxDEV("div",{className:"stat-label",children:"Enrolled Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:46,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:44,columnNumber:11},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:49,columnNumber:13},this),e.jsxDEV("div",{className:"stat-label",children:"Spots Remaining"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:50,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:48,columnNumber:11},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:[80,"%"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:53,columnNumber:13},this),e.jsxDEV("div",{className:"stat-label",children:"Avg Completion"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:54,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:52,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:43,columnNumber:9},this),e.jsxDEV("div",{className:"students-section",children:[e.jsxDEV("div",{className:"students-header",children:[e.jsxDEV("h2",{children:s?"üë• Enrolled Students":"üë§ Individual Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:61,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:["‚ÑπÔ∏è ",s?"All students attend the same group sessions together":"Each student has their own schedule and individual sessions"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:63,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:62,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:60,columnNumber:9},this),e.jsxDEV("div",{className:"students-list",children:i.map(o=>e.jsxDEV("div",{className:"student-card",children:[e.jsxDEV("div",{className:"student-info",children:[e.jsxDEV("div",{className:"student-name",children:["üë§ ",o.name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:74,columnNumber:17},this),e.jsxDEV("div",{className:"student-profile",children:o.neurodiversity.map((c,m)=>e.jsxDEV("span",{className:"profile-badge",children:["üß© ",c]},m,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:77,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:75,columnNumber:17},this),!s&&o.nextSession&&e.jsxDEV("div",{className:"student-next-session",children:["üìÖ Next session: ",o.nextSession]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:81,columnNumber:19},this),e.jsxDEV("div",{className:"student-progress",children:["‚úÖ ",o.homeworkCompleted,"/",o.homeworkTotal," homework completed"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:85,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:73,columnNumber:15},this),e.jsxDEV("div",{className:"student-actions",children:[e.jsxDEV("button",{className:"btn-secondary btn-sm",children:"View Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:90,columnNumber:17},this),e.jsxDEV(H,{to:`/instructor/course/${r.id}/manage?tab=chat`,className:"btn-secondary btn-sm",children:"Send Message"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:91,columnNumber:17},this),!s&&e.jsxDEV(H,{to:`/instructor/course/${r.id}/manage?tab=sessions`,className:"btn-secondary btn-sm",children:"View Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:98,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:89,columnNumber:15},this)]},o.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:72,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:70,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:59,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:41,columnNumber:5},this)}function wi({course:r}){const[s,i]=h.useState(!1),[a,n]=h.useState(null),[l,t]=h.useState({title:"",description:"",dueDate:"",submissionType:"text"}),[o,c]=h.useState({title:"",description:"",dueDate:""}),[m,d]=h.useState([{id:1,title:"Practice Scales",dueDate:"2024-01-20",submissionType:"file",submitted:6,total:8,pendingReviews:2},{id:2,title:"Music Theory Quiz",dueDate:"2024-01-25",submissionType:"text",submitted:3,total:8,pendingReviews:0}]),g={1:[{id:1,studentId:"1",studentName:"Emma Thompson",submittedAt:"2024-01-18 3:45 PM",content:"scales-practice.mp3",contentType:"file",feedback:""},{id:2,studentId:"2",studentName:"Liam Chen",submittedAt:null,content:null,contentType:"file",feedback:""}]},[N,f]=h.useState(g),[b,p]=h.useState({}),[y,T]=h.useState(null),[R,v]=h.useState(null),L=()=>{const j={title:"",description:"",dueDate:""};let _=!0;if(l.title.trim()||(j.title="Please enter a title for this assignment",_=!1),l.description.trim()||(j.description="Please enter a description for this assignment",_=!1),!l.dueDate)j.dueDate="Please select a due date for this assignment",_=!1;else{const w=new Date(l.dueDate),B=new Date;B.setHours(0,0,0,0),w<B&&(j.dueDate="Due date cannot be in the past",_=!1)}return c(j),_},C=j=>{if(j.preventDefault(),!L())return;const _={id:m.length+1,...l,submitted:0,total:8,pendingReviews:0};d([...m,_]),console.log(`üìß Notification sent to all students: New homework assignment "${l.title}" created`),i(!1),t({title:"",description:"",dueDate:"",submissionType:"text"}),c({title:"",description:"",dueDate:""})},U=()=>{i(!1),t({title:"",description:"",dueDate:"",submissionType:"text"}),c({title:"",description:"",dueDate:""})},x=async(j,_)=>{const w=b[j]||"";if(!w.trim()){alert("Please enter feedback before saving.");return}T(j),setTimeout(()=>{f(B=>{const V={...B},P=V[a];if(P){const $=P.findIndex(ae=>ae.id===j);$!==-1&&(P[$]={...P[$],feedback:w,feedbackAt:new Date().toISOString()})}return V}),p({...b,[j]:""}),T(null),v(j),console.log(`üìß Notification sent to ${_}: New feedback on homework submission`),setTimeout(()=>{v(null)},3e3)},500)},S=j=>{window.confirm("Are you sure you want to delete this assignment?")&&d(m.filter(_=>_.id!==j))};if(a){const j=m.find(w=>w.id===a),_=N[a]||[];return e.jsxDEV("div",{className:"course-homework",children:[e.jsxDEV("button",{onClick:()=>n(null),className:"back-button",children:"‚Üê Back to Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:193,columnNumber:9},this),e.jsxDEV("div",{className:"submissions-header",children:[e.jsxDEV("h2",{children:[j.title," - Submissions"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:198,columnNumber:11},this),e.jsxDEV("p",{className:"due-date",children:["Due: ",new Date(j.dueDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:199,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:197,columnNumber:9},this),e.jsxDEV("div",{className:"submissions-list",children:_.map(w=>e.jsxDEV("div",{className:"submission-card",children:[e.jsxDEV("div",{className:"submission-header",children:[e.jsxDEV("div",{className:"student-name",children:["üë§ ",w.studentName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:210,columnNumber:17},this),w.submittedAt?e.jsxDEV("div",{className:"submitted-date",children:["Submitted: ",w.submittedAt]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:212,columnNumber:19},this):e.jsxDEV("div",{className:"not-submitted",children:"‚ö†Ô∏è Not submitted yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:216,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:209,columnNumber:15},this),w.submittedAt?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"submission-content",children:w.contentType==="file"?e.jsxDEV("div",{className:"file-submission",children:["üéµ ",w.content,e.jsxDEV("button",{className:"btn-secondary btn-sm",children:"Download"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:226,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:224,columnNumber:23},this):e.jsxDEV("div",{className:"text-submission",children:w.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:229,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:222,columnNumber:19},this),e.jsxDEV("div",{className:"feedback-section",children:[e.jsxDEV("label",{children:"Your Feedback:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:234,columnNumber:21},this),e.jsxDEV("textarea",{value:b[w.id]!==void 0?b[w.id]:w.feedback,onChange:B=>p({...b,[w.id]:B.target.value}),placeholder:"Write your feedback here...",rows:"3",disabled:y===w.id},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:235,columnNumber:21},this),e.jsxDEV("div",{className:"feedback-actions",children:[e.jsxDEV("button",{onClick:()=>x(w.id,w.studentName),className:"btn-primary btn-sm",disabled:y===w.id,children:y===w.id?"Saving...":"Save Feedback"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:248,columnNumber:23},this),R===w.id&&e.jsxDEV("div",{className:"feedback-confirmation",children:"‚úÖ Feedback saved! Student has been notified."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:256,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:247,columnNumber:21},this),w.feedback&&w.feedbackAt&&e.jsxDEV("div",{className:"feedback-info",children:e.jsxDEV("small",{children:["Last updated: ",new Date(w.feedbackAt).toLocaleString()]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:263,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:262,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:233,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:221,columnNumber:17},this):e.jsxDEV("button",{className:"btn-secondary btn-sm",children:"Send Reminder"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:269,columnNumber:17},this)]},w.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:208,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:206,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:192,columnNumber:7},this)}return e.jsxDEV("div",{className:"course-homework",children:[e.jsxDEV("div",{className:"homework-header",children:[e.jsxDEV("h2",{children:"üìù Homework Assignments"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:281,columnNumber:9},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"‚ÑπÔ∏è Create assignments and review student submissions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:283,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:282,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:280,columnNumber:7},this),e.jsxDEV("button",{onClick:()=>i(!0),className:"btn-primary",children:"+ Create New Assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:287,columnNumber:7},this),e.jsxDEV("div",{className:"assignments-list",children:m.map(j=>e.jsxDEV("div",{className:"assignment-card",children:[e.jsxDEV("div",{className:"assignment-info",children:[e.jsxDEV("h3",{children:j.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:295,columnNumber:15},this),e.jsxDEV("div",{className:"assignment-meta",children:[e.jsxDEV("span",{children:["Due: ",new Date(j.dueDate).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:297,columnNumber:17},this),e.jsxDEV("span",{children:["Type: ",j.submissionType==="file"?"File Upload":j.submissionType==="text"?"Text Response":"Checkmark"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:302,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:296,columnNumber:15},this),e.jsxDEV("div",{className:"assignment-stats",children:[e.jsxDEV("span",{className:"stat",children:["üìä ",j.submitted,"/",j.total," students submitted"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:306,columnNumber:17},this),j.pendingReviews>0?e.jsxDEV("span",{className:"stat pending",children:["‚ö†Ô∏è ",j.pendingReviews," pending reviews"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:308,columnNumber:19},this):e.jsxDEV("span",{className:"stat complete",children:"‚úÖ All reviewed"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:310,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:305,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:294,columnNumber:13},this),e.jsxDEV("div",{className:"assignment-actions",children:[e.jsxDEV("button",{onClick:()=>n(j.id),className:"btn-primary btn-sm",children:"View Submissions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:315,columnNumber:15},this),e.jsxDEV("button",{className:"btn-secondary btn-sm",children:"Edit"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:321,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>S(j.id),className:"btn-secondary btn-sm",children:"Delete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:322,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:314,columnNumber:13},this)]},j.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:293,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:291,columnNumber:7},this),s&&e.jsxDEV("div",{className:"modal-overlay",onClick:U,children:e.jsxDEV("div",{className:"modal-content",onClick:j=>j.stopPropagation(),children:[e.jsxDEV("h2",{children:"Create Homework Assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:336,columnNumber:13},this),e.jsxDEV("form",{onSubmit:C,children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Title *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:339,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:l.title,onChange:j=>{t({...l,title:j.target.value}),o.title&&c({...o,title:""})},placeholder:"e.g., Practice Scales",className:o.title?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:340,columnNumber:17},this),o.title&&e.jsxDEV("div",{className:"error-message",children:o.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:353,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:338,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Description *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:358,columnNumber:17},this),e.jsxDEV("textarea",{value:l.description,onChange:j=>{t({...l,description:j.target.value}),o.description&&c({...o,description:""})},rows:"3",placeholder:"Describe what students need to do...",className:o.description?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:359,columnNumber:17},this),o.description&&e.jsxDEV("div",{className:"error-message",children:o.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:372,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:357,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Due Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:377,columnNumber:17},this),e.jsxDEV("input",{type:"date",value:l.dueDate,onChange:j=>{t({...l,dueDate:j.target.value}),o.dueDate&&c({...o,dueDate:""})},className:o.dueDate?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:378,columnNumber:17},this),o.dueDate&&e.jsxDEV("div",{className:"error-message",children:o.dueDate},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:390,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:376,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Submission Type *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:395,columnNumber:17},this),e.jsxDEV("div",{className:"radio-group",children:[e.jsxDEV("label",{children:[e.jsxDEV("input",{type:"radio",value:"text",checked:l.submissionType==="text",onChange:j=>t({...l,submissionType:j.target.value})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:398,columnNumber:21},this),"Text Response"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:397,columnNumber:19},this),e.jsxDEV("label",{children:[e.jsxDEV("input",{type:"radio",value:"file",checked:l.submissionType==="file",onChange:j=>t({...l,submissionType:j.target.value})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:407,columnNumber:21},this),"File Upload"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:406,columnNumber:19},this),e.jsxDEV("label",{children:[e.jsxDEV("input",{type:"radio",value:"checkmark",checked:l.submissionType==="checkmark",onChange:j=>t({...l,submissionType:j.target.value})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:416,columnNumber:21},this),"Checkmark Only"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:415,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:396,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:394,columnNumber:15},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"‚ÑπÔ∏è Students will be notified when you create this assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:428,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:427,columnNumber:15},this),e.jsxDEV("div",{className:"modal-actions",children:[e.jsxDEV("button",{type:"button",onClick:U,className:"btn-secondary",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:432,columnNumber:17},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",children:"Create Assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:435,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:431,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:337,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:335,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:334,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:279,columnNumber:5},this)}function Ri({course:r}){const[s,i]=h.useState(!1),[a,n]=h.useState("file"),[l,t]=h.useState({title:"",url:"",file:null,fileName:""}),[o,c]=h.useState({title:"",url:"",file:""}),[m,d]=h.useState([{id:1,title:"Beginner Piano Guide.pdf",type:"file",url:"/resources/piano-guide.pdf",fileName:"Beginner Piano Guide.pdf",fileSize:25e5,addedAt:"2024-01-10",addedBy:(r==null?void 0:r.instructorId)||"1",viewedBy:["1","2","3","4","5","6","7"]},{id:2,title:"Music Theory Video Tutorial",type:"link",url:"https://youtube.com/watch?v=example",fileName:null,fileSize:null,addedAt:"2024-01-12",addedBy:(r==null?void 0:r.instructorId)||"1",viewedBy:["1","2","3","4","5"]}]),g=(r==null?void 0:r.currentEnrollment)||8,N=v=>{if(!v)return"üîó";switch(v.split(".").pop().toLowerCase()){case"pdf":return"üìÑ";case"doc":case"docx":return"üìù";case"jpg":case"jpeg":case"png":case"gif":return"üñºÔ∏è";case"mp3":case"wav":return"üéµ";case"mp4":case"mov":return"üé•";default:return"üìé"}},f=v=>v?`${(v/1024/1024).toFixed(1)} MB`:"",b=()=>{const v={title:"",url:"",file:""};let L=!0;if(l.title.trim()||(v.title="Please enter a title for this resource",L=!1),a==="link")if(!l.url.trim())v.url="Please enter a URL for this resource",L=!1;else try{new URL(l.url)}catch{v.url="Please enter a valid URL (e.g., https://example.com)",L=!1}else l.file||(v.file="Please choose a file to upload",L=!1);return c(v),L},p=v=>{const L=v.target.files[0];if(L){if(!["application/pdf","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","image/jpeg","image/png","image/gif","audio/mpeg","audio/wav","video/mp4","video/quicktime"].includes(L.type)){c({...o,file:"This file type isn't supported. Please upload a PDF, DOC, image, audio, or video file."});return}const U=10*1024*1024;if(L.size>U){c({...o,file:"This file is too large. Please choose a file smaller than 10MB."});return}t({...l,file:L,fileName:L.name}),c({...o,file:""})}},y=v=>{if(v.preventDefault(),!b())return;const L={id:m.length+1,title:l.title,type:a,url:a==="link"?l.url:`/resources/${l.fileName}`,fileName:a==="file"?l.fileName:null,fileSize:a==="file"?l.file.size:null,addedAt:new Date().toISOString().split("T")[0],addedBy:(r==null?void 0:r.instructorId)||"1",viewedBy:[]};d([...m,L]),console.log(`üìß Notification sent to all students: New resource "${l.title}" added`),T()},T=()=>{i(!1),n("file"),t({title:"",url:"",file:null,fileName:""}),c({title:"",url:"",file:""})},R=(v,L)=>{window.confirm(`Are you sure you want to delete "${L}"? This action cannot be undone.`)&&(d(m.filter(C=>C.id!==v)),console.log(`üóëÔ∏è Resource "${L}" deleted`))};return e.jsxDEV("div",{className:"course-resources",children:[e.jsxDEV("div",{className:"resources-header",children:[e.jsxDEV("h2",{children:"üìö Course Resources"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:212,columnNumber:9},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"‚ÑπÔ∏è Upload files and links for students to access anytime"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:214,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:213,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:211,columnNumber:7},this),e.jsxDEV("button",{onClick:()=>i(!0),className:"btn-primary",children:"+ Add Resource"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:218,columnNumber:7},this),e.jsxDEV("div",{className:"resources-list",children:m.length===0?e.jsxDEV("div",{className:"empty-state",children:e.jsxDEV("p",{children:'No resources yet. Click "Add Resource" to upload your first file or link.'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:225,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:224,columnNumber:11},this):m.map(v=>e.jsxDEV("div",{className:"resource-card",children:[e.jsxDEV("div",{className:"resource-info",children:[e.jsxDEV("div",{className:"resource-icon",children:v.type==="link"?"üîó":N(v.fileName)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:231,columnNumber:17},this),e.jsxDEV("div",{className:"resource-details",children:[e.jsxDEV("h3",{children:v.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:235,columnNumber:19},this),v.type==="link"?e.jsxDEV("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"resource-url",children:v.url},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:237,columnNumber:21},this):e.jsxDEV("div",{className:"resource-meta",children:[e.jsxDEV("span",{children:v.fileName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:242,columnNumber:23},this),v.fileSize&&e.jsxDEV("span",{children:f(v.fileSize)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:243,columnNumber:45},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:241,columnNumber:21},this),e.jsxDEV("div",{className:"resource-stats",children:[e.jsxDEV("span",{className:"added-date",children:["Added: ",new Date(v.addedAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:247,columnNumber:21},this),e.jsxDEV("span",{className:"view-stats",children:["üëÅÔ∏è Viewed by ",v.viewedBy.length,"/",g," students"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:252,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:246,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:234,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:230,columnNumber:15},this),e.jsxDEV("div",{className:"resource-actions",children:[v.type==="link"?e.jsxDEV("a",{href:v.url,target:"_blank",rel:"noopener noreferrer",className:"btn-primary btn-sm",children:"Open Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:260,columnNumber:19},this):e.jsxDEV("button",{className:"btn-primary btn-sm",children:"Download"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:269,columnNumber:19},this),e.jsxDEV("button",{onClick:()=>R(v.id,v.title),className:"btn-secondary btn-sm",children:"Delete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:273,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:258,columnNumber:15},this)]},v.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:229,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:222,columnNumber:7},this),s&&e.jsxDEV("div",{className:"modal-overlay",onClick:T,children:e.jsxDEV("div",{className:"modal-content",onClick:v=>v.stopPropagation(),children:[e.jsxDEV("h2",{children:"Add Course Resource"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:288,columnNumber:13},this),e.jsxDEV("form",{onSubmit:y,children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Resource Type"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:291,columnNumber:17},this),e.jsxDEV("div",{className:"radio-group",children:[e.jsxDEV("label",{children:[e.jsxDEV("input",{type:"radio",value:"file",checked:a==="file",onChange:v=>{n(v.target.value),c({title:"",url:"",file:""})}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:294,columnNumber:21},this),"Upload File"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:293,columnNumber:19},this),e.jsxDEV("label",{children:[e.jsxDEV("input",{type:"radio",value:"link",checked:a==="link",onChange:v=>{n(v.target.value),c({title:"",url:"",file:""})}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:306,columnNumber:21},this),"Add Web Link"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:305,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:292,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:290,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Title *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:321,columnNumber:17},this),e.jsxDEV("input",{type:"text",value:l.title,onChange:v=>{t({...l,title:v.target.value}),o.title&&c({...o,title:""})},placeholder:"e.g., Beginner Piano Guide",className:o.title?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:322,columnNumber:17},this),o.title&&e.jsxDEV("div",{className:"error-message",children:o.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:335,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:320,columnNumber:15},this),a==="file"?e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"File *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:341,columnNumber:19},this),e.jsxDEV("input",{type:"file",onChange:p,className:o.file?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:342,columnNumber:19},this),l.fileName&&e.jsxDEV("div",{className:"file-selected",children:["‚úì ",l.fileName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:348,columnNumber:21},this),e.jsxDEV("div",{className:"info-text",children:"‚ÑπÔ∏è Accepted: PDF, DOC, images, audio, video (max 10MB)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:352,columnNumber:19},this),o.file&&e.jsxDEV("div",{className:"error-message",children:o.file},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:356,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:340,columnNumber:17},this):e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"URL *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:361,columnNumber:19},this),e.jsxDEV("input",{type:"text",value:l.url,onChange:v=>{t({...l,url:v.target.value}),o.url&&c({...o,url:""})},placeholder:"https://example.com",className:o.url?"error":""},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:362,columnNumber:19},this),o.url&&e.jsxDEV("div",{className:"error-message",children:o.url},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:375,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:360,columnNumber:17},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"‚ÑπÔ∏è Students will see this resource immediately after you add it"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:381,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:380,columnNumber:15},this),e.jsxDEV("div",{className:"modal-actions",children:[e.jsxDEV("button",{type:"button",onClick:T,className:"btn-secondary",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:385,columnNumber:17},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",children:"Add Resource"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:388,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:384,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:289,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:287,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:286,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:210,columnNumber:5},this)}function Mi({course:r}){const{user:s}=G(),[i,a]=h.useState([]),[n,l]=h.useState(""),[t,o]=h.useState(!1),[c,m]=h.useState(null),[d,g]=h.useState([]),N=h.useRef(null),f=h.useRef(null);h.useEffect(()=>{const x=localStorage.getItem(`chat_${r.id}`);if(x)a(JSON.parse(x));else if(r.courseType==="group"){const S=[{id:"1",courseId:r.id,senderId:"student-1",senderName:"Emma Thompson",senderRole:"student",recipientId:null,message:"When is our next session?",sentAt:new Date(Date.now()-36e5).toISOString(),readBy:[s.id]},{id:"2",courseId:r.id,senderId:s.id,senderName:`${s.firstName} ${s.lastName}`,senderRole:"instructor",recipientId:null,message:"Next session is Monday at 10 AM. See you there! üéµ",sentAt:new Date(Date.now()-33e5).toISOString(),readBy:[s.id,"student-1","student-2"]},{id:"3",courseId:r.id,senderId:"student-2",senderName:"Liam Chen",senderRole:"student",recipientId:null,message:"Can we review scales again?",sentAt:new Date(Date.now()-9e5).toISOString(),readBy:[s.id]},{id:"4",courseId:r.id,senderId:s.id,senderName:`${s.firstName} ${s.lastName}`,senderRole:"instructor",recipientId:null,message:"Absolutely! I'll add that to Monday's session.",sentAt:new Date(Date.now()-6e5).toISOString(),readBy:[s.id,"student-2"]}];a(S),localStorage.setItem(`chat_${r.id}`,JSON.stringify(S))}else if(r.courseType==="one-on-one"){const S=[{id:"1",courseId:r.id,senderId:"1",senderName:"Emma Thompson",senderRole:"student",recipientId:s.id,message:"Can we reschedule Tuesday's lesson?",sentAt:new Date(Date.now()-6e5).toISOString(),readBy:["1"]},{id:"2",courseId:r.id,senderId:s.id,senderName:`${s.firstName} ${s.lastName}`,senderRole:"instructor",recipientId:"1",message:"Of course! What time works for you?",sentAt:new Date(Date.now()-3e5).toISOString(),readBy:[s.id,"1"]},{id:"3",courseId:r.id,senderId:"2",senderName:"Liam Chen",senderRole:"student",recipientId:s.id,message:"Thanks for the feedback!",sentAt:new Date(Date.now()-72e5).toISOString(),readBy:[s.id,"2"]},{id:"4",courseId:r.id,senderId:"3",senderName:"Sophia Rodriguez",senderRole:"student",recipientId:s.id,message:"I have a question about the homework.",sentAt:new Date(Date.now()-18e5).toISOString(),readBy:["3"]}];a(S),localStorage.setItem(`chat_${r.id}`,JSON.stringify(S))}},[r.id,r.courseType,s.id,s.firstName,s.lastName]),h.useEffect(()=>{if(r.courseType==="one-on-one"){const S=hi.slice(0,r.currentEnrollment||3).map(j=>{const _=i.filter(V=>V.senderId===j.id&&V.recipientId===s.id||V.senderId===s.id&&V.recipientId===j.id),w=_.length>0?_[_.length-1]:null,B=_.filter(V=>V.senderId===j.id&&!V.readBy.includes(s.id)).length;return{id:j.id,studentName:`${j.firstName} ${j.lastName}`,lastMessage:w?w.message:"No messages yet",lastMessageAt:w?w.sentAt:null,unreadCount:B}});S.sort((j,_)=>j.lastMessageAt?_.lastMessageAt?new Date(_.lastMessageAt)-new Date(j.lastMessageAt):-1:1),g(S)}},[r.courseType,r.currentEnrollment,i,s.id]),h.useEffect(()=>{var x;(x=N.current)==null||x.scrollIntoView({behavior:"smooth"})},[i]),h.useEffect(()=>{const x=()=>{const S=localStorage.getItem(`chat_${r.id}`);if(S){const j=JSON.parse(S);if(j.length!==i.length){a(j);const _=j.map(w=>({...w,readBy:w.readBy.includes(s.id)?w.readBy:[...w.readBy,s.id]}));localStorage.setItem(`chat_${r.id}`,JSON.stringify(_))}}};return f.current=setInterval(x,5e3),()=>{f.current&&clearInterval(f.current)}},[r.id,i.length,s.id]);const b=x=>{if(x.preventDefault(),!n.trim())return;const S={id:`msg-${Date.now()}`,courseId:r.id,senderId:s.id,senderName:`${s.firstName} ${s.lastName}`,senderRole:"instructor",recipientId:r.courseType==="one-on-one"?c:null,message:n.trim(),sentAt:new Date().toISOString(),readBy:[s.id]},j=[...i,S];a(j),localStorage.setItem(`chat_${r.id}`,JSON.stringify(j)),l(""),o(!0),setTimeout(()=>o(!1),3e3)},p=x=>{const S=new Date(x);return(new Date-S)/(1e3*60*60)<24?S.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):S.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})},y=x=>{if(!x)return"";const S=new Date(x),_=Math.floor((new Date-S)/(1e3*60));if(_<1)return"Just now";if(_<60)return`${_} min ago`;const w=Math.floor(_/60);if(w<24)return`${w} hour${w>1?"s":""} ago`;const B=Math.floor(w/24);return B<7?`${B} day${B>1?"s":""} ago`:S.toLocaleDateString("en-US",{month:"short",day:"numeric"})},T=x=>{m(x);const S=i.map(j=>j.senderId===x&&!j.readBy.includes(s.id)?{...j,readBy:[...j.readBy,s.id]}:j);a(S),localStorage.setItem(`chat_${r.id}`,JSON.stringify(S))},R=()=>{m(null)},v=()=>r.courseType==="group"?i:r.courseType==="one-on-one"&&c?i.filter(x=>x.senderId===c&&x.recipientId===s.id||x.senderId===s.id&&x.recipientId===c):[],L=()=>{const x=d.find(S=>S.id===c);return x?x.studentName:""},C=r.currentEnrollment||0,U=v();return r.courseType==="one-on-one"&&!c?e.jsxDEV("div",{className:"course-chat",children:[e.jsxDEV("div",{className:"chat-header",children:[e.jsxDEV("h2",{children:"üí¨ Student Messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:316,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"Private conversations with each student. Click on a student to view and send messages."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:318,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:317,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:315,columnNumber:9},this),e.jsxDEV("div",{className:"chat-thread-list",children:d.length===0?e.jsxDEV("div",{className:"no-threads",children:e.jsxDEV("p",{children:"No students enrolled yet."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:328,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:327,columnNumber:13},this):d.map(x=>e.jsxDEV("div",{className:"chat-thread-item",onClick:()=>T(x.id),role:"button",tabIndex:0,onKeyPress:S=>{(S.key==="Enter"||S.key===" ")&&T(x.id)},children:[e.jsxDEV("div",{className:"thread-header",children:[e.jsxDEV("div",{className:"thread-student-info",children:[e.jsxDEV("span",{className:"thread-icon",children:"üë§"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:346,columnNumber:21},this),e.jsxDEV("span",{className:"thread-student-name",children:x.studentName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:347,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:345,columnNumber:19},this),x.unreadCount>0&&e.jsxDEV("span",{className:"unread-badge",children:"New"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:350,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:344,columnNumber:17},this),e.jsxDEV("div",{className:"thread-preview",children:[e.jsxDEV("span",{className:"thread-last-message",children:x.lastMessage},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:354,columnNumber:19},this),x.lastMessageAt&&e.jsxDEV("span",{className:"thread-time",children:y(x.lastMessageAt)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:356,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:353,columnNumber:17},this)]},x.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:332,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:325,columnNumber:9},this),e.jsxDEV("div",{className:"thread-list-footer",children:e.jsxDEV("p",{children:"Click a student to open chat"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:365,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:364,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:314,columnNumber:7},this):r.courseType==="one-on-one"&&c?e.jsxDEV("div",{className:"course-chat",children:[e.jsxDEV("div",{className:"chat-header",children:[e.jsxDEV("button",{onClick:R,className:"back-button","aria-label":"Back to messages",children:"‚Üê Back to Messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:376,columnNumber:11},this),e.jsxDEV("h2",{children:["üí¨ Chat with ",L()]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:383,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:["Private conversation - only you and ",L()," can see these messages."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:385,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:384,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:375,columnNumber:9},this),e.jsxDEV("div",{className:"chat-messages",children:[U.length===0?e.jsxDEV("div",{className:"no-messages",children:e.jsxDEV("p",{children:"No messages yet. Start the conversation!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:394,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:393,columnNumber:13},this):U.map(x=>e.jsxDEV("div",{className:`message ${x.senderRole==="instructor"?"instructor-message":"student-message"}`,children:[e.jsxDEV("div",{className:"message-header",children:[e.jsxDEV("span",{className:"sender-name",children:x.senderRole==="instructor"?"You":x.senderName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:403,columnNumber:19},this),e.jsxDEV("span",{className:"message-time",children:p(x.sentAt)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:406,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:402,columnNumber:17},this),e.jsxDEV("div",{className:"message-content",children:x.message},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:408,columnNumber:17},this)]},x.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:398,columnNumber:15},this)),e.jsxDEV("div",{ref:N},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:414,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:391,columnNumber:9},this),e.jsxDEV("form",{onSubmit:b,className:"chat-input-form",children:[e.jsxDEV("input",{type:"text",value:n,onChange:x=>l(x.target.value),placeholder:"Type your message...",className:"chat-input","aria-label":"Message input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:418,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn btn-primary send-button",disabled:!n.trim(),children:"Send"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:426,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:417,columnNumber:9},this),t&&e.jsxDEV("div",{className:"send-confirmation",children:"‚úì Message sent successfully"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:436,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:374,columnNumber:7},this):e.jsxDEV("div",{className:"course-chat",children:[e.jsxDEV("div",{className:"chat-header",children:[e.jsxDEV("h2",{children:"üí¨ Group Chat"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:448,columnNumber:9},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:["All ",C," students can see these messages. Use this space to share updates, answer questions, and build community."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:450,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:449,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:447,columnNumber:7},this),e.jsxDEV("div",{className:"chat-messages",children:[i.length===0?e.jsxDEV("div",{className:"no-messages",children:e.jsxDEV("p",{children:"No messages yet. Start the conversation!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:460,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:459,columnNumber:11},this):i.map(x=>e.jsxDEV("div",{className:`message ${x.senderRole==="instructor"?"instructor-message":"student-message"}`,children:[e.jsxDEV("div",{className:"message-header",children:[e.jsxDEV("span",{className:"sender-name",children:x.senderRole==="instructor"?"You (Instructor)":x.senderName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:469,columnNumber:17},this),e.jsxDEV("span",{className:"message-time",children:p(x.sentAt)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:472,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:468,columnNumber:15},this),e.jsxDEV("div",{className:"message-content",children:x.message},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:474,columnNumber:15},this)]},x.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:464,columnNumber:13},this)),e.jsxDEV("div",{ref:N},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:480,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:457,columnNumber:7},this),e.jsxDEV("form",{onSubmit:b,className:"chat-input-form",children:[e.jsxDEV("input",{type:"text",value:n,onChange:x=>l(x.target.value),placeholder:"Type your message...",className:"chat-input","aria-label":"Message input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:484,columnNumber:9},this),e.jsxDEV("button",{type:"submit",className:"btn btn-primary send-button",disabled:!n.trim(),children:"Send"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:492,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:483,columnNumber:7},this),t&&e.jsxDEV("div",{className:"send-confirmation",children:"‚úì Message sent successfully"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:502,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:446,columnNumber:5},this)}function _i(){const{courseId:r}=Ve(),s=ie(),[i,a]=Be(),{user:n}=G(),[l,t]=h.useState(0),[o,c]=h.useState(null),[m,d]=h.useState(!0),[g,N]=h.useState(""),f=i.get("tab")||"sessions";if(h.useEffect(()=>{r&&(async()=>{try{d(!0);const y=await Q(Z.courses.getById,r);c(y)}catch(y){console.error("Error fetching course:",y),N("Failed to load course")}finally{d(!1)}})()},[r]),h.useEffect(()=>{const p=()=>{const T=localStorage.getItem(`chat_${r}`);if(T){const v=JSON.parse(T).filter(L=>L.senderRole!=="instructor"&&!L.readBy.includes(n.id)).length;t(v)}};p();const y=setInterval(p,5e3);return()=>clearInterval(y)},[r,n.id,f]),m)return e.jsxDEV("div",{className:"manage-course",children:e.jsxDEV("div",{className:"loading-state",children:"Loading course..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:67,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:66,columnNumber:7},this);if(g||!o)return e.jsxDEV("div",{className:"manage-course",children:e.jsxDEV("div",{className:"error-state",children:[e.jsxDEV("p",{children:g||"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:76,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>s("/instructor/dashboard"),className:"btn-primary",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:77,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:75,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:74,columnNumber:7},this);const b=p=>{a({tab:p}),p==="chat"&&t(0)};return e.jsxDEV("div",{className:"manage-course",children:[e.jsxDEV("div",{className:"manage-course-header",children:[e.jsxDEV("button",{onClick:()=>s("/instructor/dashboard"),className:"back-button",children:"‚Üê Back to Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:96,columnNumber:9},this),e.jsxDEV("h1",{children:o.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:99,columnNumber:9},this),e.jsxDEV("p",{className:"course-subtitle",children:"Manage your course content and students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:100,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:95,columnNumber:7},this),e.jsxDEV("div",{className:"course-tabs",children:[e.jsxDEV("button",{className:`tab-button ${f==="sessions"?"active":""}`,onClick:()=>b("sessions"),children:"üìÖ Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:104,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${f==="students"?"active":""}`,onClick:()=>b("students"),children:"üë• Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:110,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${f==="homework"?"active":""}`,onClick:()=>b("homework"),children:"üìù Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:116,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${f==="resources"?"active":""}`,onClick:()=>b("resources"),children:"üìö Resources"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:122,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${f==="chat"?"active":""}`,onClick:()=>b("chat"),children:["üí¨ Chat",l>0&&e.jsxDEV("span",{className:"notification-badge",children:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:133,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:128,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:103,columnNumber:7},this),e.jsxDEV("div",{className:"tab-content",children:[f==="sessions"&&e.jsxDEV(ps,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:138,columnNumber:38},this),f==="students"&&e.jsxDEV(Vi,{course:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:139,columnNumber:38},this),f==="homework"&&e.jsxDEV(wi,{course:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:140,columnNumber:38},this),f==="resources"&&e.jsxDEV(Ri,{course:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:141,columnNumber:39},this),f==="chat"&&e.jsxDEV(Mi,{course:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:142,columnNumber:34},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:137,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:94,columnNumber:5},this)}function Li(){const{user:r,profile:s}=G(),i=ie(),[a,n]=h.useState({firstName:(s==null?void 0:s.first_name)||"",lastName:(s==null?void 0:s.last_name)||"",email:(s==null?void 0:s.email)||(r==null?void 0:r.email)||"",neurodiversityProfile:(s==null?void 0:s.neurodiversity_profile)||[],otherNeeds:(s==null?void 0:s.other_needs)||""}),[l,t]=h.useState(!1);h.useEffect(()=>{s&&n({firstName:s.first_name||"",lastName:s.last_name||"",email:s.email||(r==null?void 0:r.email)||"",neurodiversityProfile:s.neurodiversity_profile||[],otherNeeds:s.other_needs||""})},[s,r]);const o=[{value:"autism",label:"Autism Spectrum"},{value:"adhd",label:"ADHD"},{value:"dyslexia",label:"Dyslexia"},{value:"dysgraphia",label:"Dysgraphia"},{value:"dyscalculia",label:"Dyscalculia"},{value:"other",label:"Other"}],c=f=>{const b=a.neurodiversityProfile;b.includes(f)?n({...a,neurodiversityProfile:b.filter(p=>p!==f)}):n({...a,neurodiversityProfile:[...b,f]})},m=f=>{n({...a,[f.target.name]:f.target.value})},d=f=>{f.preventDefault(),alert("Profile updated successfully!"),t(!1)},g=()=>{n({firstName:(s==null?void 0:s.first_name)||"",lastName:(s==null?void 0:s.last_name)||"",email:(s==null?void 0:s.email)||(r==null?void 0:r.email)||"",neurodiversityProfile:(s==null?void 0:s.neurodiversity_profile)||[],otherNeeds:(s==null?void 0:s.other_needs)||""}),t(!1)},N=(s==null?void 0:s.role)==="instructor";return e.jsxDEV("div",{className:"student-profile",children:[e.jsxDEV("div",{className:"profile-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{children:"My Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:88,columnNumber:11},this),e.jsxDEV("p",{className:"profile-subtitle",children:N?"Manage your personal information and teaching profile":"Manage your personal information and learning preferences"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:87,columnNumber:9},this),!l&&e.jsxDEV("button",{onClick:()=>t(!0),className:"btn-primary",children:"Edit Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:96,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:86,columnNumber:7},this),e.jsxDEV("form",{onSubmit:d,className:"profile-form",children:[e.jsxDEV("div",{className:"profile-section",children:[e.jsxDEV("h2",{children:"Personal Information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:104,columnNumber:11},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"firstName",children:"First Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:107,columnNumber:15},this),e.jsxDEV("input",{id:"firstName",name:"firstName",type:"text",value:a.firstName,onChange:m,disabled:!l,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:108,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:106,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"lastName",children:"Last Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:119,columnNumber:15},this),e.jsxDEV("input",{id:"lastName",name:"lastName",type:"text",value:a.lastName,onChange:m,disabled:!l,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:120,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:105,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"email",children:"Email Address"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:133,columnNumber:13},this),e.jsxDEV("input",{id:"email",name:"email",type:"email",value:a.email,onChange:m,disabled:!l,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:134,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:132,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:103,columnNumber:9},this),e.jsxDEV("div",{className:"profile-section",children:[e.jsxDEV("h2",{children:N?"Your Unique Mind":"Your Learning Style"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:147,columnNumber:11},this),e.jsxDEV("p",{className:"section-description",children:N?"Share what makes your mind unique to help students understand your teaching approach and create a more inclusive learning environment. This information is visible to enrolled students.":"Help us understand what makes your mind unique so instructors can provide the best support. This information is private and only shared with your enrolled instructors."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:148,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"What's unique about your mind? (Select all that apply)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:155,columnNumber:13},this),e.jsxDEV("div",{className:"checkbox-grid",children:o.map(f=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:a.neurodiversityProfile.includes(f.value),onChange:()=>c(f.value),disabled:!l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:159,columnNumber:19},this),e.jsxDEV("span",{children:f.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:165,columnNumber:19},this)]},f.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:158,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:154,columnNumber:11},this),a.neurodiversityProfile.includes("other")&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"otherNeeds",children:N?"Please specify other information":"Please specify other learning needs"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:173,columnNumber:15},this),e.jsxDEV("textarea",{id:"otherNeeds",name:"otherNeeds",value:a.otherNeeds,onChange:m,disabled:!l,rows:"3",placeholder:N?"Describe your teaching approach or any relevant information...":"Describe any other learning needs or accommodations..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:178,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:146,columnNumber:9},this),l&&e.jsxDEV("div",{className:"profile-actions",children:[e.jsxDEV("button",{type:"button",onClick:g,className:"btn-secondary",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:195,columnNumber:13},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",children:"Save Changes"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:194,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:102,columnNumber:7},this),(s==null?void 0:s.role)==="parent"&&e.jsxDEV("div",{className:"profile-section",children:[e.jsxDEV("h2",{children:"Student Management"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:207,columnNumber:11},this),e.jsxDEV("p",{className:"section-description",children:"Manage your children's profiles and learning preferences."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:208,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>i("/manage-students"),className:"btn-primary",children:"üìö Manage Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:211,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:206,columnNumber:9},this),e.jsxDEV("div",{className:"profile-section danger-zone",children:[e.jsxDEV("h2",{children:"Account Settings"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:221,columnNumber:9},this),e.jsxDEV("button",{className:"btn-danger",children:"Change Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:222,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:220,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:85,columnNumber:5},this)}function Pi(){const r=ie(),[s,i]=h.useState(null),a=h.useRef(!1);return h.useEffect(()=>{if(a.current)return;(async()=>{var l,t,o;a.current=!0;try{const{data:{session:c},error:m}=await E.auth.getSession();if(m)throw m;if(c){console.log("=== OAuth Callback Debug ==="),console.log("User ID:",c.user.id),console.log("User Email:",c.user.email),console.log("User Metadata:",c.user.user_metadata),console.log("========================");let d=null,g=null;try{const b=await E.from("profiles").select("*").eq("id",c.user.id).single();d=b.data,g=b.error}catch(b){console.log("Profile query error (will attempt to create):",b.message),g=b}if(console.log("üîç Profile check result:",{profile:d,profileError:g}),!d||g){console.log("üîÑ No profile found, creating new profile...");try{const b=c.user.user_metadata||{};console.log("User metadata:",b);let p="User",y="";if(b.given_name)p=b.given_name,y=b.family_name||"";else if(b.full_name){const L=b.full_name.split(" ");p=L[0]||"User",y=L.slice(1).join(" ")||""}else if(b.name){const L=b.name.split(" ");p=L[0]||"User",y=L.slice(1).join(" ")||""}const T=localStorage.getItem("oauth_role_preference")||"parent";console.log("üîç OAuth role preference from localStorage:",T),localStorage.removeItem("oauth_role_preference"),console.log("Attempting to create profile with:",{id:c.user.id,email:c.user.email,first_name:p,last_name:y,role:T,avatar_url:b.avatar_url||b.picture||null});const{data:R,error:v}=await E.from("profiles").insert({id:c.user.id,email:c.user.email,first_name:p,last_name:y,role:T,avatar_url:b.avatar_url||b.picture||null,neurodiversity_profile:[],expertise:[]}).select();if(v)if(v.code==="23505"){console.log("‚úÖ Profile already exists (returning user)");const{data:L}=await E.from("profiles").select("*").eq("id",c.user.id).single();if(d=L,d&&d.role==="student"&&T!=="student"){console.log(`üîß Updating existing profile role from '${d.role}' to '${T}'`);const{error:C}=await E.from("profiles").update({role:T}).eq("id",c.user.id);C?console.error("‚ùå Failed to update profile role:",C):(d.role=T,console.log("‚úÖ Profile role updated successfully"))}}else console.error("‚ùå Error creating profile:",v),console.error("Error code:",v.code),console.error("Error message:",v.message),console.error("Error details:",v.details);else{console.log("‚úÖ Profile created successfully! (new user)"),console.log("Profile data:",R),console.log("Name:",p,y),d=(R==null?void 0:R[0])||{role:"parent"},console.log("Redirecting new user to onboarding..."),r("/onboarding",{state:{userId:c.user.id,userName:p},replace:!0});return}}catch(b){console.error("Insert error:",b)}}else if(console.log("‚úÖ Profile already exists"),console.log("üìã Existing profile role:",d==null?void 0:d.role),d&&d.role==="student"){console.log("üîß Existing profile has student role, checking for role preference...");const b=localStorage.getItem("oauth_role_preference")||"parent";if(console.log("üîç OAuth role preference from localStorage:",b),localStorage.removeItem("oauth_role_preference"),b!=="student"){console.log(`üîß Updating existing profile role from 'student' to '${b}'`);try{const{error:p}=await E.from("profiles").update({role:b}).eq("id",c.user.id);p?console.error("‚ùå Failed to update profile role:",p):(d.role=b,console.log("‚úÖ Profile role updated successfully"))}catch(p){console.error("‚ùå Update error:",p)}}}const N=(d==null?void 0:d.role)||"parent",f=!(d!=null&&d.bio)&&!((l=d==null?void 0:d.neurodiversity_profile)!=null&&l.length);console.log("User role:",N),console.log("Needs onboarding:",f),console.log("Profile completeness:",{bio:d==null?void 0:d.bio,neurodiversity_profile:d==null?void 0:d.neurodiversity_profile}),f?(console.log("Redirecting to onboarding (incomplete profile)"),r("/onboarding",{state:{userId:c.user.id,userName:(d==null?void 0:d.first_name)||((o=(t=c.user.user_metadata)==null?void 0:t.full_name)==null?void 0:o.split(" ")[0])||"there"},replace:!0})):(console.log("Redirecting returning user with role:",N),r("/marketplace",{replace:!0}))}else r("/login")}catch(c){console.error("Auth callback error:",c),i(c.message),setTimeout(()=>{r("/login")},3e3)}})()},[r]),s?e.jsxDEV("div",{className:"auth-callback",children:e.jsxDEV("div",{className:"auth-callback-error",children:[e.jsxDEV("h2",{children:"Authentication Error"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:257,columnNumber:11},this),e.jsxDEV("p",{children:s},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:258,columnNumber:11},this),e.jsxDEV("p",{children:"Redirecting to login..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:259,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:256,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:255,columnNumber:7},this):e.jsxDEV("div",{className:"auth-callback",children:e.jsxDEV("div",{className:"auth-callback-loading",children:[e.jsxDEV("div",{className:"spinner"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:268,columnNumber:9},this),e.jsxDEV("p",{children:"Completing sign in..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:269,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:267,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:266,columnNumber:5},this)}function Ii(){var S,j,_,w,B;const r=ie(),s=cs(),{user:i}=G(),a=(i==null?void 0:i.id)||((S=s.state)==null?void 0:S.userId),n=((j=s.state)==null?void 0:j.userName)||((w=(_=i==null?void 0:i.user_metadata)==null?void 0:_.full_name)==null?void 0:w.split(" ")[0])||"there",[l,t]=h.useState({neurodiversityProfile:[],expertise:[],bio:"",otherNeurodiversity:"",otherExpertise:"",role:"parent"}),[o,c]=h.useState([]),[m,d]=h.useState({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""}),[g,N]=h.useState(!1);h.useEffect(()=>{(async()=>{if(!a){console.error("No user ID available for onboarding");return}console.log("Fetching profile for user ID:",a);try{const{data:P,error:$}=await E.from("profiles").select("*").eq("id",a).single();if($){console.error("Error fetching profile:",$);return}P&&t({neurodiversityProfile:P.neurodiversity_profile||[],expertise:P.expertise||[],bio:P.bio||"",otherNeurodiversity:"",otherExpertise:"",role:P.role||"parent"})}catch(P){console.error("Profile fetch error:",P)}})()},[a]);const f=[{value:"autism",label:"Autism Spectrum"},{value:"adhd",label:"ADHD"},{value:"dyslexia",label:"Dyslexia"},{value:"dysgraphia",label:"Dysgraphia"},{value:"dyscalculia",label:"Dyscalculia"},{value:"other",label:"Other"}],b=V=>{const P=l.neurodiversityProfile;P.includes(V)?t({...l,neurodiversityProfile:P.filter($=>$!==V)}):t({...l,neurodiversityProfile:[...P,V]})},p=V=>{const P=l.expertise||[];P.includes(V)?t({...l,expertise:P.filter($=>$!==V)}):t({...l,expertise:[...P,V]})},y=V=>{t({...l,[V.target.name]:V.target.value})},T=V=>{l.role==="parent"&&V==="instructor"&&(c([]),d({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""})),t({...l,role:V})},R=V=>{d({...m,[V.target.name]:V.target.value})},v=V=>{const P=m.neurodiversityProfile;P.includes(V)?d({...m,neurodiversityProfile:P.filter($=>$!==V)}):d({...m,neurodiversityProfile:[...P,V]})},L=()=>{if(!m.firstName||!m.age){alert("Please fill in student name and age");return}const V={...m,id:Date.now()};c([...o,V]),d({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""})},C=V=>{c(o.filter(P=>P.id!==V))},U=async V=>{if(V.preventDefault(),!a){alert("User not authenticated. Please log in again."),r("/login");return}if(l.role==="instructor"&&(!l.bio||l.bio.trim().length===0)){alert("Please provide information about your teaching approach."),N(!1);return}if(l.role==="parent"&&o.length===0){alert("Please add at least one student to continue."),N(!1);return}if(l.role==="instructor"&&o.length>0){alert("Instructors cannot have student profiles. Please change your role to Parent or remove the students."),N(!1);return}N(!0);try{const P={role:l.role,bio:l.bio,neurodiversity_profile:l.neurodiversityProfile,expertise:l.expertise||[]},{error:$}=await E.from("profiles").update(P).eq("id",a);if($){console.error("Error updating profile:",$),alert("Failed to save profile. Please try again."),N(!1);return}if(l.role==="parent"&&o.length>0){const ae=o.map(oe=>({parent_id:a,first_name:oe.firstName,last_name:oe.lastName||"",age:oe.age?parseInt(oe.age):null,neurodiversity_profile:oe.neurodiversityProfile||[],other_needs:oe.otherNeeds||"",bio:"Student managed by parent"})),{error:te}=await E.from("students").insert(ae);te&&(console.error("Error creating student profiles:",te),alert("Profile saved but failed to create student profiles. You can add them later."))}setTimeout(()=>{console.log("Redirecting user with role:",l.role),l.role==="instructor"?r("/instructor/create-course"):(l.role,r("/marketplace"))},500)}catch(P){console.error("Onboarding error:",P),alert("Something went wrong. Please try again."),N(!1)}},x=()=>{r("/marketplace")};return i?a?e.jsxDEV("div",{className:"onboarding-container",children:e.jsxDEV("div",{className:"onboarding-card",children:[e.jsxDEV("div",{className:"onboarding-header",children:[e.jsxDEV("h1",{children:["Welcome to UniqueBrains, ",n,"! üéâ"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:327,columnNumber:11},this),e.jsxDEV("p",{className:"onboarding-subtitle",children:"Let's personalize your learning experience. This will only take a minute."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:328,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:326,columnNumber:9},this),e.jsxDEV("form",{onSubmit:U,className:"onboarding-form",children:[e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"I want to use UniqueBrains as a:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:336,columnNumber:13},this),e.jsxDEV("div",{className:"role-cards",children:[e.jsxDEV("div",{className:`role-card ${l.role==="parent"?"selected":""}`,onClick:()=>T("parent"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:342,columnNumber:17},this),e.jsxDEV("h3",{children:"Parent"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:343,columnNumber:17},this),e.jsxDEV("p",{children:"Manage my children's learning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:344,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:338,columnNumber:15},this),e.jsxDEV("div",{className:`role-card ${l.role==="instructor"?"selected":""}`,onClick:()=>T("instructor"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:350,columnNumber:17},this),e.jsxDEV("h3",{children:"Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:351,columnNumber:17},this),e.jsxDEV("p",{children:"Teach and inspire"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:352,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:346,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:337,columnNumber:13},this),e.jsxDEV("p",{className:"role-note",children:e.jsxDEV("small",{children:"Note: Student profiles are created by parents during setup"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:356,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:355,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:335,columnNumber:11},this),e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"Tell us about yourself"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:362,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"bio",children:l.role==="instructor"?"Teaching Experience & Approach":"About You"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:364,columnNumber:15},this),e.jsxDEV("textarea",{id:"bio",name:"bio",value:l.bio,onChange:y,placeholder:l.role==="instructor"?"Share your teaching experience, approach, and what makes you passionate about education...":"Tell us a bit about yourself and your family...",rows:"4"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:367,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:363,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:361,columnNumber:11},this),l.role==="instructor"&&e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"Your Teaching Specializations"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:385,columnNumber:15},this),e.jsxDEV("p",{className:"section-description",children:"What neurodiversity areas do you specialize in or have experience teaching? This helps parents find the right match."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:386,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Neurodiversity areas you specialize in (Optional - Select all that apply)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:391,columnNumber:17},this),e.jsxDEV("div",{className:"checkbox-grid",children:f.map(V=>{var P;return e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:((P=l.expertise)==null?void 0:P.includes(V.value))||!1,onChange:()=>p(V.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:397,columnNumber:23},this),e.jsxDEV("span",{children:V.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:402,columnNumber:23},this)]},V.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:396,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:394,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:390,columnNumber:15},this),((B=l.expertise)==null?void 0:B.includes("other"))&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"otherExpertise",children:"Please specify your other specializations"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:410,columnNumber:19},this),e.jsxDEV("textarea",{id:"otherExpertise",name:"otherExpertise",value:l.otherExpertise,onChange:y,rows:"3",placeholder:"Describe any other neurodiversity areas you specialize in..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:411,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:409,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:384,columnNumber:13},this),(l.role==="parent"||l.role==="instructor")&&e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"Your Neurodiversity Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:427,columnNumber:15},this),e.jsxDEV("p",{className:"section-description",children:l.role==="instructor"?"Help parents find instructors who understand their children by sharing your own neurodiversity profile. Many of our best instructors are neurodiverse themselves.":"Help us understand your own neurodiversity profile. This information helps match you with instructors who understand your perspective and is kept private."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:428,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Your personal neurodiversity profile (Optional - Select all that apply)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:436,columnNumber:17},this),e.jsxDEV("div",{className:"checkbox-grid",children:f.map(V=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:l.neurodiversityProfile.includes(V.value),onChange:()=>b(V.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:442,columnNumber:23},this),e.jsxDEV("span",{children:V.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:447,columnNumber:23},this)]},V.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:441,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:439,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:435,columnNumber:15},this),l.neurodiversityProfile.includes("other")&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"otherNeurodiversity",children:"Please specify"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:455,columnNumber:19},this),e.jsxDEV("textarea",{id:"otherNeurodiversity",name:"otherNeurodiversity",value:l.otherNeurodiversity,onChange:y,rows:"3",placeholder:"Describe any other aspects of your neurodiversity..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:456,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:454,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:426,columnNumber:13},this),l.role==="parent"&&e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"Add Your Children"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:472,columnNumber:15},this),e.jsxDEV("p",{className:"section-description",children:"Create profiles for your children so you can enroll them in courses and track their progress."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:473,columnNumber:15},this),e.jsxDEV("div",{className:"student-form",children:[e.jsxDEV("h3",{children:"Add a Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:479,columnNumber:17},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"studentFirstName",children:"Student's First Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:482,columnNumber:21},this),e.jsxDEV("input",{id:"studentFirstName",name:"firstName",type:"text",value:m.firstName,onChange:R,placeholder:"Enter student's name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:483,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:481,columnNumber:19},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"studentAge",children:"Age"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:493,columnNumber:21},this),e.jsxDEV("input",{id:"studentAge",name:"age",type:"number",value:m.age,onChange:R,min:"3",max:"18",placeholder:"Age"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:494,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:492,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:480,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Student's Learning Profile (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:508,columnNumber:19},this),e.jsxDEV("p",{className:"field-description",children:"Help instructors understand your child's unique learning style and needs."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:509,columnNumber:19},this),e.jsxDEV("div",{className:"checkbox-grid",children:f.map(V=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:m.neurodiversityProfile.includes(V.value),onChange:()=>v(V.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:515,columnNumber:25},this),e.jsxDEV("span",{children:V.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:520,columnNumber:25},this)]},V.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:514,columnNumber:23},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:512,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:507,columnNumber:17},this),m.neurodiversityProfile.includes("other")&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"otherNeeds",children:"Please specify other needs"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:528,columnNumber:21},this),e.jsxDEV("textarea",{id:"otherNeeds",name:"otherNeeds",value:m.otherNeeds,onChange:R,rows:"3",placeholder:"Describe any specific learning needs, accommodations, or other important information..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:529,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:527,columnNumber:19},this),e.jsxDEV("button",{type:"button",onClick:L,className:"btn-secondary",disabled:!m.firstName||!m.age,children:"Add Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:540,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:478,columnNumber:15},this),o.length>0&&e.jsxDEV("div",{className:"students-list",children:[e.jsxDEV("h3",{children:["Added Students (",o.length,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:553,columnNumber:19},this),o.map(V=>e.jsxDEV("div",{className:"student-card",children:[e.jsxDEV("div",{className:"student-info",children:[e.jsxDEV("h4",{children:V.firstName},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:557,columnNumber:25},this),e.jsxDEV("p",{children:["Age: ",V.age]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:558,columnNumber:25},this),V.neurodiversityProfile.length>0&&e.jsxDEV("div",{className:"student-badges",children:V.neurodiversityProfile.map(P=>{var $;return e.jsxDEV("span",{className:"profile-badge",children:(($=f.find(ae=>ae.value===P))==null?void 0:$.label)||P},P,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:562,columnNumber:31},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:560,columnNumber:27},this),V.otherNeeds&&e.jsxDEV("p",{className:"student-notes",children:V.otherNeeds},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:569,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:556,columnNumber:23},this),e.jsxDEV("button",{type:"button",onClick:()=>C(V.id),className:"btn-danger-small",children:"Remove"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:572,columnNumber:23},this)]},V.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:555,columnNumber:21},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:552,columnNumber:17},this),o.length===0&&e.jsxDEV("div",{className:"empty-students",children:e.jsxDEV("p",{children:"No students added yet. Please add at least one student to continue."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:586,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:585,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:471,columnNumber:13},this),e.jsxDEV("div",{className:"onboarding-actions",children:[e.jsxDEV("button",{type:"button",onClick:x,className:"btn-secondary",disabled:g,children:"Skip for now"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:595,columnNumber:13},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",disabled:g,children:g?"Saving...":"Complete Setup"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:603,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:594,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:333,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:325,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:324,columnNumber:5},this):e.jsxDEV("div",{className:"onboarding-container",children:e.jsxDEV("div",{className:"onboarding-card",children:e.jsxDEV("div",{className:"onboarding-header",children:[e.jsxDEV("h1",{children:"Authentication Error"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:312,columnNumber:13},this),e.jsxDEV("p",{children:"Please log in again to continue."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:313,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>r("/login"),className:"btn-primary",children:"Go to Login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:314,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:311,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:310,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:309,columnNumber:7},this):e.jsxDEV("div",{className:"onboarding-container",children:e.jsxDEV("div",{className:"onboarding-card",children:e.jsxDEV("div",{className:"onboarding-header",children:[e.jsxDEV("h1",{children:"Loading..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:298,columnNumber:13},this),e.jsxDEV("p",{children:"Please wait while we set up your account."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:299,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:297,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:296,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:295,columnNumber:7},this)}function Ai(){const r=ie(),{user:s}=G(),[i,a]=h.useState("parent"),[n,l]=h.useState(!1),[t,o]=h.useState(""),c=async()=>{if(!s){o("You must be logged in to update your role");return}l(!0),o("");try{const{error:m}=await E.from("profiles").update({role:i}).eq("id",s.id);if(m)throw m;i==="instructor"?r("/instructor/dashboard",{replace:!0}):i==="parent"&&r("/onboarding",{replace:!0})}catch(m){console.error("Error updating role:",m),o("Failed to update role. Please try again.")}finally{l(!1)}};return e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:[e.jsxDEV("h2",{children:"Select Your Role"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:50,columnNumber:9},this),e.jsxDEV("p",{className:"auth-subtitle",children:"We need to know your role to set up your account properly"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:51,columnNumber:9},this),t&&e.jsxDEV("div",{className:"error-message",children:t},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:55,columnNumber:19},this),e.jsxDEV("div",{className:"role-selection",children:e.jsxDEV("div",{className:"role-cards",children:[e.jsxDEV("div",{className:`role-card ${i==="parent"?"selected":""}`,onClick:()=>a("parent"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:63,columnNumber:15},this),e.jsxDEV("h3",{children:"Parent"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:64,columnNumber:15},this),e.jsxDEV("p",{children:"Manage my children's learning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:65,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:59,columnNumber:13},this),e.jsxDEV("div",{className:`role-card ${i==="instructor"?"selected":""}`,onClick:()=>a("instructor"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:71,columnNumber:15},this),e.jsxDEV("h3",{children:"Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:72,columnNumber:15},this),e.jsxDEV("p",{children:"Teach and inspire"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:73,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:67,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:58,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:57,columnNumber:9},this),e.jsxDEV("button",{onClick:c,disabled:n,className:"btn-primary btn-full",children:n?"Updating...":`Continue as ${i==="instructor"?"Instructor":"Parent"}`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:78,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:49,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:48,columnNumber:5},this)}function Oi(){var d;const{user:r}=G(),[s,i]=h.useState(!1),[a,n]=h.useState([]),[l,t]=h.useState(""),o=(g,N)=>{n(f=>[...f,{test:g,result:N,timestamp:new Date().toLocaleTimeString()}])},c=async()=>{if(!r){t("Please log in as an instructor first");return}i(!0),t(""),n([]);try{o("Creating course...","Starting");const g={title:"Backend Test Course",description:"This course tests the backend integration",category:"parenting",courseType:"group",sessionDuration:60,enrollmentLimit:10,isSelfPaced:!1,startDate:"2024-02-01",sessionTime:"10:00",selectedDays:["Monday","Wednesday"],hasEndDate:!0,endDate:"2024-04-01"},N=await Q(Z.courses.create,g,r);o("Course Creation",`‚úÖ Success: ${N.course.title}`);const f=N.course.id;o("Creating homework...","Starting");const b={title:"Test Assignment",description:"This is a test assignment",due_date:"2024-02-08T23:59:59Z",points:100,submission_type:"text",is_published:!0},p=await Q(Z.homework.create,f,b,r.id);o("Homework Creation",`‚úÖ Success: ${p.title}`),o("Creating resource...","Starting");const y={title:"Test Resource",description:"This is a test resource",resource_type:"link",link_url:"https://example.com/test.pdf"},T=await Q(Z.resources.create,f,y,r.id);o("Resource Creation",`‚úÖ Success: ${T.title}`),o("Sending message...","Starting");const R={content:"This is a test message from the backend integration test.",is_announcement:!1},v=await Q(Z.messages.send,f,R,r.id);o("Message Sending","‚úÖ Success: Message sent"),o("Fetching courses...","Starting");const L=await Q(Z.courses.getInstructorCourses,r.id);o("Fetch Courses",`‚úÖ Success: Found ${L.length} courses`),o("Getting statistics...","Starting");const C=await Q(Z.courses.getStats,r.id);o("Course Statistics",`‚úÖ Success: ${C.totalCourses} total courses`),o("All Tests","üéâ All tests completed successfully!")}catch(g){console.error("Test failed:",g),t(g.message),o("Test Failed",`‚ùå Error: ${g.message}`)}finally{i(!1)}},m=()=>{n([]),t("")};return r?e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #3b82f6",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"üß™ Backend Integration Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:125,columnNumber:7},this),e.jsxDEV("p",{children:["User: ",r.email," (Role: ",((d=r.user_metadata)==null?void 0:d.role)||"Unknown",")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:126,columnNumber:7},this),e.jsxDEV("div",{style:{marginBottom:"1rem"},children:[e.jsxDEV("button",{onClick:c,disabled:s,style:{padding:"0.75rem 1.5rem",backgroundColor:s?"#9ca3af":"#3b82f6",color:"white",border:"none",borderRadius:"0.5rem",marginRight:"0.5rem"},children:s?"Running Tests...":"Run All Tests"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:129,columnNumber:9},this),e.jsxDEV("button",{onClick:m,style:{padding:"0.75rem 1.5rem",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"0.5rem"},children:"Clear Results"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:144,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:128,columnNumber:7},this),l&&e.jsxDEV("div",{style:{padding:"1rem",backgroundColor:"#fee2e2",border:"1px solid #fecaca",borderRadius:"0.5rem",color:"#dc2626",marginBottom:"1rem"},children:[e.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:167,columnNumber:11},this)," ",l]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:159,columnNumber:9},this),a.length>0&&e.jsxDEV("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1rem",maxHeight:"400px",overflowY:"auto"},children:[e.jsxDEV("h4",{children:"Test Results:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:180,columnNumber:11},this),a.map((g,N)=>e.jsxDEV("div",{style:{padding:"0.5rem",borderBottom:"1px solid #e2e8f0",fontFamily:"monospace",fontSize:"0.875rem"},children:[e.jsxDEV("span",{style:{color:"#6b7280"},children:["[",g.timestamp,"]"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:188,columnNumber:15},this)," ",e.jsxDEV("strong",{children:[g.test,":"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:189,columnNumber:15},this)," ",g.result]},N,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:182,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:172,columnNumber:9},this),e.jsxDEV("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[e.jsxDEV("h4",{children:"What this test does:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:203,columnNumber:9},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"‚úÖ Creates a test course with sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:205,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Creates a homework assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:206,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Creates a course resource"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:207,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Sends a test message"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:208,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Fetches instructor courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:209,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Gets course statistics"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:204,columnNumber:9},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Note:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:212,columnNumber:12},this)," This creates real data in your database. You may want to delete the test course afterward."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:212,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:195,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:124,columnNumber:5},this):e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #f59e0b",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"Backend Integration Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:117,columnNumber:9},this),e.jsxDEV("p",{children:"Please log in as an instructor to test the backend integration."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:116,columnNumber:7},this)}function $i(){var g;const{user:r}=G(),[s,i]=h.useState(!1),[a,n]=h.useState([]),[l,t]=h.useState(""),o=(N,f,b="info")=>{n(p=>[...p,{test:N,result:f,status:b,timestamp:new Date().toLocaleTimeString()}])},c=async()=>{var N,f;if(!r){t("Please log in first");return}i(!0),t(""),n([]);try{o("Security Test Suite","Starting RLS policy verification...","info"),o("Current User",`${r.email} (Role: ${((N=r.user_metadata)==null?void 0:N.role)||"Unknown"})`,"info"),o("Course Policies","Testing course access control...","info");try{const b=await Q(Z.courses.getInstructorCourses,r.id);o("Course Access",`‚úÖ Can access ${b.length} courses as expected`,"success")}catch(b){o("Course Access",`‚ùå Unexpected error: ${b.message}`,"error")}if(((f=r.user_metadata)==null?void 0:f.role)==="instructor"){o("Course Creation","Testing instructor course creation...","info");try{const b={title:"RLS Test Course",description:"Testing RLS policies",category:"parenting",courseType:"group",sessionDuration:60,enrollmentLimit:5,isSelfPaced:!1,startDate:"2024-02-01",sessionTime:"14:00",selectedDays:["Tuesday"],hasEndDate:!0,endDate:"2024-03-01"},p=await Q(Z.courses.create,b,r);o("Course Creation",`‚úÖ Successfully created course: ${p.course.title}`,"success"),o("Homework Policies","Testing homework creation for owned course...","info");try{const y={title:"RLS Test Assignment",description:"Testing homework RLS",due_date:"2024-02-15T23:59:59Z",points:50,submission_type:"text",is_published:!0},T=await Q(Z.homework.create,p.course.id,y,r.id);o("Homework Creation",`‚úÖ Successfully created homework: ${T.title}`,"success")}catch(y){o("Homework Creation",`‚ùå Failed: ${y.message}`,"error")}o("Resource Policies","Testing resource creation for owned course...","info");try{const y={title:"RLS Test Resource",description:"Testing resource RLS",resource_type:"link",link_url:"https://example.com/test-resource"},T=await Q(Z.resources.create,p.course.id,y,r.id);o("Resource Creation",`‚úÖ Successfully created resource: ${T.title}`,"success")}catch(y){o("Resource Creation",`‚ùå Failed: ${y.message}`,"error")}o("Message Policies","Testing message sending for owned course...","info");try{const y={content:"RLS test message - verifying security policies",is_announcement:!1};await Q(Z.messages.send,p.course.id,y,r.id),o("Message Sending","‚úÖ Successfully sent message","success")}catch(y){o("Message Sending",`‚ùå Failed: ${y.message}`,"error")}}catch(b){o("Course Creation",`‚ùå Failed: ${b.message}`,"error")}}else o("Course Creation","‚ö†Ô∏è Skipped - User is not an instructor","warning");o("Statistics Policies","Testing statistics access...","info");try{const b=await Q(Z.courses.getStats,r.id);o("Statistics Access",`‚úÖ Successfully retrieved stats: ${b.totalCourses} courses`,"success")}catch(b){o("Statistics Access",`‚ùå Failed: ${b.message}`,"error")}o("Profile Policies","Testing profile access...","info"),o("Profile Access","‚úÖ Can access own profile data","success"),o("Security Test Complete","üîí RLS policy verification completed!","success")}catch(b){console.error("Security test failed:",b),t(b.message),o("Security Test Failed",`‚ùå Error: ${b.message}`,"error")}finally{i(!1)}},m=()=>{n([]),t("")};if(!r)return e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #f59e0b",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"üîí RLS Security Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:162,columnNumber:9},this),e.jsxDEV("p",{children:"Please log in to test Row Level Security policies."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:163,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:161,columnNumber:7},this);const d=N=>{switch(N){case"success":return"#10b981";case"error":return"#ef4444";case"warning":return"#f59e0b";default:return"#6b7280"}};return e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #8b5cf6",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"üîí RLS Security Policy Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:179,columnNumber:7},this),e.jsxDEV("p",{children:["User: ",r.email," (Role: ",((g=r.user_metadata)==null?void 0:g.role)||"Unknown",")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:180,columnNumber:7},this),e.jsxDEV("div",{style:{marginBottom:"1rem"},children:[e.jsxDEV("button",{onClick:c,disabled:s,style:{padding:"0.75rem 1.5rem",backgroundColor:s?"#9ca3af":"#8b5cf6",color:"white",border:"none",borderRadius:"0.5rem",marginRight:"0.5rem"},children:s?"Running Security Tests...":"Run Security Tests"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:183,columnNumber:9},this),e.jsxDEV("button",{onClick:m,style:{padding:"0.75rem 1.5rem",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"0.5rem"},children:"Clear Results"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:198,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:182,columnNumber:7},this),l&&e.jsxDEV("div",{style:{padding:"1rem",backgroundColor:"#fee2e2",border:"1px solid #fecaca",borderRadius:"0.5rem",color:"#dc2626",marginBottom:"1rem"},children:[e.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:221,columnNumber:11},this)," ",l]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:213,columnNumber:9},this),a.length>0&&e.jsxDEV("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1rem",maxHeight:"500px",overflowY:"auto"},children:[e.jsxDEV("h4",{children:"Security Test Results:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:234,columnNumber:11},this),a.map((N,f)=>e.jsxDEV("div",{style:{padding:"0.5rem",borderBottom:"1px solid #e2e8f0",fontFamily:"monospace",fontSize:"0.875rem"},children:[e.jsxDEV("span",{style:{color:"#6b7280"},children:["[",N.timestamp,"]"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:242,columnNumber:15},this)," ",e.jsxDEV("strong",{style:{color:d(N.status)},children:[N.test,":"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:243,columnNumber:15},this)," ",e.jsxDEV("span",{style:{color:d(N.status)},children:N.result},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:244,columnNumber:15},this)]},f,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:236,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:226,columnNumber:9},this),e.jsxDEV("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[e.jsxDEV("h4",{children:"üîí What this security test verifies:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:258,columnNumber:9},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"‚úÖ Course access control (instructors can only see their courses)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:260,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Course creation permissions (only instructors can create)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:261,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Homework management (only course owners can create)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:262,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Resource management (only course owners can add)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:263,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Message permissions (only course participants can send)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:264,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Statistics access (users can only see their own data)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:265,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:259,columnNumber:9},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Security Note:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:267,columnNumber:12},this)," This test creates real data to verify RLS policies work correctly."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:267,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:250,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:178,columnNumber:5},this)}function Fi(r,s={}){const[i,a]=h.useState(!1),n=h.useRef(null);return h.useEffect(()=>{if(r){try{n.current=Br(r,s),a(!0)}catch(l){console.error("Error setting up course message channel:",l),a(!1)}return()=>{n.current&&(n.current.unsubscribe(),n.current=null,a(!1))}}},[r]),{isConnected:i,channel:n.current}}function Hi(r,s,i={},a={}){const[n,l]=h.useState(!1),[t,o]=h.useState({}),c=h.useRef(null);return h.useEffect(()=>{if(!(!r||!s)){try{c.current=zr(r,s,i,{...a,onSync:m=>{o(m),a.onSync&&a.onSync(m)}}),l(!0)}catch(m){console.error("Error setting up presence tracking:",m),l(!1)}return()=>{c.current&&(c.current.unsubscribe(),c.current=null,l(!1),o({}))}}},[r,s]),{isConnected:n,presenceState:t,presence:c.current}}function qi({courseId:r}){const{user:s}=G(),[i,a]=h.useState([]),[n,l]=h.useState(""),[t,o]=h.useState(!0),c=h.useRef(null),{isConnected:m}=Fi(r,{onMessage:p=>{console.log("‚úÖ New message received via realtime:",p),a(y=>y.some(T=>T.id===p.id)?(console.log("Message already exists, skipping"),y):(console.log("Adding new message to state"),[...y,p])),setTimeout(()=>{var y;(y=c.current)==null||y.scrollIntoView({behavior:"smooth"})},100)},onUpdate:p=>{console.log("Message updated via realtime:",p),a(y=>y.map(T=>T.id===p.id?p:T))},onDelete:p=>{console.log("Message deleted via realtime:",p),a(y=>y.filter(T=>T.id!==p.id))}});h.useEffect(()=>{console.log("Message channel connected:",m)},[m]);const{isConnected:d,presenceState:g}=Hi(r,s==null?void 0:s.id,{full_name:(s==null?void 0:s.firstName)+" "+(s==null?void 0:s.lastName),role:s==null?void 0:s.role},{onJoin:(p,y)=>{console.log("User joined:",y)},onLeave:(p,y)=>{console.log("User left:",y)}});h.useEffect(()=>{if(!r||!(s!=null&&s.id))return;(async()=>{try{o(!0);const y=await bs(r,s.id,50);a(y)}catch(y){console.error("Error loading messages:",y)}finally{o(!1)}})()},[r,s==null?void 0:s.id]),h.useEffect(()=>{var p;!t&&i.length>0&&((p=c.current)==null||p.scrollIntoView({behavior:"smooth"}))},[t,i.length]);const N=async p=>{if(p.preventDefault(),!(!n.trim()||!(s!=null&&s.id)))try{await js(r,{content:n.trim()},s.id),l("")}catch(y){console.error("Error sending message:",y),alert("Failed to send message: "+y.message)}},f=p=>new Date(p).toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}),b=Object.keys(g).length;return t?e.jsxDEV("div",{children:"Loading messages..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:130,columnNumber:12},this):e.jsxDEV("div",{className:"realtime-chat-example",children:[e.jsxDEV("div",{className:"chat-header",children:[e.jsxDEV("h2",{children:"üí¨ Realtime Chat"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:136,columnNumber:9},this),e.jsxDEV("div",{className:"connection-status",children:[e.jsxDEV("span",{className:m?"connected":"disconnected",children:m?"üü¢ Connected":"üî¥ Disconnected"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:138,columnNumber:11},this),d&&e.jsxDEV("span",{className:"online-count",children:["üë• ",b," online"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:142,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:137,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:135,columnNumber:7},this),e.jsxDEV("div",{className:"chat-messages",children:[i.length===0?e.jsxDEV("div",{className:"no-messages",children:e.jsxDEV("p",{children:"No messages yet. Start the conversation!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:152,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:151,columnNumber:11},this):i.map(p=>{var y,T;return e.jsxDEV("div",{className:`message ${p.sender_id===(s==null?void 0:s.id)?"own-message":""}`,children:[e.jsxDEV("div",{className:"message-header",children:[e.jsxDEV("span",{className:"sender-name",children:[((y=p.profiles)==null?void 0:y.full_name)||"Unknown",((T=p.profiles)==null?void 0:T.role)==="instructor"&&" (Instructor)"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:161,columnNumber:17},this),e.jsxDEV("span",{className:"message-time",children:f(p.created_at)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:165,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:160,columnNumber:15},this),e.jsxDEV("div",{className:"message-content",children:p.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:167,columnNumber:15},this)]},p.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:156,columnNumber:13},this)}),e.jsxDEV("div",{ref:c},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:173,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:149,columnNumber:7},this),e.jsxDEV("form",{onSubmit:N,className:"chat-input-form",children:[e.jsxDEV("input",{type:"text",value:n,onChange:p=>l(p.target.value),placeholder:"Type your message...",className:"chat-input",disabled:!m},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:177,columnNumber:9},this),e.jsxDEV("button",{type:"submit",className:"btn btn-primary",disabled:!n.trim()||!m,children:"Send"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:185,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:176,columnNumber:7},this),e.jsxDEV("div",{className:"realtime-info",children:e.jsxDEV("p",{children:"‚ú® This chat uses Supabase Realtime for instant message delivery. No polling required!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:195,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:194,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RealtimeChatExample.jsx",lineNumber:134,columnNumber:5},this)}function Bi(){const{user:r}=G(),s=ie(),[i]=Be(),[a,n]=h.useState(i.get("courseId")||""),[l,t]=h.useState(!1);if(!r)return e.jsxDEV("div",{className:"realtime-test-page",children:e.jsxDEV("div",{className:"test-container",children:[e.jsxDEV("h1",{children:"üîí Authentication Required"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:22,columnNumber:11},this),e.jsxDEV("p",{children:"Please sign in to test realtime features."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:23,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:21,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:20,columnNumber:7},this);const o=()=>{if(!a.trim()){alert("Please enter a course ID");return}t(!0)},c=()=>{t(!1)};return e.jsxDEV("div",{className:"realtime-test-page",children:[e.jsxDEV("div",{className:"test-header",children:[e.jsxDEV("h1",{children:"üß™ Realtime Features Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:44,columnNumber:9},this),e.jsxDEV("p",{children:"Test the Supabase Realtime implementation"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:45,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:43,columnNumber:7},this),l?e.jsxDEV("div",{className:"test-chat-container",children:[e.jsxDEV("div",{className:"test-controls",children:[e.jsxDEV("button",{onClick:c,className:"btn btn-secondary",children:"‚Üê Back to Setup"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:162,columnNumber:13},this),e.jsxDEV("div",{className:"test-info",children:e.jsxDEV("span",{children:["Testing Course ID: ",e.jsxDEV("code",{children:a},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:169,columnNumber:40},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:169,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:168,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:161,columnNumber:11},this),e.jsxDEV("div",{className:"test-chat-wrapper",children:e.jsxDEV(qi,{courseId:a},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:174,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:173,columnNumber:11},this),e.jsxDEV("div",{className:"test-footer",children:e.jsxDEV("div",{className:"test-tips success",children:[e.jsxDEV("h4",{children:"‚úÖ Testing Tips:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:179,columnNumber:15},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Open this same page in another browser window"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:181,columnNumber:17},this),e.jsxDEV("li",{children:"Sign in as a different user"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:182,columnNumber:17},this),e.jsxDEV("li",{children:["Use the same course ID: ",e.jsxDEV("code",{children:a},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:183,columnNumber:45},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:183,columnNumber:17},this),e.jsxDEV("li",{children:"Send messages back and forth"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:184,columnNumber:17},this),e.jsxDEV("li",{children:"Watch the online user count change"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:185,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:180,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:178,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:177,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:160,columnNumber:9},this):e.jsxDEV("div",{className:"test-setup",children:[e.jsxDEV("div",{className:"test-card",children:[e.jsxDEV("h2",{children:"Setup Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:51,columnNumber:13},this),e.jsxDEV("div",{className:"user-info",children:[e.jsxDEV("h3",{children:"Current User"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:54,columnNumber:15},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Name:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:55,columnNumber:18},this)," ",r.firstName," ",r.lastName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:55,columnNumber:15},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Email:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:56,columnNumber:18},this)," ",r.email]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:56,columnNumber:15},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Role:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:57,columnNumber:18},this)," ",r.role]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:57,columnNumber:15},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"ID:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:58,columnNumber:18},this)," ",r.id]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:58,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:53,columnNumber:13},this),e.jsxDEV("div",{className:"course-input",children:[e.jsxDEV("h3",{children:"Enter Course ID"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:62,columnNumber:15},this),e.jsxDEV("p",{children:"You can use any course ID from your database, or create a test course first."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:63,columnNumber:15},this),e.jsxDEV("div",{style:{marginBottom:"1rem",padding:"1rem",background:"#fff3cd",borderRadius:"8px",border:"2px solid #ffc107"},children:[e.jsxDEV("p",{style:{margin:0,fontWeight:"bold"},children:'‚ö†Ô∏è Getting "Unauthorized" error?'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:66,columnNumber:17},this),e.jsxDEV("p",{style:{margin:"0.5rem 0"},children:"You need to be enrolled in the course or be the instructor."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:67,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>s("/realtime-setup"),style:{padding:"0.5rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem",marginTop:"0.5rem"},children:"üõ†Ô∏è Go to Setup Page"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:68,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:65,columnNumber:15},this),e.jsxDEV("input",{type:"text",value:a,onChange:m=>n(m.target.value),placeholder:"e.g., 123e4567-e89b-12d3-a456-426614174000",className:"course-id-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:85,columnNumber:15},this),e.jsxDEV("button",{onClick:o,className:"btn btn-primary",disabled:!a.trim(),children:"Start Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:92,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:61,columnNumber:13},this),e.jsxDEV("div",{className:"test-instructions",children:[e.jsxDEV("h3",{children:"üìã Testing Instructions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:102,columnNumber:15},this),e.jsxDEV("ol",{children:[e.jsxDEV("li",{children:"Enter a valid course ID above (or create a test course)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:104,columnNumber:17},this),e.jsxDEV("li",{children:'Click "Start Test" to open the realtime chat'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:105,columnNumber:17},this),e.jsxDEV("li",{children:"Open this page in another browser window (or incognito)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:106,columnNumber:17},this),e.jsxDEV("li",{children:"Sign in as a different user in the second window"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:107,columnNumber:17},this),e.jsxDEV("li",{children:"Enter the same course ID in both windows"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:108,columnNumber:17},this),e.jsxDEV("li",{children:"Send messages and watch them appear instantly!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:109,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:103,columnNumber:15},this),e.jsxDEV("div",{className:"test-tips",children:[e.jsxDEV("h4",{children:"üí° What to Look For:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:113,columnNumber:17},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:'‚úÖ Connection status shows "üü¢ Connected"'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:115,columnNumber:19},this),e.jsxDEV("li",{children:"‚úÖ Messages appear in <1 second"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:116,columnNumber:19},this),e.jsxDEV("li",{children:"‚úÖ Online user count updates"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:117,columnNumber:19},this),e.jsxDEV("li",{children:"‚úÖ Messages persist after page refresh"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:118,columnNumber:19},this),e.jsxDEV("li",{children:"‚úÖ Reconnection works after network drop"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:119,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:114,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:112,columnNumber:15},this),e.jsxDEV("div",{className:"test-tips warning",children:[e.jsxDEV("h4",{children:"‚ö†Ô∏è Prerequisites:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:124,columnNumber:17},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Supabase Realtime must be enabled in your project"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:126,columnNumber:19},this),e.jsxDEV("li",{children:"The course must exist in your database"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:127,columnNumber:19},this),e.jsxDEV("li",{children:"You must be enrolled in the course (or be the instructor)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:128,columnNumber:19},this),e.jsxDEV("li",{children:"RLS policies must allow you to read/write messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:129,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:125,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:123,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:50,columnNumber:11},this),e.jsxDEV("div",{className:"test-card",children:[e.jsxDEV("h2",{children:"Quick Course Lookup"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:136,columnNumber:13},this),e.jsxDEV("p",{children:"If you don't have a course ID handy, you can:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:137,columnNumber:13},this),e.jsxDEV("ol",{children:[e.jsxDEV("li",{children:"Go to your Supabase Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:139,columnNumber:15},this),e.jsxDEV("li",{children:"Navigate to Table Editor ‚Üí courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:140,columnNumber:15},this),e.jsxDEV("li",{children:"Copy any course ID"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:141,columnNumber:15},this),e.jsxDEV("li",{children:"Or create a test course in your app first"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:142,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:138,columnNumber:13},this),e.jsxDEV("div",{className:"test-tips info",children:[e.jsxDEV("h4",{children:"üîç Alternative: Use Browser Console"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:146,columnNumber:15},this),e.jsxDEV("p",{children:"Open browser console and run:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:147,columnNumber:15},this),e.jsxDEV("pre",{children:`// Get your courses
const { data } = await supabase
  .from('courses')
  .select('id, title')
  .limit(5)
console.log(data)`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:145,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:135,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:49,columnNumber:9},this),e.jsxDEV("div",{className:"test-documentation",children:[e.jsxDEV("h2",{children:"üìö Documentation"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:193,columnNumber:9},this),e.jsxDEV("div",{className:"doc-links",children:[e.jsxDEV("a",{href:"#",onClick:m=>{m.preventDefault(),alert("See: src/services/REALTIME_GUIDE.md")},children:"üìñ Realtime Guide"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:195,columnNumber:11},this),e.jsxDEV("a",{href:"#",onClick:m=>{m.preventDefault(),alert("See: REALTIME_IMPLEMENTATION_SUMMARY.md")},children:"üìã Implementation Summary"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:198,columnNumber:11},this),e.jsxDEV("a",{href:"#",onClick:m=>{m.preventDefault(),alert("See: REALTIME_INTEGRATION_CHECKLIST.md")},children:"‚úÖ Integration Checklist"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:201,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:194,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:192,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTest.jsx",lineNumber:42,columnNumber:5},this)}function zi(){const{user:r}=G(),s=ie(),[i,a]=h.useState([]),[n,l]=h.useState([]),[t,o]=h.useState(!0),[c,m]=h.useState(!1),[d,g]=h.useState(!1),[N,f]=h.useState("");h.useEffect(()=>{r&&b()},[r]);const b=async()=>{try{o(!0);const{data:v,error:L}=await E.from("courses").select("*").order("created_at",{ascending:!1}).limit(10);if(L)throw L;a(v||[]);const{data:C,error:U}=await E.from("enrollments").select("course_id").eq("student_id",r.id);if(U)throw U;l((C==null?void 0:C.map(x=>x.course_id))||[])}catch(v){console.error("Error loading data:",v),f("Error loading data: "+v.message)}finally{o(!1)}},p=async()=>{try{m(!0),f("");const v={instructor_id:r.id,title:"Realtime Test Course",description:"A test course for testing realtime features",category:"test",course_type:"group",price:0,is_published:!0,max_students:10,difficulty_level:"beginner"},{data:L,error:C}=await E.from("courses").insert([v]).select().single();if(C)throw C;f(`‚úÖ Test course created! ID: ${L.id}`),await b(),setTimeout(()=>{s(`/realtime-test?courseId=${L.id}`)},2e3)}catch(v){console.error("Error creating course:",v),f("‚ùå Error: "+v.message)}finally{m(!1)}},y=async v=>{try{g(!0),f(""),console.log("Attempting to enroll:",{courseId:v,userId:r.id});const{data:L,error:C}=await E.from("enrollments").select("id").eq("course_id",v).eq("student_id",r.id).maybeSingle();if(C&&console.error("Error checking enrollment:",C),L){f("‚úÖ Already enrolled! You can test now."),await b();return}const{data:U,error:x}=await E.from("enrollments").insert([{course_id:v,student_id:r.id,status:"active"}]).select();if(console.log("Enrollment result:",{data:U,error:x}),x)if(x.code==="23505")f("‚úÖ Already enrolled! You can test now.");else if(x.code==="42501")f("‚ùå Permission denied. Check RLS policies on enrollments table.");else if(x.code==="23503")f("‚ùå Course not found or invalid user ID.");else throw x;else f(`‚úÖ Enrolled successfully! You can now test with ID: ${v}`);await b()}catch(L){console.error("Error enrolling:",L),f(`‚ùå Error: ${L.message}

Check browser console for details.`)}finally{g(!1)}},T=v=>{navigator.clipboard.writeText(v),f(`‚úÖ Copied to clipboard: ${v}`),setTimeout(()=>f(""),3e3)},R=v=>{s(`/realtime-test?courseId=${v}`)};return r?t?e.jsxDEV("div",{style:{padding:"2rem",textAlign:"center"},children:e.jsxDEV("h1",{children:"Loading..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:181,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:180,columnNumber:7},this):e.jsxDEV("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"2rem"},children:[e.jsxDEV("h1",{children:"üß™ Realtime Test Setup"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:188,columnNumber:7},this),e.jsxDEV("p",{children:"Set up test data to test realtime features"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:189,columnNumber:7},this),N&&e.jsxDEV("div",{style:{padding:"1rem",marginBottom:"1rem",background:N.includes("‚ùå")?"#fee":"#efe",border:`2px solid ${N.includes("‚ùå")?"#fcc":"#cfc"}`,borderRadius:"8px"},children:N},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:192,columnNumber:9},this),e.jsxDEV("div",{style:{marginBottom:"2rem"},children:[e.jsxDEV("h2",{children:"Current User"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:204,columnNumber:9},this),e.jsxDEV("div",{style:{background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:[e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Name:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:206,columnNumber:14},this)," ",r.firstName," ",r.lastName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:206,columnNumber:11},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Email:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:207,columnNumber:14},this)," ",r.email]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:207,columnNumber:11},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Role:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:208,columnNumber:14},this)," ",r.role]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:208,columnNumber:11},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"ID:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:209,columnNumber:14},this)," ",r.id]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:209,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:205,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:203,columnNumber:7},this),e.jsxDEV("div",{style:{marginBottom:"2rem"},children:[e.jsxDEV("h2",{children:"Option 1: Create Test Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:214,columnNumber:9},this),e.jsxDEV("p",{children:"Create a new test course that you'll automatically have access to."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:215,columnNumber:9},this),e.jsxDEV("button",{onClick:p,disabled:c,style:{padding:"0.75rem 1.5rem",background:"#667eea",color:"white",border:"none",borderRadius:"8px",cursor:c?"not-allowed":"pointer",fontSize:"1rem"},children:c?"Creating...":"‚ú® Create Test Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:216,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:213,columnNumber:7},this),e.jsxDEV("div",{style:{marginBottom:"2rem"},children:[e.jsxDEV("h2",{children:"Option 2: Use Existing Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:234,columnNumber:9},this),e.jsxDEV("p",{children:"Select a course from the list below:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:235,columnNumber:9},this),i.length===0?e.jsxDEV("p",{children:"No courses found. Create a test course above!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:238,columnNumber:11},this):e.jsxDEV("div",{style:{display:"grid",gap:"1rem"},children:i.map(v=>{var x;const L=v.instructor_id===r.id,C=n.includes(v.id),U=L||C;return e.jsxDEV("div",{style:{background:"white",padding:"1rem",borderRadius:"8px",border:"2px solid #e0e0e0",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV("div",{style:{flex:1},children:[e.jsxDEV("h3",{style:{margin:"0 0 0.5rem 0"},children:v.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:260,columnNumber:21},this),e.jsxDEV("p",{style:{margin:"0 0 0.5rem 0",fontSize:"0.9rem",color:"#666"},children:[(x=v.description)==null?void 0:x.substring(0,100),"..."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:261,columnNumber:21},this),e.jsxDEV("p",{style:{margin:0,fontSize:"0.85rem",fontFamily:"monospace",color:"#999"},children:["ID: ",v.id]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:264,columnNumber:21},this),e.jsxDEV("div",{style:{marginTop:"0.5rem"},children:[L&&e.jsxDEV("span",{style:{background:"#667eea",color:"white",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.85rem",marginRight:"0.5rem"},children:"üë®‚Äçüè´ You're the instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:269,columnNumber:25},this),C&&e.jsxDEV("span",{style:{background:"#28a745",color:"white",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.85rem",marginRight:"0.5rem"},children:"‚úÖ Enrolled"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:281,columnNumber:25},this),!U&&e.jsxDEV("span",{style:{background:"#ffc107",color:"#333",padding:"0.25rem 0.5rem",borderRadius:"4px",fontSize:"0.85rem"},children:"‚ö†Ô∏è No access"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:293,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:267,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:259,columnNumber:19},this),e.jsxDEV("div",{style:{display:"flex",gap:"0.5rem",flexDirection:"column"},children:U?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("button",{onClick:()=>R(v.id),style:{padding:"0.5rem 1rem",background:"#28a745",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem"},children:"üöÄ Test Now"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:308,columnNumber:25},this),e.jsxDEV("button",{onClick:()=>T(v.id),style:{padding:"0.5rem 1rem",background:"#6c757d",color:"white",border:"none",borderRadius:"6px",cursor:"pointer",fontSize:"0.9rem"},children:"üìã Copy ID"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:322,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:307,columnNumber:23},this):e.jsxDEV("button",{onClick:()=>y(v.id),disabled:d,style:{padding:"0.5rem 1rem",background:"#667eea",color:"white",border:"none",borderRadius:"6px",cursor:d?"not-allowed":"pointer",fontSize:"0.9rem"},children:d?"Enrolling...":"üìù Enroll"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:338,columnNumber:23},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:305,columnNumber:19},this)]},v.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:247,columnNumber:17},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:240,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:233,columnNumber:7},this),e.jsxDEV("div",{style:{marginTop:"2rem",padding:"1rem",background:"#f8f9fa",borderRadius:"8px"},children:[e.jsxDEV("h3",{children:"üí° Quick Tips"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:363,columnNumber:9},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"You need to be either the instructor OR enrolled in a course to send messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:365,columnNumber:11},this),e.jsxDEV("li",{children:"Create a test course if you don't have any courses yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:366,columnNumber:11},this),e.jsxDEV("li",{children:"Enroll in an existing course to test as a student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:367,columnNumber:11},this),e.jsxDEV("li",{children:"Open the test page in two windows with different users for best results"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:368,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:364,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:362,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:187,columnNumber:5},this):e.jsxDEV("div",{style:{padding:"2rem",textAlign:"center"},children:[e.jsxDEV("h1",{children:"üîí Please sign in"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:172,columnNumber:9},this),e.jsxDEV("p",{children:"You need to be signed in to set up test data."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:173,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeTestSetup.jsx",lineNumber:171,columnNumber:7},this)}function Yi(){const{user:r}=G(),[s,i]=h.useState({}),[a,n]=h.useState([]),[l,t]=h.useState(!1),o=(m,d,g)=>{n(N=>[...N,{test:m,passed:d,message:g,timestamp:new Date().toISOString()}])},c=async()=>{if(t(!0),n([]),o("Supabase Connection",!0,"Connected to Supabase"),r)o("Authentication",!0,`Signed in as ${r.email}`);else{o("Authentication",!1,"Not signed in"),t(!1);return}try{const{data:d,error:g}=await E.from("messages").select("id").limit(1);g?o("Messages Table Access",!1,`Error: ${g.message}`):o("Messages Table Access",!0,"Can query messages table")}catch(d){o("Messages Table Access",!1,`Exception: ${d.message}`)}try{const d=E.channel("test-channel-"+Date.now());o("Channel Creation",!0,"Channel created successfully");const g=new Promise((N,f)=>{const b=setTimeout(()=>{f(new Error("Subscription timeout after 10 seconds"))},1e4);d.on("postgres_changes",{event:"*",schema:"public",table:"messages"},p=>{console.log("Received change:",p)}).subscribe((p,y)=>{clearTimeout(b),p==="SUBSCRIBED"?N(p):p==="CHANNEL_ERROR"?f(y||new Error("Channel error")):p==="TIMED_OUT"?f(new Error("Subscription timed out")):p==="CLOSED"&&f(new Error("Channel closed"))})});try{const N=await g;o("Channel Subscription",!0,`Status: ${N}`),await E.removeChannel(d),o("Channel Cleanup",!0,"Channel removed successfully")}catch(N){o("Channel Subscription",!1,`Error: ${N.message}`)}}catch(d){o("Channel Creation",!1,`Error: ${d.message}`)}if(E.realtime){o("Realtime Client",!0,"Realtime client exists");const d=E.getChannels();o("Active Channels",!0,`${d.length} active channels`)}else o("Realtime Client",!1,"Realtime client not found");t(!1)};return h.useEffect(()=>{i({supabaseUrl:"https://wxfxvuvlpjxnyxhpquyw.supabase.co",hasAnonKey:!0,user:(r==null?void 0:r.email)||"Not signed in",userId:(r==null?void 0:r.id)||"N/A"})},[r]),r?e.jsxDEV("div",{style:{maxWidth:"1000px",margin:"0 auto",padding:"2rem"},children:[e.jsxDEV("h1",{children:"üîç Realtime Diagnostics"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:135,columnNumber:7},this),e.jsxDEV("p",{children:"Check if Supabase Realtime is configured correctly"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:136,columnNumber:7},this),e.jsxDEV("div",{style:{marginBottom:"2rem",background:"#f8f9fa",padding:"1rem",borderRadius:"8px"},children:[e.jsxDEV("h2",{children:"Configuration"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:139,columnNumber:9},this),e.jsxDEV("table",{style:{width:"100%",borderCollapse:"collapse"},children:e.jsxDEV("tbody",{children:[e.jsxDEV("tr",{children:[e.jsxDEV("td",{style:{padding:"0.5rem",fontWeight:"bold"},children:"Supabase URL:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:143,columnNumber:15},this),e.jsxDEV("td",{style:{padding:"0.5rem",fontFamily:"monospace",fontSize:"0.9rem"},children:s.supabaseUrl},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:144,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:142,columnNumber:13},this),e.jsxDEV("tr",{children:[e.jsxDEV("td",{style:{padding:"0.5rem",fontWeight:"bold"},children:"Anon Key:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:149,columnNumber:15},this),e.jsxDEV("td",{style:{padding:"0.5rem"},children:s.hasAnonKey?"‚úÖ Present":"‚ùå Missing"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:150,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:148,columnNumber:13},this),e.jsxDEV("tr",{children:[e.jsxDEV("td",{style:{padding:"0.5rem",fontWeight:"bold"},children:"User:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:155,columnNumber:15},this),e.jsxDEV("td",{style:{padding:"0.5rem"},children:s.user},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:156,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:154,columnNumber:13},this),e.jsxDEV("tr",{children:[e.jsxDEV("td",{style:{padding:"0.5rem",fontWeight:"bold"},children:"User ID:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:159,columnNumber:15},this),e.jsxDEV("td",{style:{padding:"0.5rem",fontFamily:"monospace",fontSize:"0.9rem"},children:s.userId},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:160,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:158,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:141,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:140,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:138,columnNumber:7},this),e.jsxDEV("button",{onClick:c,disabled:l,style:{padding:"1rem 2rem",background:"#667eea",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",cursor:l?"not-allowed":"pointer",marginBottom:"2rem"},children:l?"üîÑ Running Tests...":"üöÄ Run Diagnostics"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:168,columnNumber:7},this),a.length>0&&e.jsxDEV("div",{style:{background:"white",padding:"1.5rem",borderRadius:"8px",boxShadow:"0 2px 8px rgba(0,0,0,0.1)"},children:[e.jsxDEV("h2",{children:"Test Results"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:187,columnNumber:11},this),e.jsxDEV("div",{style:{display:"flex",flexDirection:"column",gap:"1rem"},children:a.map((m,d)=>e.jsxDEV("div",{style:{padding:"1rem",background:m.passed?"#d4edda":"#f8d7da",border:`2px solid ${m.passed?"#28a745":"#dc3545"}`,borderRadius:"6px"},children:e.jsxDEV("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[e.jsxDEV("div",{children:[e.jsxDEV("strong",{children:[m.passed?"‚úÖ":"‚ùå"," ",m.test]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:201,columnNumber:21},this),e.jsxDEV("p",{style:{margin:"0.5rem 0 0 0",fontSize:"0.9rem"},children:m.message},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:202,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:200,columnNumber:19},this),e.jsxDEV("span",{style:{fontSize:"0.8rem",color:"#666"},children:new Date(m.timestamp).toLocaleTimeString()},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:204,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:199,columnNumber:17},this)},d,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:190,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:188,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:186,columnNumber:9},this),e.jsxDEV("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#fff3cd",borderRadius:"8px",border:"2px solid #ffc107"},children:[e.jsxDEV("h3",{children:"‚ö†Ô∏è Common Issues"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:215,columnNumber:9},this),e.jsxDEV("ul",{style:{lineHeight:"1.8"},children:[e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Subscription fails:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:218,columnNumber:13},this)," Realtime is not enabled in Supabase Dashboard",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:219,columnNumber:13},this),e.jsxDEV("span",{style:{fontSize:"0.9rem",color:"#666"},children:"‚Üí Go to Supabase Dashboard ‚Üí Settings ‚Üí API ‚Üí Enable Realtime"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:220,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:217,columnNumber:11},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Channel error:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:225,columnNumber:13},this)," Database replication not enabled",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:226,columnNumber:13},this),e.jsxDEV("span",{style:{fontSize:"0.9rem",color:"#666"},children:"‚Üí Go to Supabase Dashboard ‚Üí Database ‚Üí Replication ‚Üí Enable for 'messages' table"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:227,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:224,columnNumber:11},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Timeout:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:232,columnNumber:13},this)," Network or firewall blocking WebSocket connections",e.jsxDEV("br",{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:233,columnNumber:13},this),e.jsxDEV("span",{style:{fontSize:"0.9rem",color:"#666"},children:"‚Üí Check browser console for WebSocket errors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:234,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:231,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:216,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:214,columnNumber:7},this),e.jsxDEV("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#d1ecf1",borderRadius:"8px",border:"2px solid #17a2b8"},children:[e.jsxDEV("h3",{children:"üìã How to Enable Realtime"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:242,columnNumber:9},this),e.jsxDEV("ol",{style:{lineHeight:"1.8"},children:[e.jsxDEV("li",{children:"Go to your Supabase Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:244,columnNumber:11},this),e.jsxDEV("li",{children:["Navigate to ",e.jsxDEV("strong",{children:"Database ‚Üí Replication"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:245,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:245,columnNumber:11},this),e.jsxDEV("li",{children:["Find the ",e.jsxDEV("strong",{children:"messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:246,columnNumber:24},this)," table"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:246,columnNumber:11},this),e.jsxDEV("li",{children:"Toggle the switch to enable replication"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:247,columnNumber:11},this),e.jsxDEV("li",{children:"Wait 30 seconds for changes to apply"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:248,columnNumber:11},this),e.jsxDEV("li",{children:"Run diagnostics again"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:249,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:243,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:241,columnNumber:7},this),e.jsxDEV("div",{style:{marginTop:"2rem",padding:"1.5rem",background:"#f8f9fa",borderRadius:"8px"},children:[e.jsxDEV("h3",{children:"üîç Browser Console"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:254,columnNumber:9},this),e.jsxDEV("p",{children:"Open browser console (F12) to see detailed logs:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:255,columnNumber:9},this),e.jsxDEV("ul",{style:{fontFamily:"monospace",fontSize:"0.9rem",lineHeight:"1.8"},children:[e.jsxDEV("li",{children:"Channel creation logs"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:257,columnNumber:11},this),e.jsxDEV("li",{children:"Subscription status updates"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:258,columnNumber:11},this),e.jsxDEV("li",{children:"WebSocket connection errors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:259,columnNumber:11},this),e.jsxDEV("li",{children:"Realtime event payloads"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:260,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:256,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:253,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:134,columnNumber:5},this):e.jsxDEV("div",{style:{padding:"2rem",textAlign:"center"},children:[e.jsxDEV("h1",{children:"üîí Please sign in"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:127,columnNumber:9},this),e.jsxDEV("p",{children:"You need to be signed in to run diagnostics."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:128,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RealtimeDebug.jsx",lineNumber:126,columnNumber:7},this)}function Wi(){const[r,s]=h.useState("Not started"),[i,a]=h.useState([]),n=t=>{a(o=>[...o,`${new Date().toLocaleTimeString()}: ${t}`]),console.log(t)},l=async()=>{s("Testing..."),a([]),n("Creating channel...");const t=E.channel("simple-test-"+Date.now());n("Subscribing to channel..."),t.on("broadcast",{event:"test"},o=>{n("‚úÖ Received broadcast: "+JSON.stringify(o))}).subscribe((o,c)=>{n(`Subscribe status: ${o}`),c&&n(`Error: ${JSON.stringify(c)}`),o==="SUBSCRIBED"?(s("‚úÖ Connected!"),n("‚úÖ Successfully subscribed!"),setTimeout(async()=>{n("Sending test broadcast...");const m=await t.send({type:"broadcast",event:"test",payload:{message:"Hello!"}});n(`Send result: ${m}`)},1e3)):o==="CHANNEL_ERROR"?(s("‚ùå Failed"),n("‚ùå Channel error")):o==="TIMED_OUT"&&(s("‚ùå Timeout"),n("‚ùå Connection timed out"))})};return e.jsxDEV("div",{style:{maxWidth:"800px",margin:"2rem auto",padding:"2rem"},children:[e.jsxDEV("h1",{children:"üß™ Simple Realtime Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:60,columnNumber:7},this),e.jsxDEV("p",{children:"This tests if Supabase Realtime WebSocket connection works"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:61,columnNumber:7},this),e.jsxDEV("div",{style:{marginBottom:"2rem",padding:"1rem",background:"#f8f9fa",borderRadius:"8px"},children:[e.jsxDEV("h3",{children:"Configuration"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:64,columnNumber:9},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Supabase URL:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:65,columnNumber:12},this)," ","https://wxfxvuvlpjxnyxhpquyw.supabase.co"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:65,columnNumber:9},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Status:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:66,columnNumber:12},this)," ",r]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:66,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:63,columnNumber:7},this),e.jsxDEV("button",{onClick:l,style:{padding:"1rem 2rem",background:"#667eea",color:"white",border:"none",borderRadius:"8px",fontSize:"1rem",cursor:"pointer",marginBottom:"2rem"},children:"üöÄ Test Connection"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:69,columnNumber:7},this),i.length>0&&e.jsxDEV("div",{style:{background:"#2c3e50",color:"#ecf0f1",padding:"1rem",borderRadius:"8px",fontFamily:"monospace",fontSize:"0.9rem"},children:[e.jsxDEV("h3",{style:{color:"#ecf0f1",marginTop:0},children:"Console Log:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:87,columnNumber:11},this),i.map((t,o)=>e.jsxDEV("div",{style:{marginBottom:"0.5rem"},children:t},o,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:89,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:86,columnNumber:9},this),e.jsxDEV("div",{style:{marginTop:"2rem",padding:"1rem",background:"#fff3cd",borderRadius:"8px",border:"2px solid #ffc107"},children:[e.jsxDEV("h3",{children:"‚ö†Ô∏è About the Cookie Warning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:95,columnNumber:9},this),e.jsxDEV("p",{children:["If you see: ",e.jsxDEV("code",{children:'Cookie "__cf_bm" has been rejected for invalid domain'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:96,columnNumber:24},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:96,columnNumber:9},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"This is normal and harmless!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:97,columnNumber:12},this)," It's a Cloudflare cookie warning that doesn't affect functionality."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:97,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:94,columnNumber:7},this),e.jsxDEV("div",{style:{marginTop:"2rem",padding:"1rem",background:"#d1ecf1",borderRadius:"8px",border:"2px solid #17a2b8"},children:[e.jsxDEV("h3",{children:"‚úÖ What Success Looks Like"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:101,columnNumber:9},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:'Status shows: "‚úÖ Connected!"'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:103,columnNumber:11},this),e.jsxDEV("li",{children:'Log shows: "Subscribe status: SUBSCRIBED"'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:104,columnNumber:11},this),e.jsxDEV("li",{children:'Log shows: "‚úÖ Successfully subscribed!"'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:105,columnNumber:11},this),e.jsxDEV("li",{children:'Log shows: "Send result: ok"'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:106,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:102,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:100,columnNumber:7},this),e.jsxDEV("div",{style:{marginTop:"2rem",padding:"1rem",background:"#f8d7da",borderRadius:"8px",border:"2px solid #dc3545"},children:[e.jsxDEV("h3",{children:"‚ùå If It Fails"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:111,columnNumber:9},this),e.jsxDEV("p",{children:e.jsxDEV("strong",{children:"Check these:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:112,columnNumber:12},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:112,columnNumber:9},this),e.jsxDEV("ol",{children:[e.jsxDEV("li",{children:["Is your Supabase URL correct in ",e.jsxDEV("code",{children:".env"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:114,columnNumber:47},this),"?"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:114,columnNumber:11},this),e.jsxDEV("li",{children:"Is your project active (not paused)?"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:115,columnNumber:11},this),e.jsxDEV("li",{children:"Try refreshing the page"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:116,columnNumber:11},this),e.jsxDEV("li",{children:"Check browser console for other errors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:117,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:113,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:110,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/SimpleRealtimeTest.jsx",lineNumber:59,columnNumber:5},this)}Js(()=>import("./fixProfile-j9xDZ1ln.js"),__vite__mapDeps([0,1,2]));function re({children:r,role:s}){const{user:i,profile:a}=G();return i?s&&(a==null?void 0:a.role)!==s?e.jsxDEV(os,{to:"/"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:42,columnNumber:12},this):r:e.jsxDEV(os,{to:"/login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:38,columnNumber:12},this)}function Ji(){return e.jsxDEV(rr,{children:e.jsxDEV(Hs,{children:[e.jsxDEV(ar,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:52,columnNumber:9},this),e.jsxDEV(qs,{children:[e.jsxDEV(W,{path:"/login",element:e.jsxDEV(nr,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:54,columnNumber:41},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:54,columnNumber:11},this),e.jsxDEV(W,{path:"/register",element:e.jsxDEV(lr,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:55,columnNumber:44},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:55,columnNumber:11},this),e.jsxDEV(W,{path:"/auth/callback",element:e.jsxDEV(Pi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:56,columnNumber:49},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:56,columnNumber:11},this),e.jsxDEV(W,{path:"/onboarding",element:e.jsxDEV(Ii,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:57,columnNumber:46},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:57,columnNumber:11},this),e.jsxDEV(W,{path:"/role-selection",element:e.jsxDEV(Ai,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:58,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:58,columnNumber:11},this),e.jsxDEV(W,{path:"/",element:e.jsxDEV(ir,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:60,columnNumber:36},this),children:[e.jsxDEV(W,{index:!0,element:e.jsxDEV(or,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:61,columnNumber:35},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:61,columnNumber:13},this),e.jsxDEV(W,{path:"marketplace",element:e.jsxDEV(gi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:62,columnNumber:48},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:62,columnNumber:13},this),e.jsxDEV(W,{path:"courses/:courseId",element:e.jsxDEV(ji,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:63,columnNumber:54},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:63,columnNumber:13},this),e.jsxDEV(W,{path:"my-courses",element:e.jsxDEV(re,{children:e.jsxDEV(bi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:67,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:66,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:65,columnNumber:13},this),e.jsxDEV(W,{path:"manage-students",element:e.jsxDEV(re,{role:"parent",children:e.jsxDEV(Ci,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:73,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:72,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:71,columnNumber:13},this),e.jsxDEV(W,{path:"learn/:courseId",element:e.jsxDEV(re,{children:e.jsxDEV(Si,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:79,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:78,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:77,columnNumber:13},this),e.jsxDEV(W,{path:"instructor/dashboard",element:e.jsxDEV(re,{role:"instructor",children:e.jsxDEV(Ti,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:85,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:84,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:83,columnNumber:13},this),e.jsxDEV(W,{path:"instructor/create-course",element:e.jsxDEV(re,{role:"instructor",children:e.jsxDEV(Ui,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:91,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:90,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:89,columnNumber:13},this),e.jsxDEV(W,{path:"instructor/sessions/:courseId",element:e.jsxDEV(re,{role:"instructor",children:e.jsxDEV(ps,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:97,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:96,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:95,columnNumber:13},this),e.jsxDEV(W,{path:"instructor/course/:courseId/manage",element:e.jsxDEV(re,{role:"instructor",children:e.jsxDEV(_i,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:103,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:102,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:101,columnNumber:13},this),e.jsxDEV(W,{path:"profile",element:e.jsxDEV(re,{children:e.jsxDEV(Li,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:109,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:108,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:107,columnNumber:13},this),e.jsxDEV(W,{path:"test-backend",element:e.jsxDEV(re,{role:"instructor",children:e.jsxDEV(Oi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:115,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:114,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:113,columnNumber:13},this),e.jsxDEV(W,{path:"test-security",element:e.jsxDEV(re,{children:e.jsxDEV($i,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:121,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:120,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:119,columnNumber:13},this),e.jsxDEV(W,{path:"realtime-test",element:e.jsxDEV(re,{children:e.jsxDEV(Bi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:127,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:126,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:125,columnNumber:13},this),e.jsxDEV(W,{path:"realtime-setup",element:e.jsxDEV(re,{children:e.jsxDEV(zi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:133,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:132,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:131,columnNumber:13},this),e.jsxDEV(W,{path:"realtime-debug",element:e.jsxDEV(re,{children:e.jsxDEV(Yi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:139,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:138,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:137,columnNumber:13},this),e.jsxDEV(W,{path:"simple-realtime-test",element:e.jsxDEV(re,{children:e.jsxDEV(Wi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:145,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:144,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:143,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:60,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:53,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:51,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:50,columnNumber:5},this)}He.createRoot(document.getElementById("root")).render(e.jsxDEV(Bs.StrictMode,{children:e.jsxDEV(Ji,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/main.jsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/main.jsx",lineNumber:7,columnNumber:3},void 0));export{E as s};
