const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/fixProfile-2qfYEjEw.js","assets/react-vendor-CJ32hqYR.js","assets/supabase-vendor-1EnARKVZ.js"])))=>i.map(i=>d[i]);
import{r as m,b as Ws,u as be,L as K,O as zs,d as Ss,e as ls,f as Ae,B as Gs,R as Js,h as Z,N as He,i as Ks}from"./react-vendor-CJ32hqYR.js";import{c as Xs}from"./supabase-vendor-1EnARKVZ.js";(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))a(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const t of n.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&a(t)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function a(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();var Cs={exports:{}},as={};/**
 * @license React
 * react-jsx-dev-runtime.development.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(){var r=m,s=Symbol.for("react.element"),i=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),n=Symbol.for("react.profiler"),t=Symbol.for("react.provider"),l=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),d=Symbol.for("react.suspense_list"),N=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.offscreen"),b=Symbol.iterator,T="@@iterator";function C(c){if(c===null||typeof c!="object")return null;var v=b&&c[b]||c[T];return typeof v=="function"?v:null}var S=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function x(c){{for(var v=arguments.length,_=new Array(v>1?v-1:0),A=1;A<v;A++)_[A-1]=arguments[A];k("error",c,_)}}function k(c,v,_){{var A=S.ReactDebugCurrentFrame,Q=A.getStackAddendum();Q!==""&&(v+="%s",_=_.concat([Q]));var re=_.map(function(J){return String(J)});re.unshift("Warning: "+v),Function.prototype.apply.call(console[c],console,re)}}var M=!1,E=!1,P=!1,I=!1,W=!1,$;$=Symbol.for("react.module.reference");function ee(c){return!!(typeof c=="string"||typeof c=="function"||c===a||c===n||W||c===o||c===h||c===d||I||c===f||M||E||P||typeof c=="object"&&c!==null&&(c.$$typeof===p||c.$$typeof===N||c.$$typeof===t||c.$$typeof===l||c.$$typeof===u||c.$$typeof===$||c.getModuleId!==void 0))}function w(c,v,_){var A=c.displayName;if(A)return A;var Q=v.displayName||v.name||"";return Q!==""?_+"("+Q+")":_}function D(c){return c.displayName||"Context"}function y(c){if(c==null)return null;if(typeof c.tag=="number"&&x("Received an unexpected object in getComponentNameFromType(). This is likely a bug in React. Please file an issue."),typeof c=="function")return c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case a:return"Fragment";case i:return"Portal";case n:return"Profiler";case o:return"StrictMode";case h:return"Suspense";case d:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case l:var v=c;return D(v)+".Consumer";case t:var _=c;return D(_._context)+".Provider";case u:return w(c,c.render,"ForwardRef");case N:var A=c.displayName||null;return A!==null?A:y(c.type)||"Memo";case p:{var Q=c,re=Q._payload,J=Q._init;try{return y(J(re))}catch{return null}}}return null}var V=Object.assign,R=0,G,Y,me,U,F,B,H;function ie(){}ie.__reactDisabledLog=!0;function oe(){{if(R===0){G=console.log,Y=console.info,me=console.warn,U=console.error,F=console.group,B=console.groupCollapsed,H=console.groupEnd;var c={configurable:!0,enumerable:!0,value:ie,writable:!0};Object.defineProperties(console,{info:c,log:c,warn:c,error:c,group:c,groupCollapsed:c,groupEnd:c})}R++}}function Ne(){{if(R--,R===0){var c={configurable:!0,enumerable:!0,writable:!0};Object.defineProperties(console,{log:V({},c,{value:G}),info:V({},c,{value:Y}),warn:V({},c,{value:me}),error:V({},c,{value:U}),group:V({},c,{value:F}),groupCollapsed:V({},c,{value:B}),groupEnd:V({},c,{value:H})})}R<0&&x("disabledDepth fell below zero. This is a bug in React. Please file an issue.")}}var Te=S.ReactCurrentDispatcher,ke;function pe(c,v,_){{if(ke===void 0)try{throw Error()}catch(Q){var A=Q.stack.trim().match(/\n( *(at )?)/);ke=A&&A[1]||""}return`
`+ke+c}}var ve=!1,Se;{var We=typeof WeakMap=="function"?WeakMap:Map;Se=new We}function $e(c,v){if(!c||ve)return"";{var _=Se.get(c);if(_!==void 0)return _}var A;ve=!0;var Q=Error.prepareStackTrace;Error.prepareStackTrace=void 0;var re;re=Te.current,Te.current=null,oe();try{if(v){var J=function(){throw Error()};if(Object.defineProperty(J.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(J,[])}catch(ge){A=ge}Reflect.construct(c,[],J)}else{try{J.call()}catch(ge){A=ge}c.call(J.prototype)}}else{try{throw Error()}catch(ge){A=ge}c()}}catch(ge){if(ge&&A&&typeof ge.stack=="string"){for(var z=ge.stack.split(`
`),de=A.stack.split(`
`),le=z.length-1,te=de.length-1;le>=1&&te>=0&&z[le]!==de[te];)te--;for(;le>=1&&te>=0;le--,te--)if(z[le]!==de[te]){if(le!==1||te!==1)do if(le--,te--,te<0||z[le]!==de[te]){var fe=`
`+z[le].replace(" at new "," at ");return c.displayName&&fe.includes("<anonymous>")&&(fe=fe.replace("<anonymous>",c.displayName)),typeof c=="function"&&Se.set(c,fe),fe}while(le>=1&&te>=0);break}}}finally{ve=!1,Te.current=re,Ne(),Error.prepareStackTrace=Q}var Le=c?c.displayName||c.name:"",we=Le?pe(Le):"";return typeof c=="function"&&Se.set(c,we),we}function qe(c,v,_){return $e(c,!1)}function Fe(c){var v=c.prototype;return!!(v&&v.isReactComponent)}function Ue(c,v,_){if(c==null)return"";if(typeof c=="function")return $e(c,Fe(c));if(typeof c=="string")return pe(c);switch(c){case h:return pe("Suspense");case d:return pe("SuspenseList")}if(typeof c=="object")switch(c.$$typeof){case u:return qe(c.render);case N:return Ue(c.type,v,_);case p:{var A=c,Q=A._payload,re=A._init;try{return Ue(re(Q),v,_)}catch{}}}return""}var De=Object.prototype.hasOwnProperty,g={},q=S.ReactDebugCurrentFrame;function X(c){if(c){var v=c._owner,_=Ue(c.type,c._source,v?v.type:null);q.setExtraStackFrame(_)}else q.setExtraStackFrame(null)}function se(c,v,_,A,Q){{var re=Function.call.bind(De);for(var J in c)if(re(c,J)){var z=void 0;try{if(typeof c[J]!="function"){var de=Error((A||"React class")+": "+_+" type `"+J+"` is invalid; it must be a function, usually from the `prop-types` package, but received `"+typeof c[J]+"`.This often happens because of typos such as `PropTypes.function` instead of `PropTypes.func`.");throw de.name="Invariant Violation",de}z=c[J](v,J,A,_,null,"SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED")}catch(le){z=le}z&&!(z instanceof Error)&&(X(Q),x("%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",A||"React class",_,J,typeof z),X(null)),z instanceof Error&&!(z.message in g)&&(g[z.message]=!0,X(Q),x("Failed %s type: %s",_,z.message),X(null))}}}var ce=Array.isArray;function ne(c){return ce(c)}function _e(c){{var v=typeof Symbol=="function"&&Symbol.toStringTag,_=v&&c[Symbol.toStringTag]||c.constructor.name||"Object";return _}}function Pe(c){try{return Ee(c),!1}catch{return!0}}function Ee(c){return""+c}function Ve(c){if(Pe(c))return x("The provided key is an unsupported type %s. This value must be coerced to a string before before using it here.",_e(c)),Ee(c)}var he=S.ReactCurrentOwner,ye={key:!0,ref:!0,__self:!0,__source:!0},Ce,Me,xe;xe={};function Ie(c){if(De.call(c,"ref")){var v=Object.getOwnPropertyDescriptor(c,"ref").get;if(v&&v.isReactWarning)return!1}return c.ref!==void 0}function ze(c){if(De.call(c,"key")){var v=Object.getOwnPropertyDescriptor(c,"key").get;if(v&&v.isReactWarning)return!1}return c.key!==void 0}function Ge(c,v){if(typeof c.ref=="string"&&he.current&&v&&he.current.stateNode!==v){var _=y(he.current.type);xe[_]||(x('Component "%s" contains the string ref "%s". Support for string refs will be removed in a future major release. This case cannot be automatically converted to an arrow function. We ask you to manually fix this case by using useRef() or createRef() instead. Learn more about using refs safely here: https://reactjs.org/link/strict-mode-string-ref',y(he.current.type),c.ref),xe[_]=!0)}}function Ms(c,v){{var _=function(){Ce||(Ce=!0,x("%s: `key` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",v))};_.isReactWarning=!0,Object.defineProperty(c,"key",{get:_,configurable:!0})}}function Rs(c,v){{var _=function(){Me||(Me=!0,x("%s: `ref` is not a prop. Trying to access it will result in `undefined` being returned. If you need to access the same value within the child component, you should pass it as a different prop. (https://reactjs.org/link/special-props)",v))};_.isReactWarning=!0,Object.defineProperty(c,"ref",{get:_,configurable:!0})}}var Ls=function(c,v,_,A,Q,re,J){var z={$$typeof:s,type:c,key:v,ref:_,props:J,_owner:re};return z._store={},Object.defineProperty(z._store,"validated",{configurable:!1,enumerable:!1,writable:!0,value:!1}),Object.defineProperty(z,"_self",{configurable:!1,enumerable:!1,writable:!1,value:A}),Object.defineProperty(z,"_source",{configurable:!1,enumerable:!1,writable:!1,value:Q}),Object.freeze&&(Object.freeze(z.props),Object.freeze(z)),z};function Os(c,v,_,A,Q){{var re,J={},z=null,de=null;_!==void 0&&(Ve(_),z=""+_),ze(v)&&(Ve(v.key),z=""+v.key),Ie(v)&&(de=v.ref,Ge(v,Q));for(re in v)De.call(v,re)&&!ye.hasOwnProperty(re)&&(J[re]=v[re]);if(c&&c.defaultProps){var le=c.defaultProps;for(re in le)J[re]===void 0&&(J[re]=le[re])}if(z||de){var te=typeof c=="function"?c.displayName||c.name||"Unknown":c;z&&Ms(J,te),de&&Rs(J,te)}return Ls(c,z,de,Q,A,he.current,J)}}var Je=S.ReactCurrentOwner,ms=S.ReactDebugCurrentFrame;function Re(c){if(c){var v=c._owner,_=Ue(c.type,c._source,v?v.type:null);ms.setExtraStackFrame(_)}else ms.setExtraStackFrame(null)}var Ke;Ke=!1;function Xe(c){return typeof c=="object"&&c!==null&&c.$$typeof===s}function ds(){{if(Je.current){var c=y(Je.current.type);if(c)return`

Check the render method of \``+c+"`."}return""}}function As(c){{if(c!==void 0){var v=c.fileName.replace(/^.*[\\\/]/,""),_=c.lineNumber;return`

Check your code at `+v+":"+_+"."}return""}}var Ns={};function qs(c){{var v=ds();if(!v){var _=typeof c=="string"?c:c.displayName||c.name;_&&(v=`

Check the top-level render call using <`+_+">.")}return v}}function gs(c,v){{if(!c._store||c._store.validated||c.key!=null)return;c._store.validated=!0;var _=qs(v);if(Ns[_])return;Ns[_]=!0;var A="";c&&c._owner&&c._owner!==Je.current&&(A=" It was passed a child from "+y(c._owner.type)+"."),Re(c),x('Each child in a list should have a unique "key" prop.%s%s See https://reactjs.org/link/warning-keys for more information.',_,A),Re(null)}}function hs(c,v){{if(typeof c!="object")return;if(ne(c))for(var _=0;_<c.length;_++){var A=c[_];Xe(A)&&gs(A,v)}else if(Xe(c))c._store&&(c._store.validated=!0);else if(c){var Q=C(c);if(typeof Q=="function"&&Q!==c.entries)for(var re=Q.call(c),J;!(J=re.next()).done;)Xe(J.value)&&gs(J.value,v)}}}function $s(c){{var v=c.type;if(v==null||typeof v=="string")return;var _;if(typeof v=="function")_=v.propTypes;else if(typeof v=="object"&&(v.$$typeof===u||v.$$typeof===N))_=v.propTypes;else return;if(_){var A=y(v);se(_,c.props,"prop",A,c)}else if(v.PropTypes!==void 0&&!Ke){Ke=!0;var Q=y(v);x("Component %s declared `PropTypes` instead of `propTypes`. Did you misspell the property assignment?",Q||"Unknown")}typeof v.getDefaultProps=="function"&&!v.getDefaultProps.isReactClassApproved&&x("getDefaultProps is only used on classic React.createClass definitions. Use a static property named `defaultProps` instead.")}}function Fs(c){{for(var v=Object.keys(c.props),_=0;_<v.length;_++){var A=v[_];if(A!=="children"&&A!=="key"){Re(c),x("Invalid prop `%s` supplied to `React.Fragment`. React.Fragment can only have `key` and `children` props.",A),Re(null);break}}c.ref!==null&&(Re(c),x("Invalid attribute `ref` supplied to `React.Fragment`."),Re(null))}}var fs={};function Is(c,v,_,A,Q,re){{var J=ee(c);if(!J){var z="";(c===void 0||typeof c=="object"&&c!==null&&Object.keys(c).length===0)&&(z+=" You likely forgot to export your component from the file it's defined in, or you might have mixed up default and named imports.");var de=As(Q);de?z+=de:z+=ds();var le;c===null?le="null":ne(c)?le="array":c!==void 0&&c.$$typeof===s?(le="<"+(y(c.type)||"Unknown")+" />",z=" Did you accidentally export a JSX literal instead of a component?"):le=typeof c,x("React.jsx: type is invalid -- expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",le,z)}var te=Os(c,v,_,Q,re);if(te==null)return te;if(J){var fe=v.children;if(fe!==void 0)if(A)if(ne(fe)){for(var Le=0;Le<fe.length;Le++)hs(fe[Le],c);Object.freeze&&Object.freeze(fe)}else x("React.jsx: Static children should always be an array. You are likely explicitly calling React.jsxs or React.jsxDEV. Use the Babel transform instead.");else hs(fe,c)}if(De.call(v,"key")){var we=y(c),ge=Object.keys(v).filter(function(Ys){return Ys!=="key"}),Ze=ge.length>0?"{key: someKey, "+ge.join(": ..., ")+": ...}":"{key: someKey}";if(!fs[we+Ze]){var Hs=ge.length>0?"{"+ge.join(": ..., ")+": ...}":"{}";x(`A props object containing a "key" prop is being spread into JSX:
  let props = %s;
  <%s {...props} />
React keys must be passed directly to JSX without using spread:
  let props = %s;
  <%s key={someKey} {...props} />`,Ze,we,Hs,we),fs[we+Ze]=!0}}return c===a?Fs(te):$s(te),te}}var Bs=Is;as.Fragment=a,as.jsxDEV=Bs})();Cs.exports=as;var e=Cs.exports,os={},Qe=Ws;{var Be=Qe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;os.createRoot=function(r,s){Be.usingClientEntryPoint=!0;try{return Qe.createRoot(r,s)}finally{Be.usingClientEntryPoint=!1}},os.hydrateRoot=function(r,s,i){Be.usingClientEntryPoint=!0;try{return Qe.hydrateRoot(r,s,i)}finally{Be.usingClientEntryPoint=!1}}}const Zs="modulepreload",Qs=function(r){return"/"+r},js={},er=function(s,i,a){let o=Promise.resolve();if(i&&i.length>0){document.getElementsByTagName("link");const t=document.querySelector("meta[property=csp-nonce]"),l=(t==null?void 0:t.nonce)||(t==null?void 0:t.getAttribute("nonce"));o=Promise.allSettled(i.map(u=>{if(u=Qs(u),u in js)return;js[u]=!0;const h=u.endsWith(".css"),d=h?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${d}`))return;const N=document.createElement("link");if(N.rel=h?"stylesheet":Zs,h||(N.as="script"),N.crossOrigin="",N.href=u,l&&N.setAttribute("nonce",l),document.head.appendChild(N),h)return new Promise((p,f)=>{N.addEventListener("load",p),N.addEventListener("error",()=>f(new Error(`Unable to preload CSS for ${u}`)))})}))}function n(t){const l=new Event("vite:preloadError",{cancelable:!0});if(l.payload=t,window.dispatchEvent(l),!l.defaultPrevented)throw t}return o.then(t=>{for(const l of t||[])l.status==="rejected"&&n(l.reason);return s().catch(n)})},sr="https://wxfxvuvlpjxnyxhpquyw.supabase.co",rr="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Ind4Znh2dXZscGp4bnl4aHBxdXl3Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjUxODkyNzEsImV4cCI6MjA4MDc2NTI3MX0.rdFXyHC-7W5JRa-AtNeU82p1vPGI8oOWuQdQZASFD0c",j=Xs(sr,rr,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,storage:window.localStorage,storageKey:"uniquebrains-auth",flowType:"pkce"},db:{schema:"public"},global:{headers:{"x-application-name":"uniquebrains"}}});async function ir({email:r,password:s,firstName:i,lastName:a,role:o="parent"}){try{if(!r||!s||!i||!a)return{user:null,session:null,error:{message:"All fields are required"}};if(s.length<8)return{user:null,session:null,error:{message:"Password must be at least 8 characters long"}};if(!["instructor","parent","admin"].includes(o))return{user:null,session:null,error:{message:"Invalid role specified. Only parents and instructors can create accounts."}};const{data:t,error:l}=await j.auth.signUp({email:r,password:s,options:{data:{first_name:i,last_name:a,role:o},emailRedirectTo:`${window.location.origin}/auth/callback`}});if(l)return{user:null,session:null,error:l};if(t.user){const{error:u}=await j.from("profiles").insert({id:t.user.id,email:r,first_name:i,last_name:a,role:o});u&&u.code!=="23505"&&console.error("Error creating profile:",u)}return{user:t.user,session:t.session,error:null}}catch(n){return console.error("Sign up error:",n),{user:null,session:null,error:n}}}async function ar(r,s){try{if(!r||!s)return{user:null,session:null,profile:null,error:{message:"Email and password are required"}};const{data:i,error:a}=await j.auth.signInWithPassword({email:r,password:s});if(a)return{user:null,session:null,profile:null,error:a};const{data:o,error:n}=await j.from("profiles").select("*").eq("id",i.user.id).single();return n?(console.error("Error fetching profile:",n),{user:i.user,session:i.session,profile:null,error:{message:"Profile not found"}}):{user:i.user,session:i.session,profile:o,error:null}}catch(i){return console.error("Sign in error:",i),{user:null,session:null,profile:null,error:i}}}async function or(){try{const{error:r}=await j.auth.signOut();return{error:r}}catch(r){return console.error("Sign out error:",r),{error:r}}}async function nr(){try{const{data:{session:r},error:s}=await j.auth.getSession();return s?{session:null,user:null,error:s}:{session:r,user:(r==null?void 0:r.user)||null,error:null}}catch(r){return console.error("Get session error:",r),{session:null,user:null,error:r}}}async function es(){try{const{data:{user:r},error:s}=await j.auth.getUser();if(s||!r)return{profile:null,error:s||{message:"Not authenticated"}};const{data:i,error:a}=await j.from("profiles").select("*").eq("id",r.id).single();return a?{profile:null,error:a}:{profile:i,error:null}}catch(r){return console.error("Get profile error:",r),{profile:null,error:r}}}function lr(r){const{data:{subscription:s}}=j.auth.onAuthStateChange(r);return s}const ks=m.createContext(null);function tr({children:r}){const[s,i]=m.useState(null),[a,o]=m.useState(null),[n,t]=m.useState(null),[l,u]=m.useState([]),[h,d]=m.useState(null),[N,p]=m.useState(null),[f,b]=m.useState([]),[T,C]=m.useState(!0),S=async(D,y)=>{if(!D||!y)return[];const V=[];try{const{data:R,error:G}=await j.from("courses").select("id").eq("instructor_id",D).limit(1);G?console.error("Error checking courses:",G):R&&R.length>0&&V.push("teach");let Y=!1;const{data:me,error:U}=await j.from("enrollments").select("id").eq("student_id",D).limit(1);return U?console.error("Error checking enrollments:",U):me&&me.length>0&&(Y=!0),Y&&V.push("learn"),y.role==="instructor"&&!V.includes("teach")&&V.push("teach"),y.role==="student"&&!V.includes("learn")&&V.push("learn"),b(V),V}catch(R){console.error("Error detecting available portals:",R);const G=y.role==="instructor"?["teach"]:["learn"];return b(G),G}},x=()=>{const D=window.location.pathname;if(D.startsWith("/teach"))return"teach";if(D.startsWith("/learn"))return"learn";const y=localStorage.getItem("last_portal");return y==="teach"||y==="learn"?y:(a==null?void 0:a.role)==="instructor"?"teach":(a==null?void 0:a.role)==="student"?"learn":null},k=D=>{(D==="teach"||D==="learn")&&(p(D),localStorage.setItem("last_portal",D),D==="teach"?d(null):D==="learn"&&l.length>0&&!h&&d(l[0]))};m.useEffect(()=>{nr().then(({session:y,user:V})=>{y&&V?(t(y),i(V),es().then(async({profile:R})=>{if(R){o(R),await S(V.id,R);const G=x();p(G)}C(!1)})):C(!1)});const D=lr((y,V)=>{t(V),i((V==null?void 0:V.user)||null),V!=null&&V.user?es().then(async({profile:R})=>{if(R){o(R),await S(V.user.id,R);const G=x();p(G)}}):(o(null),u([]),d(null),b([]),p(null))});return()=>{D==null||D.unsubscribe()}},[]);const M=async(D,y)=>{const{user:V,session:R,profile:G,error:Y}=await ar(D,y);if(Y)return console.error("Login error:",Y),{error:Y};if(i(V),t(R),o(G),V&&G){await S(V.id,G);const me=x();p(me)}return{user:V,profile:G,error:null}},E=async D=>{const{user:y,session:V,error:R}=await ir(D);if(R)return console.error("Registration error:",R),{error:R};if(i(y),t(V),y){const{profile:G}=await es();if(o(G),G){await S(y.id,G);const Y=x();p(Y)}}return{user:y,error:null}},P=async D=>{if(console.log("‚ûï Adding student:",D),console.log("üë§ Current user:",s==null?void 0:s.id,"Role:",a==null?void 0:a.role),!s||(a==null?void 0:a.role)!=="parent")return console.error("‚ùå Only parents can add students"),{error:"Only parents can add students"};try{const y={parent_id:s.id,first_name:D.firstName,last_name:(a==null?void 0:a.last_name)||D.lastName||"Student",age:parseInt(D.age),date_of_birth:D.dateOfBirth||null,grade_level:D.gradeLevel||null,neurodiversity_profile:D.neurodiversityProfile||[],other_needs:D.otherNeeds||null,interests:D.interests||[],bio:D.bio||null};console.log("üìù Student record to insert:",y);const{data:V,error:R}=await j.from("students").insert([y]).select().single();if(console.log("üíæ Insert result:",{newStudent:V,error:R}),R)return console.error("‚ùå Error creating student:",R),{error:R.message};const G=[...l,V];return u(G),console.log("‚úÖ Students updated:",G.length),G.length===1&&(d(V),console.log("üéØ Set as active student:",V)),{student:V,error:null}}catch(y){return console.error("üí• Student creation error:",y),{error:y.message}}},I=async(D,y)=>{if(!s||(a==null?void 0:a.role)!=="parent")return console.error("Only parents can update students"),{error:"Only parents can update students"};try{const{data:V,error:R}=await j.from("students").update(y).eq("id",D).eq("parent_id",s.id).select().single();if(R)return console.error("Error updating student:",R),{error:R.message};const G=l.map(Y=>Y.id===D?V:Y);return u(G),(h==null?void 0:h.id)===D&&d(V),{student:V,error:null}}catch(V){return console.error("Student update error:",V),{error:V.message}}},W=async D=>{if(!s||(a==null?void 0:a.role)!=="parent")return console.error("Only parents can delete students"),{error:"Only parents can delete students"};try{const{error:y}=await j.from("students").delete().eq("id",D).eq("parent_id",s.id);if(y)return console.error("Error deleting student:",y),{error:y.message};const V=l.filter(R=>R.id!==D);if(u(V),(h==null?void 0:h.id)===D){const R=V[0]||null;d(R)}return{error:null}}catch(y){return console.error("Student deletion error:",y),{error:y.message}}},$=D=>{if(console.log("üîÑ switchStudent called with:",D),console.log("üìã Available students:",l),D===null)console.log("üë§ Switching to parent (activeStudent = null)"),d(null);else{const y=l.find(V=>V.id===D);console.log("üë∂ Found student:",y),y?(console.log("‚úÖ Setting active student:",y),d(y)):console.error("‚ùå Student not found with ID:",D)}},ee=async()=>{},w=async()=>{const{error:D}=await or();return D?(console.error("Logout error:",D),{error:D}):(i(null),t(null),o(null),u([]),d(null),p(null),b([]),{error:null})};return T?e.jsxDEV("div",{children:"Loading..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/context/AuthContext.jsx",lineNumber:438,columnNumber:12},this):e.jsxDEV(ks.Provider,{value:{user:s,profile:a,session:n,students:l,activeStudent:h,activePortal:N,availablePortals:f,loading:T,login:M,register:E,logout:w,addStudent:P,updateStudent:I,deleteStudent:W,switchStudent:$,refreshStudents:ee,detectAvailablePortals:S,getActivePortal:x,switchPortal:k},children:r},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/context/AuthContext.jsx",lineNumber:442,columnNumber:5},this)}function ae(){const r=m.useContext(ks);if(!r)throw new Error("useAuth must be used within AuthProvider");return r}function Ds({size:r="medium"}){const s={small:{height:50},medium:{height:80},large:{height:100}},{height:i}=s[r];return e.jsxDEV("div",{style:{display:"flex",alignItems:"center"},children:e.jsxDEV("img",{src:"/uniquebrains-logo.png.png",alt:"UniqueBrains",style:{height:`${i}px`,width:"auto",backgroundColor:"transparent"},onError:a=>{a.target.style.display="none",a.target.parentElement.innerHTML='<span style="font-size: 1.5rem; font-weight: 700; background: linear-gradient(135deg, #6366f1 0%, #ec4899 50%, #f59e0b 100%); -webkit-background-clip: text; -webkit-text-fill-color: transparent; background-clip: text;">UniqueBrains</span>'}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Logo.jsx",lineNumber:12,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Logo.jsx",lineNumber:11,columnNumber:5},this)}function ts({currentPortal:r,availablePortals:s,compact:i=!1}){if(!s||s.length<2)return null;const a=r==="teach"?"learn":"teach",o=a==="teach"?"Teaching Portal":"Learning Portal",n=a==="teach"?"üë®‚Äçüè´":"üìö",t=l=>{l.preventDefault(),window.location.href=`/${a}/dashboard`};return i?e.jsxDEV("div",{className:"portal-switcher compact",children:e.jsxDEV("a",{href:`/${a}/dashboard`,onClick:t,className:"portal-switch-link",children:["Switch to ",o," ",n]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/PortalSwitcher.jsx",lineNumber:25,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/PortalSwitcher.jsx",lineNumber:24,columnNumber:7},this):e.jsxDEV("div",{className:"portal-switcher",children:[e.jsxDEV("span",{className:"portal-switcher-label",children:["Currently in ",r==="teach"?"Teaching":"Learning"," Portal"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/PortalSwitcher.jsx",lineNumber:35,columnNumber:7},this),e.jsxDEV("a",{href:`/${a}/dashboard`,onClick:t,className:"portal-switch-link",children:[e.jsxDEV("span",{className:"portal-switch-icon",children:n},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/PortalSwitcher.jsx",lineNumber:37,columnNumber:9},this),e.jsxDEV("span",{children:["Switch to ",o]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/PortalSwitcher.jsx",lineNumber:38,columnNumber:9},this),e.jsxDEV("span",{className:"portal-switch-arrow",children:"‚Üí"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/PortalSwitcher.jsx",lineNumber:39,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/PortalSwitcher.jsx",lineNumber:36,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/PortalSwitcher.jsx",lineNumber:34,columnNumber:5},this)}function cr(){const{user:r,profile:s,students:i,activeStudent:a,activePortal:o,availablePortals:n,switchStudent:t,logout:l}=ae(),u=be(),[h,d]=m.useState(!1),[N,p]=m.useState(!1),f=()=>{l(),u("/login"),d(!1)},b=()=>{d(!1)};return e.jsxDEV("div",{className:"layout",children:[e.jsxDEV("header",{className:"header",children:e.jsxDEV("div",{className:"header-content",children:[e.jsxDEV(K,{to:"/",className:"logo",onClick:b,children:e.jsxDEV(Ds,{size:"medium"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:35,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:34,columnNumber:11},this),e.jsxDEV("button",{className:"mobile-menu-toggle",onClick:()=>d(!h),"aria-label":"Toggle menu",children:h?"‚úï":"‚ò∞"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:38,columnNumber:11},this),e.jsxDEV("nav",{className:`nav ${h?"nav-open":""}`,children:[e.jsxDEV(K,{to:"/marketplace",className:"nav-link",onClick:b,children:"Marketplace"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:47,columnNumber:13},this),r&&e.jsxDEV(e.Fragment,{children:[o==="teach"&&e.jsxDEV(e.Fragment,{children:e.jsxDEV(K,{to:"/teach/dashboard",className:"nav-link",onClick:b,children:"Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:54,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:53,columnNumber:19},this),o==="learn"&&e.jsxDEV(e.Fragment,{children:e.jsxDEV(K,{to:"/learn/dashboard",className:"nav-link",onClick:b,children:"My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:60,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:59,columnNumber:19},this),!o&&(s==null?void 0:s.role)==="student"&&e.jsxDEV(e.Fragment,{children:e.jsxDEV(K,{to:"/learn/dashboard",className:"nav-link",onClick:b,children:"My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:67,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:66,columnNumber:19},this),!o&&(s==null?void 0:s.role)==="instructor"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV(K,{to:"/teach/dashboard",className:"nav-link",onClick:b,children:"Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:73,columnNumber:21},this),e.jsxDEV(K,{to:"/teach/create-course",className:"nav-link",onClick:b,children:"Create Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:74,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:72,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:50,columnNumber:15},this),e.jsxDEV("div",{className:"mobile-header-actions",children:r?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"mobile-user-info",children:[e.jsxDEV("span",{className:"user-name",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:84,columnNumber:21},this),e.jsxDEV("span",{className:"user-role",children:["(",s==null?void 0:s.role,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:85,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:83,columnNumber:19},this),e.jsxDEV(K,{to:"/profile",className:"btn-secondary",onClick:b,children:"Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:87,columnNumber:19},this),e.jsxDEV("button",{onClick:f,className:"btn-secondary",children:"Logout"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:88,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:82,columnNumber:17},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(K,{to:"/login",className:"btn-secondary",onClick:b,children:"Login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:92,columnNumber:19},this),e.jsxDEV(K,{to:"/register",className:"btn-primary",onClick:b,children:"Sign Up"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:93,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:91,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:80,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:46,columnNumber:11},this),e.jsxDEV("div",{className:"desktop-header-actions",children:r?e.jsxDEV("div",{className:"user-menu",children:[e.jsxDEV("span",{className:"user-name",children:[s==null?void 0:s.first_name," ",s==null?void 0:s.last_name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:102,columnNumber:17},this),e.jsxDEV(K,{to:"/profile",className:"btn-secondary",children:"Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:103,columnNumber:17},this),e.jsxDEV("button",{onClick:f,className:"btn-secondary",children:"Logout"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:104,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:101,columnNumber:15},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV(K,{to:"/login",className:"btn-secondary",children:"Login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:108,columnNumber:17},this),e.jsxDEV(K,{to:"/register",className:"btn-primary",children:"Sign Up"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:109,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:107,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:33,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:32,columnNumber:7},this),e.jsxDEV("main",{className:"main-content",children:e.jsxDEV(zs,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:117,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:116,columnNumber:7},this),e.jsxDEV("footer",{className:"footer",children:e.jsxDEV("div",{className:"footer-content",children:[r&&n&&n.length>1&&e.jsxDEV("div",{className:"footer-portal-switcher",children:e.jsxDEV(ts,{currentPortal:o,availablePortals:n,compact:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:125,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:124,columnNumber:13},this),e.jsxDEV("p",{children:"¬© 2025 UniqueBrains. Where every brain learns differently."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:133,columnNumber:11},this),e.jsxDEV("div",{className:"footer-links",children:[e.jsxDEV(K,{to:"/privacy-policy",className:"footer-link",children:"Privacy Policy"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:135,columnNumber:13},this),e.jsxDEV("span",{className:"footer-separator",children:"‚Ä¢"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:136,columnNumber:13},this),e.jsxDEV(K,{to:"/terms-of-service",className:"footer-link",children:"Terms of Service"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:137,columnNumber:13},this),e.jsxDEV("span",{className:"footer-separator",children:"‚Ä¢"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:138,columnNumber:13},this),e.jsxDEV("a",{href:"mailto:hello@uniquebrains.org",className:"footer-link",children:"Contact Us"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:139,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:134,columnNumber:11},this),e.jsxDEV("div",{className:"footer-social",children:e.jsxDEV("a",{href:"https://www.instagram.com/ouruniquebrains",target:"_blank",rel:"noopener noreferrer",className:"social-link instagram-link","aria-label":"Follow us on Instagram",children:[e.jsxDEV("svg",{width:"24",height:"24",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",className:"instagram-icon",children:[e.jsxDEV("defs",{children:e.jsxDEV("linearGradient",{id:"instagram-gradient",x1:"0%",y1:"100%",x2:"100%",y2:"0%",children:[e.jsxDEV("stop",{offset:"0%",style:{stopColor:"#FED373",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:158,columnNumber:21},this),e.jsxDEV("stop",{offset:"15%",style:{stopColor:"#F15245",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:159,columnNumber:21},this),e.jsxDEV("stop",{offset:"35%",style:{stopColor:"#D92E7F",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:160,columnNumber:21},this),e.jsxDEV("stop",{offset:"65%",style:{stopColor:"#9B36B7",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:161,columnNumber:21},this),e.jsxDEV("stop",{offset:"100%",style:{stopColor:"#515ECF",stopOpacity:1}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:162,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:157,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:156,columnNumber:17},this),e.jsxDEV("path",{fill:"url(#instagram-gradient)",d:"M12 2.163c3.204 0 3.584.012 4.85.07 3.252.148 4.771 1.691 4.919 4.919.058 1.265.069 1.645.069 4.849 0 3.205-.012 3.584-.069 4.849-.149 3.225-1.664 4.771-4.919 4.919-1.266.058-1.644.07-4.85.07-3.204 0-3.584-.012-4.849-.07-3.26-.149-4.771-1.699-4.919-4.92-.058-1.265-.07-1.644-.07-4.849 0-3.204.013-3.583.07-4.849.149-3.227 1.664-4.771 4.919-4.919 1.266-.057 1.645-.069 4.849-.069zm0-2.163c-3.259 0-3.667.014-4.947.072-4.358.2-6.78 2.618-6.98 6.98-.059 1.281-.073 1.689-.073 4.948 0 3.259.014 3.668.072 4.948.2 4.358 2.618 6.78 6.98 6.98 1.281.058 1.689.072 4.948.072 3.259 0 3.668-.014 4.948-.072 4.354-.2 6.782-2.618 6.979-6.98.059-1.28.073-1.689.073-4.948 0-3.259-.014-3.667-.072-4.947-.196-4.354-2.617-6.78-6.979-6.98-1.281-.059-1.69-.073-4.949-.073zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.163 6.162 6.163 6.162-2.759 6.162-6.163c0-3.403-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.79-4-4 0-2.209 1.791-4 4-4s4 1.791 4 4c0 2.21-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.44s.645 1.44 1.441 1.44c.795 0 1.439-.645 1.439-1.44s-.644-1.44-1.439-1.44z"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:165,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:149,columnNumber:15},this),"Follow us on Instagram"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:142,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:141,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:121,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:120,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/Layout.jsx",lineNumber:31,columnNumber:5},this)}function ur(){const{pathname:r}=Ss();return m.useEffect(()=>{window.scrollTo(0,0)},[r]),null}function mr(){const{user:r}=ae(),[s,i]=m.useState("https://www.gofundme.com/f/help-me-support-autism-awareness-and-families-with-genai");return m.useEffect(()=>{(async()=>{try{const o=Intl.DateTimeFormat().resolvedOptions().timeZone;if(o.includes("Asia/Kolkata")||o.includes("Asia/Calcutta"))i("https://milaap.org/fundraisers/support-autistic-kids-1");else try{(await(await fetch("https://ipapi.co/json/")).json()).country_code==="IN"&&i("https://milaap.org/fundraisers/support-autistic-kids-1")}catch{console.log("Geolocation detection failed, using default link")}}catch{console.log("Country detection failed, using default link")}})()},[]),e.jsxDEV("div",{className:"landing-page",children:[e.jsxDEV("section",{className:"hero",children:e.jsxDEV("div",{className:"hero-content",children:[e.jsxDEV("h1",{className:"hero-title",children:e.jsxDEV("span",{className:"gradient-text",children:"UniqueBrains"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:46,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:45,columnNumber:11},this),e.jsxDEV("p",{className:"hero-tagline",children:"Where every brain learns differently"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:48,columnNumber:11},this),e.jsxDEV("p",{className:"hero-description",children:"A free learning marketplace connecting neurodivergent children with specialized instructors who understand and celebrate their unique learning styles."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:49,columnNumber:11},this),e.jsxDEV("div",{className:"hero-actions",children:[e.jsxDEV(K,{to:"/marketplace",className:"btn-primary-large",children:"Explore Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:54,columnNumber:13},this),e.jsxDEV(K,{to:r?"/teach/create-course":"/register?role=instructor",className:"btn-primary-large",children:"Start Teaching"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:57,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:53,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:44,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:43,columnNumber:7},this),e.jsxDEV("section",{className:"mission",children:e.jsxDEV("div",{className:"mission-content",children:[e.jsxDEV("h2",{children:"Our Mission"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:69,columnNumber:11},this),e.jsxDEV("p",{children:["UniqueBrains is a ",e.jsxDEV("strong",{children:"100% free platform"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:71,columnNumber:31},this)," dedicated to making quality education accessible to neurodivergent children. We believe that every child deserves to learn in a way that honors their unique brain, without financial barriers."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:70,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:68,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:67,columnNumber:7},this),e.jsxDEV("section",{className:"features",children:[e.jsxDEV("h2",{children:"What Makes Us Different"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:79,columnNumber:9},this),e.jsxDEV("div",{className:"features-grid",children:[e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üß©"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:82,columnNumber:13},this),e.jsxDEV("h3",{children:"Neurodiversity-First Design"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:83,columnNumber:13},this),e.jsxDEV("p",{children:"Built from the ground up with neurodivergent learners in mind. Clear interfaces, consistent patterns, and supportive guidance at every step."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:84,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:81,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:91,columnNumber:13},this),e.jsxDEV("h3",{children:"Specialized Instructors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:92,columnNumber:13},this),e.jsxDEV("p",{children:"Connect with educators trained in neurodiversity-affirming practices who understand ADHD, Autism, Dyslexia, and other learning differences."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:93,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:90,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üé®"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:100,columnNumber:13},this),e.jsxDEV("h3",{children:"Diverse Learning Paths"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:101,columnNumber:13},this),e.jsxDEV("p",{children:"From music and art to coding and science, explore courses designed for different learning styles and interests."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:102,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:99,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üíù"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:109,columnNumber:13},this),e.jsxDEV("h3",{children:"Always Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:110,columnNumber:13},this),e.jsxDEV("p",{children:"No subscriptions, no hidden fees. Quality education for neurodivergent children should never be behind a paywall."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:111,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:108,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"ü§ù"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:118,columnNumber:13},this),e.jsxDEV("h3",{children:"Flexible Scheduling"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:119,columnNumber:13},this),e.jsxDEV("p",{children:"Choose between group classes or one-on-one sessions. Learn at your own pace, on your own schedule."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:117,columnNumber:11},this),e.jsxDEV("div",{className:"feature-card",children:[e.jsxDEV("div",{className:"feature-icon",children:"üåü"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:127,columnNumber:13},this),e.jsxDEV("h3",{children:"Celebrate Differences"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:128,columnNumber:13},this),e.jsxDEV("p",{children:`We don't try to "fix" anyone. We celebrate neurodiversity and help every child discover their unique strengths.`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:129,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:126,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:80,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:78,columnNumber:7},this),e.jsxDEV("section",{className:"support-section",children:e.jsxDEV("div",{className:"support-content",children:[e.jsxDEV("h2",{children:"Help Us Keep UniqueBrains Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:139,columnNumber:11},this),e.jsxDEV("p",{children:"Running a platform takes resources‚Äîservers, development, and support. Your donation helps us:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:140,columnNumber:11},this),e.jsxDEV("ul",{className:"support-list",children:[e.jsxDEV("li",{children:"‚úÖ Keep the platform 100% free for all families"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:144,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Add new features and courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:145,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Support instructors who volunteer their time"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:146,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Maintain and improve our technology"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:147,columnNumber:13},this),e.jsxDEV("li",{children:"‚úÖ Reach more neurodivergent children worldwide"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:148,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:143,columnNumber:11},this),e.jsxDEV("div",{className:"support-actions",children:[e.jsxDEV("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"btn-donate",children:"Donate Now ‚ù§Ô∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:151,columnNumber:13},this),e.jsxDEV(K,{to:"/register?role=instructor",className:"btn-volunteer",children:"Volunteer as Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:159,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:150,columnNumber:11},this),e.jsxDEV("p",{className:"support-note",children:"Every contribution, no matter how small, makes a difference in a child's learning journey."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:166,columnNumber:11},this),e.jsxDEV("p",{className:"volunteer-note",children:[e.jsxDEV("strong",{children:"Are you an instructor?"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:170,columnNumber:13},this)," Share your expertise and make a difference! We're looking for passionate educators to volunteer their time teaching neurodivergent children."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:169,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:138,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:137,columnNumber:7},this),e.jsxDEV("section",{className:"cta-section",children:e.jsxDEV("div",{className:"cta-content",children:[e.jsxDEV("h2",{children:"Ready to Start Learning?"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:178,columnNumber:11},this),e.jsxDEV("p",{children:"Join our community of unique learners and supportive instructors today."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:179,columnNumber:11},this),e.jsxDEV("div",{className:"cta-actions",children:[e.jsxDEV(K,{to:"/register",className:"btn-primary-large",children:"Sign Up Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:181,columnNumber:13},this),e.jsxDEV(K,{to:"/marketplace",className:"btn-secondary-large",children:"Browse Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:184,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:180,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:177,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:176,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/LandingPage.jsx",lineNumber:42,columnNumber:5},this)}function Ts({provider:r,children:s,className:i=""}){const a=async()=>{try{const o={redirectTo:`${window.location.origin}/auth/callback`,queryParams:{access_type:"offline",prompt:"consent"}};r==="google"&&(o.scopes="email profile");const{data:n,error:t}=await j.auth.signInWithOAuth({provider:r,options:o});if(t)throw t}catch(o){console.error(`OAuth ${r} error:`,o),alert(`Failed to sign in with ${r}: ${o.message}`)}};return e.jsxDEV("button",{onClick:a,className:`oauth-button oauth-button-${r} ${i}`,type:"button",children:s},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/OAuthButton.jsx",lineNumber:44,columnNumber:5},this)}function dr(){const[r,s]=m.useState(""),[i,a]=m.useState(""),[o,n]=m.useState(""),{login:t}=ae(),l=be(),u=async h=>{h.preventDefault(),n("");try{const d=await t(r,i);d.error?d.error.message&&d.error.message.includes("Email not confirmed")?n("Please verify your email address. Check your inbox for the confirmation link."):n(d.error.message||"Invalid credentials"):d.profile&&(d.profile.role==="instructor"?l("/teach/dashboard"):d.profile.role==="student"?l("/learn/dashboard"):l("/marketplace"))}catch(d){d.message&&d.message.includes("Email not confirmed")?n("Please verify your email address. Check your inbox for the confirmation link."):n("Invalid credentials")}};return e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:[e.jsxDEV("div",{className:"auth-logo",children:e.jsxDEV(Ds,{size:"medium"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:52,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:51,columnNumber:9},this),e.jsxDEV("h2",{children:"Welcome Back"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:54,columnNumber:9},this),e.jsxDEV("p",{className:"auth-subtitle",children:"Sign in to continue your learning journey"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:55,columnNumber:9},this),o&&e.jsxDEV("div",{className:"error-message",children:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:57,columnNumber:19},this),e.jsxDEV("div",{className:"oauth-section",children:e.jsxDEV(Ts,{provider:"google",children:"Continue with Google"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:60,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:59,columnNumber:9},this),e.jsxDEV("div",{className:"divider",children:e.jsxDEV("span",{children:"or"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:65,columnNumber:9},this),e.jsxDEV("form",{onSubmit:u,className:"auth-form",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"email",children:"Email"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:71,columnNumber:13},this),e.jsxDEV("input",{id:"email",type:"email",value:r,onChange:h=>s(h.target.value),required:!0,placeholder:"your@email.com"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:72,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:70,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:83,columnNumber:13},this),e.jsxDEV("input",{id:"password",type:"password",value:i,onChange:h=>a(h.target.value),required:!0,placeholder:"‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:84,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:82,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn-primary btn-full",children:"Sign In"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:94,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:69,columnNumber:9},this),e.jsxDEV("p",{className:"auth-footer",children:["Don't have an account? ",e.jsxDEV(K,{to:"/register",children:"Sign up"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:100,columnNumber:34},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:50,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Login.jsx",lineNumber:49,columnNumber:5},this)}function Nr(){const[r]=ls(),s=r.get("role"),[i,a]=m.useState(s==="instructor"?"instructor":"student"),[o,n]=m.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",role:s==="instructor"?"instructor":"student"}),[t,l]=m.useState(""),[u,h]=m.useState(!1),{register:d}=ae();be(),m.useEffect(()=>{n(f=>({...f,role:i}))},[i]);const N=f=>{n({...o,[f.target.name]:f.target.value})},p=async f=>{if(f.preventDefault(),l(""),o.password!==o.confirmPassword){l("Passwords do not match");return}const b={...o,role:i};try{const T=await d(b);T.error?l("Registration failed: "+T.error.message):h(!0)}catch{l("Registration failed")}};return u?e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:e.jsxDEV("div",{className:"success-message-container",children:[e.jsxDEV("div",{className:"success-icon",children:"‚úÖ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:67,columnNumber:13},this),e.jsxDEV("h2",{children:"Check Your Email!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:68,columnNumber:13},this),e.jsxDEV("p",{className:"success-message",children:["We've sent a confirmation email to ",e.jsxDEV("strong",{children:o.email},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:70,columnNumber:50},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:69,columnNumber:13},this),e.jsxDEV("p",{className:"success-instructions",children:"Please click the link in the email to verify your account. Once verified, you can log in and complete your profile setup!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:72,columnNumber:13},this),e.jsxDEV("div",{className:"success-actions",children:e.jsxDEV(K,{to:"/login",className:"btn-primary",children:"Go to Login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:77,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:76,columnNumber:13},this),e.jsxDEV("p",{className:"success-note",children:["Didn't receive the email? Check your spam folder or"," ",e.jsxDEV("a",{href:"#",onClick:f=>{f.preventDefault(),h(!1)},children:"try again"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:83,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:81,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:66,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:65,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:64,columnNumber:7},this):e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:[e.jsxDEV("h2",{children:"Create Your Account"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:96,columnNumber:9},this),e.jsxDEV("p",{className:"auth-subtitle",children:"Join UniqueBrains and start your journey"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:97,columnNumber:9},this),t&&e.jsxDEV("div",{className:"error-message",children:t},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:101,columnNumber:19},this),e.jsxDEV("div",{className:"role-selection",children:[e.jsxDEV("p",{className:"role-label",children:"I want to sign up as:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:104,columnNumber:13},this),e.jsxDEV("div",{className:"role-cards",children:[e.jsxDEV("div",{className:`role-card ${i==="student"?"selected":""}`,onClick:()=>a("student"),children:[e.jsxDEV("div",{className:"role-icon",children:"üéì"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:110,columnNumber:17},this),e.jsxDEV("h3",{children:"Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:111,columnNumber:17},this),e.jsxDEV("p",{children:"Enroll in courses and learn"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:112,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:106,columnNumber:15},this),e.jsxDEV("div",{className:`role-card ${i==="instructor"?"selected":""}`,onClick:()=>a("instructor"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:118,columnNumber:17},this),e.jsxDEV("h3",{children:"Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:119,columnNumber:17},this),e.jsxDEV("p",{children:"Teach and inspire"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:120,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:114,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:105,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:103,columnNumber:9},this),e.jsxDEV("div",{className:"oauth-section",children:[e.jsxDEV("button",{type:"button",className:"oauth-button oauth-button-google",onClick:()=>{console.log("üîç Storing OAuth role preference:",i),localStorage.setItem("oauth_role_preference",i),document.querySelector(".oauth-button-google-hidden").click()},children:[e.jsxDEV("svg",{width:"18",height:"18",viewBox:"0 0 18 18",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[e.jsxDEV("path",{d:"M17.64 9.2c0-.637-.057-1.251-.164-1.84H9v3.481h4.844c-.209 1.125-.843 2.078-1.796 2.717v2.258h2.908c1.702-1.567 2.684-3.874 2.684-6.615z",fill:"#4285F4"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:138,columnNumber:19},this),e.jsxDEV("path",{d:"M9.003 18c2.43 0 4.467-.806 5.956-2.18L12.05 13.56c-.806.54-1.836.86-3.047.86-2.344 0-4.328-1.584-5.036-3.711H.96v2.332C2.44 15.983 5.485 18 9.003 18z",fill:"#34A853"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:139,columnNumber:19},this),e.jsxDEV("path",{d:"M3.964 10.712c-.18-.54-.282-1.117-.282-1.71 0-.593.102-1.17.282-1.71V4.96H.957C.347 6.175 0 7.55 0 9.002c0 1.452.348 2.827.957 4.042l3.007-2.332z",fill:"#FBBC05"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:140,columnNumber:19},this),e.jsxDEV("path",{d:"M9.003 3.58c1.321 0 2.508.454 3.44 1.345l2.582-2.58C13.464.891 11.426 0 9.003 0 5.485 0 2.44 2.017.96 4.958L3.967 7.29c.708-2.127 2.692-3.71 5.036-3.71z",fill:"#EA4335"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:141,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:137,columnNumber:17},this),"Sign up with Google as ",i==="instructor"?"Instructor":"Student"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:126,columnNumber:15},this),e.jsxDEV("div",{style:{display:"none"},children:e.jsxDEV(Ts,{provider:"google",className:"oauth-button-google-hidden",children:"Hidden"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:148,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:147,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:125,columnNumber:9},this),e.jsxDEV("div",{className:"divider",children:e.jsxDEV("span",{children:"or"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:155,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:154,columnNumber:9},this),e.jsxDEV("form",{onSubmit:p,className:"auth-form",children:[e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"firstName",children:"First Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:161,columnNumber:15},this),e.jsxDEV("input",{id:"firstName",name:"firstName",type:"text",value:o.firstName,onChange:N,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:160,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"lastName",children:"Last Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:173,columnNumber:15},this),e.jsxDEV("input",{id:"lastName",name:"lastName",type:"text",value:o.lastName,onChange:N,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:174,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:159,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"email",children:"Email"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:186,columnNumber:13},this),e.jsxDEV("input",{id:"email",name:"email",type:"email",value:o.email,onChange:N,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:187,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:185,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"password",children:"Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:198,columnNumber:13},this),e.jsxDEV("input",{id:"password",name:"password",type:"password",value:o.password,onChange:N,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:199,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:197,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"confirmPassword",children:"Confirm Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:210,columnNumber:13},this),e.jsxDEV("input",{id:"confirmPassword",name:"confirmPassword",type:"password",value:o.confirmPassword,onChange:N,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:211,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:209,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn-primary btn-full",children:"Create Account"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:221,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:158,columnNumber:9},this),e.jsxDEV("p",{className:"auth-footer",children:["Already have an account? ",e.jsxDEV(K,{to:"/login",children:"Sign in"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:227,columnNumber:36},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:226,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:95,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Register.jsx",lineNumber:94,columnNumber:5},this)}function gr({rating:r,onRate:s,size:i="medium"}){const a=[1,2,3,4,5];return e.jsxDEV("div",{className:`star-rating ${i}`,children:a.map(o=>e.jsxDEV("span",{className:`star ${o<=r?"filled":""} ${s?"interactive":""}`,onClick:()=>s&&s(o),children:"‚òÖ"},o,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/StarRating.jsx",lineNumber:9,columnNumber:9},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/StarRating.jsx",lineNumber:7,columnNumber:5},this)}function hr(r){const s={"performing-arts":["#f093fb","#f5576c"],"visual-arts":["#fa709a","#fee140"],parenting:["#667eea","#764ba2"],academics:["#4facfe","#00f2fe"],language:["#ff6b6b","#feca57"],spirituality:["#43e97b","#38f9d7"],lifeskills:["#feca57","#ff6b6b"],default:["#667eea","#764ba2"]},i=s[r]||s.default;return{gradient:i,style:{background:`linear-gradient(135deg, ${i[0]} 0%, ${i[1]} 100%)`,display:"flex",alignItems:"center",justifyContent:"center",color:"white"}}}function fr(r){const s={"performing-arts":"üé≠","visual-arts":"üé®",parenting:"üë®‚Äçüë©‚Äçüëß‚Äçüë¶",academics:"üìö",language:"üåç",spirituality:"üßò",lifeskills:"üê∑",default:"üìö"};return s[r]||s.default}function jr({course:r}){const s=r.enrollmentLimit&&r.currentEnrollment>=r.enrollmentLimit,i=r.enrollmentLimit?r.enrollmentLimit-r.currentEnrollment:null,a=hr(r.category),o=fr(r.category);return e.jsxDEV(K,{to:`/courses/${r.id}`,className:"course-card",children:[e.jsxDEV("div",{className:"course-image",children:[e.jsxDEV("div",{className:"generated-image",style:a.style,children:e.jsxDEV("div",{className:"category-icon-large",children:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:16,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:15,columnNumber:9},this),r.price===0&&e.jsxDEV("span",{className:"free-badge",children:"Free"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:18,columnNumber:32},this),s&&e.jsxDEV("span",{className:"full-badge",children:"Class Full"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:19,columnNumber:20},this),!s&&i!==null&&i<=3&&i>0&&e.jsxDEV("span",{className:"spots-badge",children:[i," spots left"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:21,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:14,columnNumber:7},this),e.jsxDEV("div",{className:"course-content",children:[e.jsxDEV("div",{className:"course-category",children:r.category},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:26,columnNumber:9},this),e.jsxDEV("h3",{className:"course-title",children:r.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:27,columnNumber:9},this),e.jsxDEV("p",{className:"course-description",children:r.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:28,columnNumber:9},this),e.jsxDEV("div",{className:"course-instructor",children:e.jsxDEV("span",{children:["By ",r.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:31,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:30,columnNumber:9},this),e.jsxDEV("div",{className:"course-footer",children:[e.jsxDEV("div",{className:"course-rating",children:[e.jsxDEV(gr,{rating:r.averageRating},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:36,columnNumber:13},this),e.jsxDEV("span",{className:"rating-count",children:["(",r.totalRatings,")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:37,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:35,columnNumber:11},this),e.jsxDEV("div",{className:"course-price",children:r.price===0?"Free":`$${r.price}`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:40,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:34,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:25,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/CourseCard.jsx",lineNumber:13,columnNumber:5},this)}async function br(r,s){var a;if(!s)throw new Error("Authentication required to create a course");const i=["title","description","category","courseType"];for(const o of i)if(!r[o])throw new Error(`${o} is required`);try{const o={title:r.title.trim(),description:r.description.trim(),category:r.category,course_type:r.courseType,price:0,session_duration:r.sessionDuration?parseInt(r.sessionDuration):null,enrollment_limit:r.enrollmentLimit?parseInt(r.enrollmentLimit):null,is_self_paced:r.isSelfPaced||!1,instructor_id:s.id,status:"published",is_published:!0,start_date:r.startDate||null,end_date:r.endDate||null,has_end_date:r.hasEndDate||!1,session_time:r.sessionTime||null,selected_days:r.selectedDays||null,frequency:r.frequency||"weekly"},{data:n,error:t}=await j.from("courses").insert([o]).select().single();if(t)throw console.error("Course creation error:",t),new Error(`Failed to create course: ${t.message}`);let l=[];return r.courseType==="group"&&!r.isSelfPaced&&r.startDate&&((a=r.selectedDays)==null?void 0:a.length)>0&&(l=await pr(n.id,r)),{course:n,sessions:l,message:"Course created and published successfully! Students can now enroll."}}catch(o){throw console.error("Error in createCourse:",o),o}}async function pr(r,s){const i=[],a=new Date(s.startDate),o=s.hasEndDate&&s.endDate,n=o?new Date(s.endDate):null,t=o?1e3:5;let l=new Date(a),u=1,h=0;for(;h<t&&(!n||l<=n);){const d=l.toLocaleDateString("en-US",{weekday:"long"});if(s.selectedDays.includes(d)){const N=new Date(l),[p,f]=s.sessionTime.split(":");N.setHours(parseInt(p),parseInt(f),0,0),i.push({course_id:r,title:`Topic ${u}`,description:"",session_date:N.toISOString(),duration_minutes:parseInt(s.sessionDuration),meeting_link:s.meetingLink||"",status:"scheduled"}),u++,h++}l.setDate(l.getDate()+1)}if(i.length>0){const{data:d,error:N}=await j.from("sessions").insert(i).select();return N?(console.error("Error creating sessions:",N),[]):(console.log(`Created ${d.length} sessions for course ${r}`),d)}return[]}async function Er(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:i}=await j.from("courses").select(`
        *,
        enrollments(count),
        sessions(count)
      `).eq("instructor_id",r).order("created_at",{ascending:!1});if(i)throw console.error("Error fetching instructor courses:",i),new Error(`Failed to fetch courses: ${i.message}`);return s||[]}catch(s){throw console.error("Error in getInstructorCourses:",s),s}}async function yr(){try{const{data:r,error:s}=await j.from("courses").select(`
        *,
        profiles!instructor_id(id, first_name, last_name, avatar_url),
        enrollments(count),
        sessions(count)
      `).eq("status","published").eq("is_published",!0).order("created_at",{ascending:!1});if(s)throw console.error("Error fetching published courses:",s),new Error(`Failed to fetch courses: ${s.message}`);return(r||[]).map(a=>{var o,n,t,l;return{...a,instructorName:a.profiles?`${a.profiles.first_name} ${a.profiles.last_name}`.trim():"Unknown Instructor",currentEnrollment:((n=(o=a.enrollments)==null?void 0:o[0])==null?void 0:n.count)||0,totalSessions:((l=(t=a.sessions)==null?void 0:t[0])==null?void 0:l.count)||0,averageRating:a.average_rating||0,totalRatings:a.total_ratings||0,sessionFrequency:a.frequency||"weekly"}})}catch(r){throw console.error("Error in getAllPublishedCourses:",r),r}}async function xr(r){var s,i,a,o;if(!r)throw new Error("Course ID is required");try{const{data:n,error:t}=await j.from("courses").select(`
        *,
        profiles!instructor_id(id, first_name, last_name, avatar_url, bio),
        enrollments(count),
        sessions(*)
      `).eq("id",r).single();if(t)throw console.error("Error fetching course:",t),new Error(`Failed to fetch course: ${t.message}`);return{...n,instructorName:n.profiles?`${n.profiles.first_name} ${n.profiles.last_name}`.trim():"Unknown Instructor",instructorBio:((s=n.profiles)==null?void 0:s.bio)||"",currentEnrollment:((a=(i=n.enrollments)==null?void 0:i[0])==null?void 0:a.count)||0,totalSessions:((o=n.sessions)==null?void 0:o.length)||0,averageRating:n.average_rating||0,totalRatings:n.total_ratings||0,sessionFrequency:n.frequency||"weekly",selectedDays:n.selected_days||[],dayTimes:n.session_time?[n.session_time]:[],isSelfPaced:n.is_self_paced||!1,sessionDuration:n.session_duration||60,enrollmentLimit:n.enrollment_limit||null,price:n.price||0}}catch(n){throw console.error("Error in getCourseById:",n),n}}async function cs(r,s,i){if(!r||!i)throw new Error("Course ID and instructor ID are required");try{const{data:a,error:o}=await j.from("courses").select("instructor_id").eq("id",r).single();if(o)throw new Error(`Course not found: ${o.message}`);if(a.instructor_id!==i)throw new Error("Unauthorized: You can only update your own courses");const n={...s,updated_at:new Date().toISOString()},{data:t,error:l}=await j.from("courses").update(n).eq("id",r).select().single();if(l)throw console.error("Error updating course:",l),new Error(`Failed to update course: ${l.message}`);return t}catch(a){throw console.error("Error in updateCourse:",a),a}}async function vr(r,s){return cs(r,{is_published:!0,status:"published"},s)}async function Sr(r,s){return cs(r,{is_published:!1,status:"draft"},s)}async function Cr(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:i,error:a}=await j.from("courses").select("instructor_id, title").eq("id",r).single();if(a)throw new Error(`Course not found: ${a.message}`);if(i.instructor_id!==s)throw new Error("Unauthorized: You can only delete your own courses");const{data:o,error:n}=await j.from("enrollments").select("id").eq("course_id",r).limit(1);if(n&&console.error("Error checking enrollments:",n),o&&o.length>0)throw new Error("Cannot delete course with active enrollments. Please contact students first.");const{error:t}=await j.from("courses").delete().eq("id",r);if(t)throw console.error("Error deleting course:",t),new Error(`Failed to delete course: ${t.message}`);return!0}catch(i){throw console.error("Error in deleteCourse:",i),i}}async function kr(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:i}=await j.from("courses").select("id, status, is_published").eq("instructor_id",r);if(i)throw new Error(`Failed to fetch course stats: ${i.message}`);const{data:a,error:o}=await j.from("enrollments").select("course_id").in("course_id",s.map(t=>t.id));return o&&console.error("Error fetching enrollment stats:",o),{totalCourses:s.length,publishedCourses:s.filter(t=>t.is_published).length,draftCourses:s.filter(t=>!t.is_published).length,totalEnrollments:a?a.length:0}}catch(s){throw console.error("Error in getCourseStats:",s),s}}async function Dr(r,s){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await Pr(r,s))throw new Error("Unauthorized: You do not have access to this course");const{data:a,error:o}=await j.from("sessions").select("*").eq("course_id",r).order("session_date",{ascending:!0});if(o)throw console.error("Error fetching sessions:",o),new Error(`Failed to fetch sessions: ${o.message}`);return a||[]}catch(i){throw console.error("Error in getCourseSessions:",i),i}}async function Tr(r,s,i){if(!r||!i)throw new Error("Session ID and instructor ID are required");try{const{data:a,error:o}=await j.from("sessions").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(o)throw new Error(`Session not found: ${o.message}`);if(a.courses.instructor_id!==i)throw new Error("Unauthorized: You can only update sessions for your own courses");if(s.meeting_link&&!us(s.meeting_link))throw new Error("Invalid meeting link URL");const n={meeting_link:s.meeting_link||"",meeting_password:s.meeting_password||"",meeting_platform:s.meeting_platform||null},{data:t,error:l}=await j.from("sessions").update(n).eq("id",r).select().single();if(l)throw console.error("Error updating session:",l),new Error(`Failed to update session: ${l.message}`);return t}catch(a){throw console.error("Error in updateSessionMeeting:",a),a}}async function Ur(r,s,i){var a;if(!r||!i)throw new Error("Course ID and instructor ID are required");try{const{data:o,error:n}=await j.from("courses").select("instructor_id, title").eq("id",r).single();if(n)throw new Error(`Course not found: ${n.message}`);if(o.instructor_id!==i)throw new Error("Unauthorized: You can only create sessions for your own courses");if(!s.title||!s.session_date)throw new Error("Session title and date are required");const t={course_id:r,title:s.title.trim(),description:((a=s.description)==null?void 0:a.trim())||"",session_date:new Date(s.session_date).toISOString(),duration_minutes:s.duration_minutes||s.duration||60,meeting_link:s.meeting_link||"",meeting_password:s.meeting_password||"",meeting_platform:s.meeting_platform||null,student_id:s.student_id||null,status:"scheduled"};if(t.meeting_link&&!us(t.meeting_link))throw new Error("Invalid meeting link URL");const{data:l,error:u}=await j.from("sessions").insert([t]).select().single();if(u)throw console.error("Error creating session:",u),new Error(`Failed to create session: ${u.message}`);return l}catch(o){throw console.error("Error in createSession:",o),o}}async function Vr(r,s,i){if(!r||!i)throw new Error("Session ID and instructor ID are required");try{const{data:a,error:o}=await j.from("sessions").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(o)throw new Error(`Session not found: ${o.message}`);if(a.courses.instructor_id!==i)throw new Error("Unauthorized: You can only update sessions for your own courses");if(s.meeting_link&&!us(s.meeting_link))throw new Error("Invalid meeting link URL");const n={...s};n.session_date&&(n.session_date=new Date(n.session_date).toISOString());const{data:t,error:l}=await j.from("sessions").update(n).eq("id",r).select().single();if(l)throw console.error("Error updating session:",l),new Error(`Failed to update session: ${l.message}`);return t}catch(a){throw console.error("Error in updateSession:",a),a}}async function wr(r,s){if(!r||!s)throw new Error("Session ID and instructor ID are required");try{const{data:i,error:a}=await j.from("sessions").select(`
        id,
        course_id,
        title,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(a)throw new Error(`Session not found: ${a.message}`);if(i.courses.instructor_id!==s)throw new Error("Unauthorized: You can only delete sessions for your own courses");const{error:o}=await j.from("sessions").delete().eq("id",r);if(o)throw console.error("Error deleting session:",o),new Error(`Failed to delete session: ${o.message}`);return!0}catch(i){throw console.error("Error in deleteSession:",i),i}}async function _r(r,s=5){if(!r)throw new Error("Instructor ID is required");try{const{data:i,error:a}=await j.from("sessions").select(`
        *,
        courses!inner(title, instructor_id)
      `).eq("courses.instructor_id",r).gte("session_date",new Date().toISOString()).order("session_date",{ascending:!0}).limit(s);if(a)throw console.error("Error fetching upcoming sessions:",a),new Error(`Failed to fetch upcoming sessions: ${a.message}`);return i||[]}catch(i){throw console.error("Error in getUpcomingSessions:",i),i}}async function Pr(r,s){try{const{data:i,error:a}=await j.from("courses").select("instructor_id").eq("id",r).single();if(a)return!1;if(i.instructor_id===s)return!0;const{data:o}=await j.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();return!!o}catch(i){return console.error("Error checking course access:",i),!1}}function us(r){try{return new URL(r),!0}catch{return!1}}async function Mr(r,s,i){if(!r||!i)throw new Error("Course ID and instructor ID are required");try{const{data:a,error:o}=await j.from("courses").select("instructor_id, title").eq("id",r).single();if(o)throw new Error(`Course not found: ${o.message}`);if(a.instructor_id!==i)throw new Error("Unauthorized: You can only create homework for your own courses");if(!s.title||!s.description)throw new Error("Title and description are required");const n={course_id:r,title:s.title.trim(),description:s.description.trim(),due_date:s.due_date?new Date(s.due_date).toISOString():null,points:s.points||100,submission_type:s.submission_type||"text",is_published:s.is_published||!1,attachments:s.attachments||null},{data:t,error:l}=await j.from("homework").insert([n]).select().single();if(l)throw console.error("Error creating homework:",l),new Error(`Failed to create homework: ${l.message}`);return t}catch(a){throw console.error("Error in createHomework:",a),a}}async function Rr(r,s,i=!0){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await Ir(r,s))throw new Error("Unauthorized: You do not have access to this course");const o=await Us(r,s);let n=j.from("homework").select(`
        *,
        submissions(
          id,
          student_id,
          status,
          submitted_at,
          grade,
          feedback
        )
      `).eq("course_id",r);!o&&i&&(n=n.eq("is_published",!0)),n=n.order("due_date",{ascending:!0,nullsLast:!0});const{data:t,error:l}=await n;if(l)throw console.error("Error fetching homework:",l),new Error(`Failed to fetch homework: ${l.message}`);return t||[]}catch(a){throw console.error("Error in getCourseHomework:",a),a}}async function Lr(r,s,i,a=!1){if(!r||!i)throw new Error("Homework ID and student ID are required");try{const{data:o,error:n}=await j.from("homework").select("id, course_id, title, due_date, is_published, submission_type").eq("id",r).single();if(n)throw new Error(`Homework not found: ${n.message}`);if(!o.is_published)throw new Error("This homework assignment is not yet available for submission");let t=j.from("enrollments").select("id").eq("course_id",o.course_id);a?t=t.eq("student_profile_id",i):t=t.eq("student_id",i);const{data:l,error:u}=await t.single();if(u)throw new Error("You must be enrolled in this course to submit homework");let h=j.from("submissions").select("id").eq("homework_id",r);a?h=h.eq("student_profile_id",i):h=h.eq("student_id",i);const{data:d}=await h.single();if(d)throw new Error("You have already submitted this homework. Contact your instructor to resubmit.");if(o.submission_type==="text"&&!s.content)throw new Error("Text content is required for this assignment");if(o.submission_type==="file"&&!s.file_url)throw new Error("File upload is required for this assignment");const N={homework_id:r,student_id:a?null:i,student_profile_id:a?i:null,content:s.content||"",file_url:s.file_url||null,status:"submitted"},{data:p,error:f}=await j.from("submissions").insert([N]).select().single();if(f)throw console.error("Error creating submission:",f),new Error(`Failed to submit homework: ${f.message}`);return p}catch(o){throw console.error("Error in submitHomework:",o),o}}async function Or(r,s){if(!r||!s)throw new Error("Homework ID and instructor ID are required");try{const{data:i,error:a}=await j.from("homework").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(a)throw new Error(`Homework not found: ${a.message}`);if(i.courses.instructor_id!==s)throw new Error("Unauthorized: You can only view submissions for your own courses");const{data:o,error:n}=await j.from("submissions").select(`
        *,
        profiles!inner(id, full_name, avatar_url)
      `).eq("homework_id",r).order("submitted_at",{ascending:!1});if(n)throw console.error("Error fetching submissions:",n),new Error(`Failed to fetch submissions: ${n.message}`);return o||[]}catch(i){throw console.error("Error in getHomeworkSubmissions:",i),i}}async function Ar(r,s,i){if(!r||!i)throw new Error("Submission ID and instructor ID are required");try{const{data:a,error:o}=await j.from("submissions").select(`
        id,
        homework_id,
        homework!inner(
          course_id,
          courses!inner(instructor_id)
        )
      `).eq("id",r).single();if(o)throw new Error(`Submission not found: ${o.message}`);if(a.homework.courses.instructor_id!==i)throw new Error("Unauthorized: You can only grade submissions for your own courses");const n={grade:s.grade||null,feedback:s.feedback||"",status:s.grade!==null?"graded":"submitted",graded_at:s.grade!==null?new Date().toISOString():null},{data:t,error:l}=await j.from("submissions").update(n).eq("id",r).select(`
        *,
        profiles!inner(id, full_name, avatar_url),
        homework!inner(title, course_id)
      `).single();if(l)throw console.error("Error grading submission:",l),new Error(`Failed to grade submission: ${l.message}`);return t}catch(a){throw console.error("Error in gradeSubmission:",a),a}}async function qr(r,s,i){if(!r||!i)throw new Error("Homework ID and instructor ID are required");try{const{data:a,error:o}=await j.from("homework").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(o)throw new Error(`Homework not found: ${o.message}`);if(a.courses.instructor_id!==i)throw new Error("Unauthorized: You can only update homework for your own courses");const n={...s};n.due_date&&(n.due_date=new Date(n.due_date).toISOString());const{data:t,error:l}=await j.from("homework").update(n).eq("id",r).select().single();if(l)throw console.error("Error updating homework:",l),new Error(`Failed to update homework: ${l.message}`);return t}catch(a){throw console.error("Error in updateHomework:",a),a}}async function $r(r,s){if(!r||!s)throw new Error("Homework ID and instructor ID are required");try{const{data:i,error:a}=await j.from("homework").select(`
        id,
        title,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(a)throw new Error(`Homework not found: ${a.message}`);if(i.courses.instructor_id!==s)throw new Error("Unauthorized: You can only delete homework for your own courses");const{data:o,error:n}=await j.from("submissions").select("id").eq("homework_id",r).limit(1);if(n&&console.error("Error checking submissions:",n),o&&o.length>0)throw new Error("Cannot delete homework with existing submissions. Please contact students first.");const{error:t}=await j.from("homework").delete().eq("id",r);if(t)throw console.error("Error deleting homework:",t),new Error(`Failed to delete homework: ${t.message}`);return!0}catch(i){throw console.error("Error in deleteHomework:",i),i}}async function Fr(r,s){if(!r||!s)throw new Error("Course ID and student ID are required");try{const{data:i,error:a}=await j.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();if(a)throw new Error("You must be enrolled in this course to view submissions");const{data:o,error:n}=await j.from("submissions").select(`
        *,
        homework!inner(
          id,
          title,
          description,
          due_date,
          points,
          course_id
        )
      `).eq("student_id",s).eq("homework.course_id",r).order("submitted_at",{ascending:!1});if(n)throw console.error("Error fetching student submissions:",n),new Error(`Failed to fetch submissions: ${n.message}`);return o||[]}catch(i){throw console.error("Error in getStudentSubmissions:",i),i}}async function Ir(r,s,i=null){try{if(await Us(r,s))return!0;const{data:o}=await j.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();if(o)return!0;if(i){const{data:t}=await j.from("enrollments").select(`
          id,
          students!inner(parent_id)
        `).eq("course_id",r).eq("student_profile_id",i).eq("students.parent_id",s).single();if(t)return!0}const{data:n}=await j.from("enrollments").select(`
        id,
        student_profile_id,
        students!inner(parent_id)
      `).eq("course_id",r).eq("students.parent_id",s).limit(1);return!!n&&n.length>0}catch(a){return console.error("Error checking course access:",a),!1}}async function Us(r,s){try{const{data:i,error:a}=await j.from("courses").select("instructor_id").eq("id",r).single();return!a&&i.instructor_id===s}catch(i){return console.error("Error checking instructor status:",i),!1}}async function Br(r,s,i){var a;if(!r||!i)throw new Error("Course ID and instructor ID are required");try{const{data:o,error:n}=await j.from("courses").select("instructor_id, title").eq("id",r).single();if(n)throw new Error(`Course not found: ${n.message}`);if(o.instructor_id!==i)throw new Error("Unauthorized: You can only add resources to your own courses");if(!s.title)throw new Error("Resource title is required");if(!s.resource_type||!["file","link"].includes(s.resource_type))throw new Error('Resource type must be either "file" or "link"');if(s.resource_type==="file"&&!s.file_url)throw new Error("File URL is required for file resources");if(s.resource_type==="link"&&!s.link_url)throw new Error("Link URL is required for link resources");if(s.link_url&&!Vs(s.link_url))throw new Error("Invalid link URL");const t={course_id:r,title:s.title.trim(),description:((a=s.description)==null?void 0:a.trim())||"",resource_type:s.resource_type,file_url:s.file_url||null,link_url:s.link_url||null,file_size:s.file_size||null,file_type:s.file_type||null,is_public:s.is_public||!1},{data:l,error:u}=await j.from("resources").insert([t]).select().single();if(u)throw console.error("Error creating resource:",u),new Error(`Failed to create resource: ${u.message}`);return l}catch(o){throw console.error("Error in createResource:",o),o}}async function Hr(r,s){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await Kr(r,s))throw new Error("Unauthorized: You do not have access to this course");const{data:a,error:o}=await j.from("resources").select("*").eq("course_id",r).order("created_at",{ascending:!1});if(o)throw console.error("Error fetching resources:",o),new Error(`Failed to fetch resources: ${o.message}`);return a||[]}catch(i){throw console.error("Error in getCourseResources:",i),i}}async function Yr(r,s,i){if(!r||!i)throw new Error("Resource ID and instructor ID are required");try{const{data:a,error:o}=await j.from("resources").select(`
        id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(o)throw new Error(`Resource not found: ${o.message}`);if(a.courses.instructor_id!==i)throw new Error("Unauthorized: You can only update resources for your own courses");if(s.link_url&&!Vs(s.link_url))throw new Error("Invalid link URL");const n={...s},{data:t,error:l}=await j.from("resources").update(n).eq("id",r).select().single();if(l)throw console.error("Error updating resource:",l),new Error(`Failed to update resource: ${l.message}`);return t}catch(a){throw console.error("Error in updateResource:",a),a}}async function Wr(r,s){if(!r||!s)throw new Error("Resource ID and instructor ID are required");try{const{data:i,error:a}=await j.from("resources").select(`
        id,
        title,
        file_url,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(a)throw new Error(`Resource not found: ${a.message}`);if(i.courses.instructor_id!==s)throw new Error("Unauthorized: You can only delete resources for your own courses");const{error:o}=await j.from("resources").delete().eq("id",r);if(o)throw console.error("Error deleting resource:",o),new Error(`Failed to delete resource: ${o.message}`);return!0}catch(i){throw console.error("Error in deleteResource:",i),i}}async function zr(r,s,i=!1){if(!r||!s)throw new Error("Resource ID and student ID are required");try{const{data:a,error:o}=await j.from("resources").select("course_id").eq("id",r).single();if(o)throw new Error(`Resource not found: ${o.message}`);let n=j.from("enrollments").select("id").eq("course_id",a.course_id);i?n=n.eq("student_profile_id",s):n=n.eq("student_id",s);const{data:t,error:l}=await n.single();if(l)throw new Error("You must be enrolled in this course to access resources");return console.log(`Student ${s} (profile: ${i}) accessed resource ${r}`),!0}catch(a){throw console.error("Error in trackResourceAccess:",a),a}}async function Gr(r,s,i){if(!r||!s||!i)throw new Error("File, course ID, and instructor ID are required");try{const{data:a,error:o}=await j.from("courses").select("instructor_id").eq("id",s).single();if(o)throw new Error(`Course not found: ${o.message}`);if(a.instructor_id!==i)throw new Error("Unauthorized: You can only upload files to your own courses");const n=100*1024*1024;if(r.size>n)throw new Error("File size must be less than 100MB");const t=r.name.split(".").pop(),l=`${s}/${Date.now()}-${Math.random().toString(36).substring(2)}.${t}`,{data:u,error:h}=await j.storage.from("course-resources").upload(l,r,{cacheControl:"3600",upsert:!1});if(h)throw console.error("Error uploading file:",h),new Error(`Failed to upload file: ${h.message}`);const{data:d}=j.storage.from("course-resources").getPublicUrl(l);return{file_url:d.publicUrl,file_name:r.name,file_size:r.size,file_type:r.type,storage_path:l}}catch(a){throw console.error("Error in uploadResourceFile:",a),a}}async function Jr(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:i}=await j.from("resources").select(`
        id,
        resource_type,
        course_id,
        courses!inner(instructor_id, title)
      `).eq("courses.instructor_id",r);if(i)throw console.error("Error fetching resource stats:",i),new Error(`Failed to fetch resource stats: ${i.message}`);const a={totalResources:s.length,fileResources:s.filter(o=>o.resource_type==="file").length,linkResources:s.filter(o=>o.resource_type==="link").length,resourcesByCourse:{}};return s.forEach(o=>{const n=o.courses.title;a.resourcesByCourse[n]||(a.resourcesByCourse[n]=0),a.resourcesByCourse[n]++}),a}catch(s){throw console.error("Error in getResourceStats:",s),s}}async function Kr(r,s){try{const{data:i,error:a}=await j.from("courses").select("instructor_id").eq("id",r).single();if(a)return!1;if(i.instructor_id===s)return!0;const{data:o}=await j.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();if(o)return!0;const{data:n}=await j.from("enrollments").select(`
        id,
        student_profile_id,
        students!inner(parent_id)
      `).eq("course_id",r).eq("students.parent_id",s).limit(1);return!!n&&n.length>0}catch(i){return console.error("Error checking course access:",i),!1}}function Vs(r){try{return new URL(r),!0}catch{return!1}}const je=new Map,ss=new Map;function ws(r,s={}){if(!r)throw new Error("Course ID is required");const i=`course:${r}:messages`;if(je.has(i)){const n=je.get(i),t=n.channel.state;if(console.log(`Channel ${i} exists with state: ${t}`),t==="closed"||t==="errored")console.log(`Removing closed/errored channel ${i}`),je.delete(i);else return console.log(`Returning existing active channel ${i}`),n}console.log(`Creating new channel: ${i}`);const a=j.channel(i).on("broadcast",{event:"new_message"},n=>{console.log("üì® New message received via broadcast:",n),s.onMessage&&s.onMessage(n.payload)}).subscribe((n,t)=>{console.log(`Channel ${i} status:`,n),t&&console.error(`Channel ${i} error:`,t),n==="SUBSCRIBED"?console.log(`‚úÖ Channel ${i} successfully subscribed!`):n==="CLOSED"?(console.error(`‚ùå Channel ${i} closed unexpectedly`),je.delete(i)):n==="CHANNEL_ERROR"&&(console.error(`‚ùå Channel ${i} error:`,t),je.delete(i))}),o={channel:a,unsubscribe:async()=>{await j.removeChannel(a),je.delete(i),console.log(`Channel ${i} unsubscribed`)}};return je.set(i,o),o}function _s(r,s,i={},a={}){if(!r||!s)throw new Error("Course ID and user ID are required");const o=`course:${r}:presence`;if(je.has(o))return console.warn(`Presence channel ${o} already exists`),je.get(o);const n=j.channel(o).on("presence",{event:"sync"},()=>{const l=n.presenceState();console.log("Presence sync:",l),ss.set(o,l),a.onSync&&a.onSync(l)}).on("presence",{event:"join"},({key:l,newPresences:u})=>{console.log("User joined:",l,u),a.onJoin&&a.onJoin(l,u)}).on("presence",{event:"leave"},({key:l,leftPresences:u})=>{console.log("User left:",l,u),a.onLeave&&a.onLeave(l,u)}).subscribe(async l=>{console.log(`Presence channel ${o} status:`,l),l==="SUBSCRIBED"&&await n.track({user_id:s,online_at:new Date().toISOString(),...i})}),t={channel:n,track:async(l={})=>{await n.track({user_id:s,online_at:new Date().toISOString(),...i,...l})},untrack:async()=>{await n.untrack()},getPresenceState:()=>ss.get(o)||{},unsubscribe:async()=>{await n.untrack(),await j.removeChannel(n),je.delete(o),ss.delete(o),console.log(`Presence channel ${o} unsubscribed`)}};return je.set(o,t),t}function Xr(){return je}const bs=Xr();async function Zr(r,s,i){if(!r||!i)throw new Error("Course ID and sender ID are required");try{if(!await Oe(r,i))throw new Error("Unauthorized: You do not have access to this course");if(!s.content||s.content.trim().length===0)throw new Error("Message content is required");if(s.content.length>2e3)throw new Error("Message content must be less than 2000 characters");const o={course_id:r,sender_id:i,content:s.content.trim(),recipient_id:s.recipient_id||null,is_announcement:s.is_announcement||!1,attachments:s.attachments||null};if(s.recipient_id&&!await Oe(r,s.recipient_id))throw new Error("Recipient does not have access to this course");const{data:n,error:t}=await j.from("messages").insert([o]).select(`
        *,
        profiles!sender_id(id, full_name, avatar_url, role)
      `).single();if(t)throw console.error("Error sending message:",t),new Error(`Failed to send message: ${t.message}`);return console.log("üì° Broadcasting message to channel:",`course:${r}:messages`),console.log("üì° Message payload:",n),await Qr(r,"new_message",n),console.log("üì° Broadcast complete"),n}catch(a){throw console.error("Error in sendMessage:",a),a}}async function Qr(r,s,i){try{const a=`course:${r}:messages`;console.log("Looking for existing channel:",a),console.log("Active channels:",Array.from(bs.keys()));const o=bs.get(a);if(o&&o.channel){console.log("Using existing channel for broadcast, state:",o.channel.state);const n=await o.channel.send({type:"broadcast",event:s,payload:i});console.log("Broadcast result:",n)}else{console.log("No existing channel found in activeChannels");const n=j.getChannels();console.log("All Supabase channels:",n.map(l=>l.topic));const t=n.find(l=>l.topic===a||l.topic===`realtime:${a}`);if(t){console.log("Found matching channel in Supabase, using it");const l=await t.send({type:"broadcast",event:s,payload:i});console.log("Broadcast result:",l)}else console.warn("No channel found - message saved but not broadcast")}console.log("Broadcast sent successfully")}catch(a){console.error("Error broadcasting message:",a)}}async function ei(r,s,i=50,a=null){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await Oe(r,s))throw new Error("Unauthorized: You do not have access to this course");let n=j.from("messages").select(`
        *,
        profiles!sender_id(id, full_name, avatar_url, role)
      `).eq("course_id",r).is("recipient_id",null).order("created_at",{ascending:!1}).limit(i);a&&(n=n.lt("created_at",a));const{data:t,error:l}=await n;if(l)throw console.error("Error fetching messages:",l),new Error(`Failed to fetch messages: ${l.message}`);return(t||[]).reverse()}catch(o){throw console.error("Error in getCourseMessages:",o),o}}async function si(r,s,i,a=50,o=null){if(!r||!s||!i)throw new Error("Course ID, user ID, and other user ID are required");try{const n=await Oe(r,s),t=await Oe(r,i);if(!n||!t)throw new Error("Unauthorized: One or both users do not have access to this course");let l=j.from("messages").select(`
        *,
        profiles!sender_id(id, full_name, avatar_url, role)
      `).eq("course_id",r).or(`and(sender_id.eq.${s},recipient_id.eq.${i}),and(sender_id.eq.${i},recipient_id.eq.${s})`).order("created_at",{ascending:!1}).limit(a);o&&(l=l.lt("created_at",o));const{data:u,error:h}=await l;if(h)throw console.error("Error fetching conversation:",h),new Error(`Failed to fetch conversation: ${h.message}`);return(u||[]).reverse()}catch(n){throw console.error("Error in getConversation:",n),n}}async function ri(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:i,error:a}=await j.from("courses").select("instructor_id, course_type").eq("id",r).single();if(a)throw new Error(`Course not found: ${a.message}`);if(i.instructor_id!==s)throw new Error("Unauthorized: You can only view conversations for your own courses");const{data:o,error:n}=await j.from("enrollments").select(`
        student_id,
        profiles!student_id(id, full_name, avatar_url)
      `).eq("course_id",r).eq("status","active");if(n)throw console.error("Error fetching enrollments:",n),new Error(`Failed to fetch enrollments: ${n.message}`);console.log("üìã Fetched enrollments for threads:",o);const t=[];for(const l of o||[]){const u=l.profiles,h=l.student_id;if(!u||!h){console.warn("‚ö†Ô∏è Skipping enrollment with missing student data:",l);continue}const{data:d,error:N}=await j.from("messages").select(`
          *,
          profiles!sender_id(id, full_name, avatar_url, role)
        `).eq("course_id",r).or(`and(sender_id.eq.${s},recipient_id.eq.${h}),and(sender_id.eq.${h},recipient_id.eq.${s})`).order("created_at",{ascending:!1}).limit(1).single();t.push({student:u,lastMessage:N?null:d,unreadCount:0})}return t.sort((l,u)=>!l.lastMessage&&!u.lastMessage?0:l.lastMessage?u.lastMessage?new Date(u.lastMessage.created_at)-new Date(l.lastMessage.created_at):-1:1),t}catch(i){throw console.error("Error in getConversationThreads:",i),i}}async function ii(r,s,i=null){if(!r||!s)throw new Error("Course ID and user ID are required");try{if(!await Oe(r,s))throw new Error("Unauthorized: You do not have access to this course");return console.log(`User ${s} marked messages as read in course ${r}`,i?`with ${i}`:"(group chat)"),!0}catch(a){throw console.error("Error in markMessagesAsRead:",a),a}}async function ai(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:i}=await j.from("messages").select(`
        id,
        created_at,
        course_id,
        courses!inner(instructor_id, title, course_type)
      `).eq("courses.instructor_id",r);if(i)throw console.error("Error fetching message stats:",i),new Error(`Failed to fetch message stats: ${i.message}`);const a=new Date,o=new Date(a.getFullYear(),a.getMonth(),a.getDate()),n=new Date(o.getTime()-7*24*60*60*1e3),t={totalMessages:s.length,messagesToday:s.filter(l=>new Date(l.created_at)>=o).length,messagesThisWeek:s.filter(l=>new Date(l.created_at)>=n).length,messagesByCourse:{}};return s.forEach(l=>{const u=l.courses.title;t.messagesByCourse[u]||(t.messagesByCourse[u]=0),t.messagesByCourse[u]++}),t}catch(s){throw console.error("Error in getMessageStats:",s),s}}async function oi(r,s){if(!r||!s)throw new Error("Message ID and instructor ID are required");try{const{data:i,error:a}=await j.from("messages").select(`
        id,
        sender_id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(a)throw new Error(`Message not found: ${a.message}`);if(i.courses.instructor_id!==s&&i.sender_id!==s)throw new Error("Unauthorized: You can only delete your own messages or messages in your courses");const{error:o}=await j.from("messages").delete().eq("id",r);if(o)throw console.error("Error deleting message:",o),new Error(`Failed to delete message: ${o.message}`);return!0}catch(i){throw console.error("Error in deleteMessage:",i),i}}async function Oe(r,s){try{console.log("Checking course access:",{courseId:r,userId:s});const{data:i,error:a}=await j.from("courses").select("instructor_id").eq("id",r).single();if(console.log("Course query result:",{course:i,courseError:a}),a)return console.error("Course not found or error:",a),!1;if(i.instructor_id===s)return console.log("User is the instructor - access granted"),!0;const{data:o}=await j.from("enrollments").select("id").eq("course_id",r).eq("student_id",s).single();if(o)return console.log("User is enrolled as student - access granted"),!0;const n=!1;return console.log("Access check result:",n),n}catch(i){return console.error("Error checking course access:",i),!1}}async function ni(r,s){if(!r)throw new Error("Course ID is required");if(!s)throw new Error("Student ID is required");try{const{data:i,error:a}=await j.from("courses").select("id, title, is_published, enrollment_limit, instructor_id").eq("id",r).single();if(a)throw new Error(`Course not found: ${a.message}`);if(!i.is_published)throw new Error("This course is not currently available for enrollment");if(s&&i.instructor_id===s)throw new Error("Instructors cannot enroll in their own courses");const{data:o}=await j.from("enrollments").select("id, status").eq("course_id",r).eq("student_id",s).single();if(o){if(o.status==="active")throw new Error("You are already enrolled in this course");if(o.status==="completed")throw new Error("You have already completed this course")}if(i.enrollment_limit){const{data:u,error:h}=await j.from("enrollments").select("id").eq("course_id",r).eq("status","active");if(h)console.error("Error checking enrollment count:",h);else if(u&&u.length>=i.enrollment_limit)throw new Error("This course is full. Please check back later for availability.")}const n={course_id:r,student_id:s,status:"active",progress:0,enrolled_at:new Date().toISOString()};console.log("Creating enrollment with data:",n);const{data:t,error:l}=await j.from("enrollments").insert([n]).select(`
        *,
        courses!inner(id, title, instructor_id, course_type),
        profiles!student_id(id, full_name, avatar_url)
      `).single();if(l)throw console.error("Error creating enrollment:",l),new Error(`Failed to enroll in course: ${l.message}`);return t}catch(i){throw console.error("Error in enrollStudent:",i),i}}async function li(r,s=null){if(!r)throw new Error("Student ID is required");try{let i=j.from("enrollments").select(`
        *,
        courses!inner(
          id,
          title,
          description,
          category,
          course_type,
          instructor_id,
          is_published,
          profiles!instructor_id(id, full_name, avatar_url)
        )
      `).eq("student_id",r).order("enrolled_at",{ascending:!1});s&&(i=i.eq("status",s));const{data:a,error:o}=await i;if(o)throw console.error("Error fetching student enrollments:",o),new Error(`Failed to fetch enrollments: ${o.message}`);return a||[]}catch(i){throw console.error("Error in getStudentEnrollments:",i),i}}async function ti(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:i,error:a}=await j.from("courses").select("instructor_id, title").eq("id",r).single();if(a)throw new Error(`Course not found: ${a.message}`);if(i.instructor_id!==s)throw new Error("Unauthorized: You can only view enrollments for your own courses");const{data:o,error:n}=await j.from("enrollments").select(`
        *,
        profiles!student_id(
          id,
          full_name,
          first_name,
          last_name,
          avatar_url,
          bio,
          neurodiversity_profile
        )
      `).eq("course_id",r).order("enrolled_at",{ascending:!1});if(n)throw console.error("Error fetching course enrollments:",n),new Error(`Failed to fetch enrollments: ${n.message}`);return o||[]}catch(i){throw console.error("Error in getCourseEnrollments:",i),i}}async function ci(r,s,i){if(!r||!i)throw new Error("Enrollment ID and instructor ID are required");try{const{data:a,error:o}=await j.from("enrollments").select(`
        id,
        student_id,
        course_id,
        courses!inner(instructor_id)
      `).eq("id",r).single();if(o)throw new Error(`Enrollment not found: ${o.message}`);if(a.courses.instructor_id!==i)throw new Error("Unauthorized: You can only update enrollments for your own courses");const n={...s};s.status==="completed"&&!s.completed_at&&(n.completed_at=new Date().toISOString());const{data:t,error:l}=await j.from("enrollments").update(n).eq("id",r).select(`
        *,
        profiles!student_id(id, full_name, avatar_url),
        courses!inner(id, title)
      `).single();if(l)throw console.error("Error updating enrollment:",l),new Error(`Failed to update enrollment: ${l.message}`);return t}catch(a){throw console.error("Error in updateEnrollment:",a),a}}async function ui(r,s){if(!r||!s)throw new Error("Course ID and student ID are required");try{const{data:i,error:a}=await j.from("enrollments").select("id, status").eq("course_id",r).eq("student_id",s).single();if(a)throw new Error(`Enrollment not found: ${a.message}`);if(i.status==="withdrawn")throw new Error("You have already withdrawn from this course");const{error:o}=await j.from("enrollments").update({status:"withdrawn",withdrawn_at:new Date().toISOString()}).eq("id",i.id);if(o)throw console.error("Error withdrawing from course:",o),new Error(`Failed to withdraw from course: ${o.message}`);return!0}catch(i){throw console.error("Error in withdrawStudent:",i),i}}async function mi(r){if(!r)throw new Error("Instructor ID is required");try{const{data:s,error:i}=await j.from("enrollments").select(`
        id,
        status,
        progress,
        enrolled_at,
        completed_at,
        course_id,
        courses!inner(instructor_id, title)
      `).eq("courses.instructor_id",r);if(i)throw console.error("Error fetching enrollment stats:",i),new Error(`Failed to fetch enrollment stats: ${i.message}`);const a=new Date,o=new Date(a.getFullYear(),a.getMonth(),1),n={totalEnrollments:s.length,activeEnrollments:s.filter(l=>l.status==="active").length,completedEnrollments:s.filter(l=>l.status==="completed").length,withdrawnEnrollments:s.filter(l=>l.status==="withdrawn").length,enrollmentsThisMonth:s.filter(l=>new Date(l.enrolled_at)>=o).length,averageProgress:0,enrollmentsByCourse:{}},t=s.filter(l=>l.status==="active");if(t.length>0){const l=t.reduce((u,h)=>u+(h.progress||0),0);n.averageProgress=Math.round(l/t.length)}return s.forEach(l=>{const u=l.courses.title;n.enrollmentsByCourse[u]||(n.enrollmentsByCourse[u]={total:0,active:0,completed:0,withdrawn:0}),n.enrollmentsByCourse[u].total++,n.enrollmentsByCourse[u][l.status]++}),n}catch(s){throw console.error("Error in getEnrollmentStats:",s),s}}async function di(r,s){if(!r||!s)throw new Error("Course ID and student ID are required");try{const{data:i}=await j.from("enrollments").select("*").eq("course_id",r).eq("student_id",s).single();return i||null}catch(i){return console.error("Error in checkEnrollment:",i),null}}async function Ni(r,s){if(!r||!s)throw new Error("Course ID and instructor ID are required");try{const{data:i,error:a}=await j.from("courses").select("instructor_id, title").eq("id",r).single();if(a)throw new Error(`Course not found: ${a.message}`);if(i.instructor_id!==s)throw new Error("Unauthorized: You can only view completion rates for your own courses");const{data:o,error:n}=await j.from("enrollments").select("status, progress").eq("course_id",r);if(n)throw console.error("Error fetching completion rate:",n),new Error(`Failed to fetch completion rate: ${n.message}`);const t=o.length,l=o.filter(N=>N.status==="completed").length,u=o.filter(N=>N.status==="active").length,h=o.filter(N=>N.status==="active"),d=h.length>0?Math.round(h.reduce((N,p)=>N+(p.progress||0),0)/h.length):0;return{totalEnrollments:t,completedEnrollments:l,activeEnrollments:u,completionRate:t>0?Math.round(l/t*100):0,averageProgress:d}}catch(i){throw console.error("Error in getCourseCompletionRate:",i),i}}const gi={create:br,getAll:yr,getById:xr,getInstructorCourses:Er,update:cs,delete:Cr,publish:vr,unpublish:Sr,getStats:kr},hi={create:Ur,getCourse:Dr,update:Vr,delete:wr,updateMeeting:Tr,getUpcoming:_r},fi={create:Mr,getCourse:Rr,update:qr,delete:$r,submit:Lr,getSubmissions:Or,grade:Ar,getStudentSubmissions:Fr},ji={create:Br,getCourse:Hr,update:Yr,delete:Wr,uploadFile:Gr,trackAccess:zr,getStats:Jr},bi={send:Zr,getCourse:ei,getConversation:si,delete:oi,getThreads:ri,markAsRead:ii,getStats:ai},pi={enroll:ni,withdraw:ui,update:ci,check:di,getStudent:li,getCourse:ti,getStats:mi,getCompletionRate:Ni},L={courses:gi,sessions:hi,homework:fi,resources:ji,messages:bi,enrollments:pi};class ps extends Error{constructor(s,i="API_ERROR",a=null){super(s),this.name="ApiError",this.code=i,this.details=a}}async function O(r,...s){try{return await r(...s)}catch(i){throw console.error("API call failed:",i),i instanceof ps?i:new ps(i.message||"An unexpected error occurred",i.code||"UNKNOWN_ERROR",i)}}function rs(){const{user:r}=ae(),[s,i]=m.useState(""),[a,o]=m.useState("all"),[n,t]=m.useState([]),[l,u]=m.useState(!0),[h,d]=m.useState(""),N=["all","parenting","music","dance","drama","art","language"];m.useEffect(()=>{(async()=>{try{u(!0);const T=(await O(L.courses.getAll)).filter(C=>C.status==="published");t(T)}catch(b){console.error("Error fetching courses:",b),d("Failed to load courses")}finally{u(!1)}})()},[]);const p=n.filter(f=>{const b=f.title.toLowerCase().includes(s.toLowerCase())||f.description.toLowerCase().includes(s.toLowerCase()),T=a==="all"||f.category===a;return b&&T});return e.jsxDEV("div",{className:"marketplace",children:[e.jsxDEV("div",{className:"marketplace-header",children:[e.jsxDEV("h1",{children:"Discover Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:47,columnNumber:9},this),e.jsxDEV("p",{className:"tagline",children:"Here every brain learns differently"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:48,columnNumber:9},this),e.jsxDEV("p",{className:"subtitle",children:"Personalized live classes for unique learners"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:49,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:46,columnNumber:7},this),e.jsxDEV("div",{className:"marketplace-filters",children:[e.jsxDEV("div",{className:"search-bar",children:e.jsxDEV("input",{type:"text",placeholder:"Search courses...",value:s,onChange:f=>i(f.target.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:54,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:53,columnNumber:9},this),e.jsxDEV("div",{className:"category-filters",children:N.map(f=>e.jsxDEV("button",{className:`category-btn ${a===f?"active":""}`,onClick:()=>o(f),children:f.charAt(0).toUpperCase()+f.slice(1)},f,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:64,columnNumber:13},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:62,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:52,columnNumber:7},this),l?e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:"Loading courses..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:77,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:76,columnNumber:9},this):h?e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:h},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:81,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:80,columnNumber:9},this):e.jsxDEV("div",{className:"courses-grid",children:p.length>0?p.map(f=>e.jsxDEV(jr,{course:f},f.id,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:87,columnNumber:15},this)):e.jsxDEV("div",{className:"no-results",children:[e.jsxDEV("p",{children:"No courses found matching your criteria"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:91,columnNumber:15},this),n.length===0&&e.jsxDEV("p",{style:{marginTop:"1rem",color:"#6b7280"},children:"No courses have been published yet. Check back soon!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:93,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:90,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:84,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Marketplace.jsx",lineNumber:45,columnNumber:5},this)}const Ei=[{id:"1",courseId:"1",studentName:"Jennifer Smith",rating:5,reviewText:"This course completely transformed my parenting approach. Dr. Johnson's techniques are practical and effective!",createdAt:"2024-11-15"},{id:"2",courseId:"1",studentName:"Robert Brown",rating:4,reviewText:"Great content and well-structured lessons. Would have liked more real-world examples.",createdAt:"2024-11-10"}];function yi(){var M;const{courseId:r}=Ae(),{user:s,profile:i,activeStudent:a}=ae(),o=be(),[n,t]=m.useState(!1),[l,u]=m.useState(null),[h,d]=m.useState(!0),[N,p]=m.useState(""),[f,b]=m.useState(!1),[T,C]=m.useState(!1);if(m.useEffect(()=>{console.log("üéØ CourseDetail - activeStudent changed:",a),console.log("üë§ CourseDetail - user:",s==null?void 0:s.id)},[a,s]),Ei.filter(E=>E.courseId===r),m.useEffect(()=>{r&&(async()=>{try{d(!0);const P=await O(L.courses.getById,r);if(u(P),s&&P.instructor_id===s.id&&C(!0),s)try{const I=a?a.id:s.id,W=a!==null,$=await O(L.enrollments.check,r,I);b(!!$)}catch(I){console.log("Not enrolled or error checking enrollment:",I),b(!1)}}catch(P){console.error("Error fetching course:",P),p("Failed to load course")}finally{d(!1)}})()},[r,s,a]),h)return e.jsxDEV("div",{className:"course-detail",children:e.jsxDEV("div",{className:"loading-state",children:"Loading course..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:67,columnNumber:43},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:67,columnNumber:12},this);if(N||!l)return e.jsxDEV("div",{className:"course-detail",children:e.jsxDEV("div",{className:"error-state",children:[e.jsxDEV("p",{children:N||"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:74,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>o("/marketplace"),className:"btn-primary",children:"Back to Marketplace"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:75,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:73,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:72,columnNumber:7},this);const S=l.enrollmentLimit&&l.currentEnrollment>=l.enrollmentLimit,x=l.enrollmentLimit?l.enrollmentLimit-l.currentEnrollment:null,k=async()=>{if(!s){o("/login");return}if(S){alert("Sorry, this class is full!");return}try{const E={courseId:r,studentId:a?null:s.id,studentProfileId:a?a.id:null};console.log("=== ENROLLMENT DEBUG ==="),console.log("User ID:",s.id),console.log("Active Student:",a),console.log("Enrollment Data:",E),console.log("========================"),await O(L.enrollments.enroll,E.courseId,E.studentId,E.studentProfileId),t(!0),setTimeout(()=>{t(!1),o("/my-courses")},3e3)}catch(E){console.error("Enrollment error:",E),alert(E.message||"Failed to enroll in course. Please try again.")}};return e.jsxDEV("div",{className:"course-detail",children:[e.jsxDEV("div",{className:"course-hero",children:[e.jsxDEV("div",{className:"course-hero-content",children:[e.jsxDEV("div",{className:"course-category-badge",children:l.category},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:133,columnNumber:11},this),e.jsxDEV("h1",{children:l.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:134,columnNumber:11},this),e.jsxDEV("p",{className:"course-lead",children:l.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:135,columnNumber:11},this),e.jsxDEV("div",{className:"course-meta",children:[e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:["üë®‚Äçüè´ Instructor: ",l.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:139,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:138,columnNumber:13},this),!l.isSelfPaced&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:["üìÖ ",l.sessionDuration," min sessions"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:144,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:143,columnNumber:17},this),e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:["üîÑ ",l.sessionFrequency.charAt(0).toUpperCase()+l.sessionFrequency.slice(1)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:147,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:146,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:142,columnNumber:15},this),l.isSelfPaced&&e.jsxDEV("div",{className:"meta-item",children:e.jsxDEV("span",{children:"‚è∞ Self-paced (learn at your own speed)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:153,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:152,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:137,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:132,columnNumber:9},this),e.jsxDEV("div",{className:"course-enroll-card",children:[e.jsxDEV("div",{className:"enroll-price",children:l.price===0?"Free":`$${l.price}`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:160,columnNumber:11},this),l.enrollmentLimit&&e.jsxDEV("div",{className:"enrollment-status",children:[e.jsxDEV("div",{className:"enrollment-bar",children:e.jsxDEV("div",{className:"enrollment-fill",style:{width:`${l.currentEnrollment/l.enrollmentLimit*100}%`}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:167,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:166,columnNumber:15},this),e.jsxDEV("div",{className:"enrollment-text",children:[l.currentEnrollment," / ",l.enrollmentLimit," students enrolled",!S&&x<=5&&e.jsxDEV("span",{className:"spots-warning",children:[" ‚Ä¢ Only ",x," spots left!"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:175,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:172,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:165,columnNumber:13},this),S?e.jsxDEV("button",{className:"btn-secondary btn-full",disabled:!0,children:"Class Full"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:182,columnNumber:13},this):T?e.jsxDEV("button",{onClick:()=>o(`/teach/course/${r}/manage`),className:"btn-secondary btn-full",children:"Manage Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:186,columnNumber:13},this):f?e.jsxDEV("button",{className:"btn-secondary btn-full",disabled:!0,children:"‚úì Enrolled"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:193,columnNumber:13},this):e.jsxDEV("button",{onClick:k,className:"btn-primary btn-full",children:"Enroll Now"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:197,columnNumber:13},this),e.jsxDEV("div",{className:"enroll-features",children:[e.jsxDEV("div",{className:"feature",children:"‚úì Live classes"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:203,columnNumber:13},this),e.jsxDEV("div",{className:"feature",children:"‚úì Online feedback"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:204,columnNumber:13},this),e.jsxDEV("div",{className:"feature",children:"‚úì Instructor support"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:205,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:202,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:159,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:131,columnNumber:7},this),!l.isSelfPaced&&l.course_type==="group"&&e.jsxDEV("div",{className:"course-schedule-table-full",children:[e.jsxDEV("h3",{children:"üìÖ Course Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:213,columnNumber:11},this),e.jsxDEV("div",{className:"schedule-info-row",children:[e.jsxDEV("div",{className:"schedule-info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Days:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:216,columnNumber:15},this),e.jsxDEV("span",{className:"info-value",children:((M=l.selected_days)==null?void 0:M.join(", "))||"Not set"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:217,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:215,columnNumber:13},this),e.jsxDEV("div",{className:"schedule-info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Time:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:220,columnNumber:15},this),e.jsxDEV("span",{className:"info-value",children:l.session_time||"Not set"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:221,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:219,columnNumber:13},this),e.jsxDEV("div",{className:"schedule-info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Duration:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:224,columnNumber:15},this),e.jsxDEV("span",{className:"info-value",children:[l.session_duration," minutes"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:225,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:223,columnNumber:13},this),e.jsxDEV("div",{className:"schedule-info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Frequency:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:228,columnNumber:15},this),e.jsxDEV("span",{className:"info-value",children:l.frequency||"weekly"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:229,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:227,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:214,columnNumber:11},this),l.start_date&&e.jsxDEV("div",{className:"schedule-dates-row",children:[e.jsxDEV("span",{className:"info-label",children:"Start Date:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:234,columnNumber:15},this),e.jsxDEV("span",{className:"info-value",children:new Date(l.start_date).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:235,columnNumber:15},this),l.has_end_date&&l.end_date&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"info-label",children:"End Date:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:238,columnNumber:19},this),e.jsxDEV("span",{className:"info-value",children:new Date(l.end_date).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:239,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:237,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:233,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:212,columnNumber:9},this),!l.isSelfPaced&&l.course_type==="one-on-one"&&e.jsxDEV("div",{className:"course-schedule-table-full",children:[e.jsxDEV("h3",{children:"üìÖ Course Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:249,columnNumber:11},this),e.jsxDEV("div",{className:"schedule-note",children:e.jsxDEV("p",{children:"üìù Schedule to be discussed between instructor and student after enrollment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:251,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:250,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:248,columnNumber:9},this),n&&e.jsxDEV("div",{className:"enrollment-success-overlay",children:e.jsxDEV("div",{className:"enrollment-success-popup",children:[e.jsxDEV("div",{className:"success-icon",children:"üéâ"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:260,columnNumber:13},this),e.jsxDEV("h2",{children:"Enrollment Successful!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:261,columnNumber:13},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:a?`${a.first_name} has been enrolled`:"You have been enrolled"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:263,columnNumber:15},this)," in ",e.jsxDEV("strong",{children:l.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:268,columnNumber:28},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:262,columnNumber:13},this),e.jsxDEV("p",{className:"success-subtitle",children:a?`${a.first_name} can now access the course materials and join sessions.`:"You can now access the course materials and join sessions."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:270,columnNumber:13},this),e.jsxDEV("div",{className:"success-actions",children:[e.jsxDEV("button",{onClick:()=>{t(!1),o("/my-courses")},className:"btn-primary",children:"View My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:277,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>t(!1),className:"btn-secondary",children:"Continue Browsing"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:286,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:276,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:259,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:258,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseDetail.jsx",lineNumber:130,columnNumber:5},this)}const xi={autism:"Autism Spectrum",adhd:"ADHD",dyslexia:"Dyslexia",dysgraphia:"Dysgraphia",dyscalculia:"Dyscalculia",other:"Other"},Es={autism:"#4A90E2",adhd:"#F5A623",dyslexia:"#7ED321",dysgraphia:"#9013FE",dyscalculia:"#FF6B6B",other:"#6C757D"};function ns({profile:r,size:s="medium",showLabel:i=!0}){return!r||!r.length?null:e.jsxDEV("div",{className:`neurodiversity-badges ${s}`,children:[i&&e.jsxDEV("span",{className:"badges-label",children:"Neurodiversity Profile:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:34,columnNumber:21},this),e.jsxDEV("div",{className:"badges-list",children:r.map((a,o)=>e.jsxDEV("span",{className:"neurodiversity-badge",style:{backgroundColor:Es[a]||Es.other,color:"white"},children:xi[a]||a},o,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:37,columnNumber:11},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:35,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/NeurodiversityBadges.jsx",lineNumber:33,columnNumber:5},this)}function is(){const{user:r,profile:s,activeStudent:i,activePortal:a,availablePortals:o}=ae(),[n,t]=m.useState([]),[l,u]=m.useState([]),[h,d]=m.useState({totalCourses:0,totalInstructors:0,sessionsCompleted:0}),[N,p]=m.useState(!0),[f,b]=m.useState(""),[T,C]=m.useState(null),S=k=>k?k.charAt(0).toUpperCase()+k.slice(1).toLowerCase():"";m.useEffect(()=>{(async()=>{if(r)try{p(!0),b("");const M=i!==null,E=(i==null?void 0:i.id)||r.id;console.log("üìö Fetching enrollments for:",{studentId:E,isStudentProfile:M,activeStudent:i});const P=await O(L.enrollments.getStudent,E,M);u(P),console.log("‚úÖ Enrollments fetched:",P);const I=P.map(w=>O(L.courses.getById,w.course_id)),W=await Promise.all(I);t(W);const $=new Set(W.map(w=>w.instructor_id)).size,ee=P.reduce((w,D)=>w+(D.progress||0),0);d({totalCourses:W.length,totalInstructors:$,sessionsCompleted:Math.floor(ee/10)})}catch(M){console.error("Error fetching enrolled courses:",M),b("Failed to load your courses")}finally{p(!1)}})()},[r,i]);const x=async(k,M)=>{if(window.confirm(`Are you sure you want to unenroll from "${M}"?`))try{if(C(k),!l.find(I=>I.course_id===k))throw new Error("Enrollment not found");const P=(i==null?void 0:i.id)||r.id;await O(L.enrollments.withdraw,k,P),t(n.filter(I=>I.id!==k)),u(l.filter(I=>I.course_id!==k)),d(I=>({...I,totalCourses:I.totalCourses-1}))}catch(E){console.error("Error unenrolling:",E),alert("Failed to unenroll. Please try again.")}finally{C(null)}};return N?e.jsxDEV("div",{className:"my-courses",children:e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:"Loading your courses..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:118,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:117,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:116,columnNumber:7},this):f?e.jsxDEV("div",{className:"my-courses",children:e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:f},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:128,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:127,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:126,columnNumber:7},this):e.jsxDEV("div",{className:"my-courses",children:[o&&o.length>1&&e.jsxDEV("div",{className:"dashboard-portal-switcher",children:e.jsxDEV(ts,{currentPortal:a,availablePortals:o,compact:!1},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:139,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:138,columnNumber:9},this),e.jsxDEV("div",{className:"dashboard-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{children:i?`${S(i.first_name)}'s Dashboard`:"My Learning Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:149,columnNumber:11},this),e.jsxDEV("div",{className:"student-profile-summary",children:[e.jsxDEV("p",{children:i?`Learning progress for ${S(i.first_name)}`:`Welcome back, ${(s==null?void 0:s.first_name)||"Student"}!`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:156,columnNumber:13},this),(i==null?void 0:i.neurodiversity_profile)&&i.neurodiversity_profile.length>0&&e.jsxDEV(ns,{profile:i.neurodiversity_profile,size:"small",showLabel:!1},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:163,columnNumber:15},this),!i&&(s==null?void 0:s.neurodiversity_profile)&&s.neurodiversity_profile.length>0&&e.jsxDEV(ns,{profile:s.neurodiversity_profile,size:"small",showLabel:!1},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:155,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:148,columnNumber:9},this),e.jsxDEV("div",{className:"dashboard-header-actions",children:[e.jsxDEV(K,{to:"/learn/marketplace",className:"btn-primary",children:"Browse More Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:179,columnNumber:11},this),o&&o.includes("teach")&&e.jsxDEV(K,{to:"/teach/create-course",className:"btn-secondary",children:"Create Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:183,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:178,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:147,columnNumber:7},this),e.jsxDEV("div",{className:"stats-grid",children:[e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:h.totalCourses},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:192,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Enrolled Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:193,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:191,columnNumber:9},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:h.totalInstructors},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:196,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Instructors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:197,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:195,columnNumber:9},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:h.sessionsCompleted},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:200,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Sessions Completed"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:201,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:199,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:190,columnNumber:7},this),e.jsxDEV("div",{className:"dashboard-section",children:[e.jsxDEV("h2",{children:"My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:206,columnNumber:9},this),n.length>0?e.jsxDEV("div",{className:"student-courses-list",children:n.map(k=>e.jsxDEV("div",{className:"student-course-card",children:[e.jsxDEV("div",{className:"course-details",children:[e.jsxDEV("h3",{children:k.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:216,columnNumber:21},this),e.jsxDEV("div",{className:"course-meta",children:[e.jsxDEV("span",{className:"instructor-name",children:["üë®‚Äçüè´ ",k.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:218,columnNumber:23},this),!k.is_self_paced&&k.session_duration&&e.jsxDEV("span",{className:"session-info",children:["üìÖ ",k.session_duration," min sessions"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:220,columnNumber:25},this),k.is_self_paced&&e.jsxDEV("span",{className:"session-info",children:"‚è∞ Self-paced"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:225,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:217,columnNumber:21},this),e.jsxDEV("div",{className:"progress-section",children:[e.jsxDEV("div",{className:"progress-bar",children:e.jsxDEV("div",{className:"progress-fill",style:{width:"35%"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:231,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:230,columnNumber:23},this),e.jsxDEV("span",{className:"progress-text",children:[Math.round(35),"% Complete"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:233,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:229,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:215,columnNumber:19},this),e.jsxDEV("div",{className:"course-actions",children:[e.jsxDEV(K,{to:`/courses/${k.id}`,className:"btn-secondary",children:"View Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:238,columnNumber:21},this),e.jsxDEV(K,{to:`/learn/course/${k.id}/view`,className:"btn-primary",children:"Continue Learning"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:241,columnNumber:21},this),e.jsxDEV("button",{onClick:()=>x(k.id,k.title),className:"btn-danger",disabled:T===k.id,children:T===k.id?"Unenrolling...":"Unenroll"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:244,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:237,columnNumber:19},this)]},k.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:214,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:208,columnNumber:11},this):e.jsxDEV("div",{className:"empty-state",children:[e.jsxDEV("p",{children:"You haven't enrolled in any courses yet."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:258,columnNumber:13},this),e.jsxDEV(K,{to:"/learn/marketplace",className:"btn-primary",children:"Browse Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:259,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:257,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:205,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/MyCourses.jsx",lineNumber:135,columnNumber:5},this)}function Ye({featureName:r="this feature"}){const[s,i]=m.useState("https://www.gofundme.com/f/help-me-support-autism-awareness-and-families-with-genai");return m.useEffect(()=>{(async()=>{try{const o=Intl.DateTimeFormat().resolvedOptions().timeZone;if(o==="Asia/Kolkata"||o==="Asia/Calcutta")i("https://milaap.org/fundraisers/support-autistic-kids-1");else try{(await(await fetch("https://ipapi.co/json/")).json()).country_code==="IN"&&i("https://milaap.org/fundraisers/support-autistic-kids-1")}catch{console.log("Geolocation detection failed, using default link")}}catch{console.log("Location detection failed, using default link")}})()},[]),e.jsxDEV("div",{className:"coming-soon-banner",children:[e.jsxDEV("div",{className:"coming-soon-icon",children:"üöß"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/ComingSoonBanner.jsx",lineNumber:39,columnNumber:7},this),e.jsxDEV("div",{className:"coming-soon-content",children:[e.jsxDEV("h3",{children:"Coming Soon!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/ComingSoonBanner.jsx",lineNumber:41,columnNumber:9},this),e.jsxDEV("p",{children:["We're actively developing ",r,". Your support helps us build these features faster and keep UniqueBrains free for everyone."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/ComingSoonBanner.jsx",lineNumber:42,columnNumber:9},this),e.jsxDEV("a",{href:s,target:"_blank",rel:"noopener noreferrer",className:"donation-button",children:"üíö Support Development"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/ComingSoonBanner.jsx",lineNumber:45,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/ComingSoonBanner.jsx",lineNumber:40,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/ComingSoonBanner.jsx",lineNumber:38,columnNumber:5},this)}function vi({courseId:r,userId:s}){return e.jsxDEV("div",{className:"student-homework",children:e.jsxDEV(Ye,{featureName:"homework assignments"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentHomework.jsx",lineNumber:6,columnNumber:5},this)}function Si({courseId:r,userId:s}){return e.jsxDEV("div",{className:"student-resources",children:e.jsxDEV(Ye,{featureName:"course resources"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentResources.jsx",lineNumber:6,columnNumber:5},this)}function Ci({courseId:r,course:s}){const{user:i}=ae(),[a,o]=m.useState([]),[n,t]=m.useState(""),[l,u]=m.useState(!0),[h,d]=m.useState(!1),[N,p]=m.useState(""),[f,b]=m.useState(new Set),T=m.useRef(null),C=m.useRef(null),S=m.useRef(null),x=(s==null?void 0:s.course_type)==="group";m.useEffect(()=>(r&&i&&(k(),M()),()=>{C.current&&C.current.unsubscribe(),S.current&&S.current.unsubscribe()}),[r,i]),m.useEffect(()=>{E()},[a]);const k=async()=>{try{u(!0),p("");let w;x?w=await O(L.messages.getCourse,r,i.id):w=await O(L.messages.getConversation,r,i.id,s.instructor_id),o(w||[])}catch(w){console.error("Error loading messages:",w),p("Failed to load messages")}finally{u(!1)}},M=()=>{C.current=ws(r,{onMessage:w=>{if(console.log("üì® Received new message:",w),w.sender_id===i.id){console.log("Skipping own message from broadcast");return}x&&!w.recipient_id?o(D=>[...D,w]):x||(w.sender_id===s.instructor_id&&w.recipient_id===i.id||w.sender_id===i.id&&w.recipient_id===s.instructor_id)&&o(D=>[...D,w])}}),S.current=_s(r,i.id,{name:i.full_name||`${i.firstName} ${i.lastName}`,role:"student"},{onSync:w=>{const D=new Set;Object.values(w).forEach(y=>{y.forEach(V=>{V.user_id!==i.id&&D.add(V.user_id)})}),b(D)}})},E=()=>{var w;(w=T.current)==null||w.scrollIntoView({behavior:"smooth"})},P=async w=>{if(w.preventDefault(),!(!n.trim()||h))try{d(!0);const D={content:n.trim(),recipient_id:x?null:s.instructor_id},y=await O(L.messages.send,r,D,i.id);y&&o(V=>[...V,y]),t("")}catch(D){console.error("Error sending message:",D),alert("Failed to send message. Please try again.")}finally{d(!1)}},I=w=>{const D=new Date(w);return(new Date-D)/(1e3*60*60)<24?D.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):D.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})},W=w=>{var D;return w.students&&w.students.first_name?`${w.students.first_name} ${w.students.last_name}`:((D=w.profiles)==null?void 0:D.full_name)||"Unknown"},$=w=>f.has(w),ee=()=>$(s==null?void 0:s.instructor_id);return l?e.jsxDEV("div",{className:"student-chat",children:e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"2rem"},children:e.jsxDEV("p",{children:"Loading chat..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:194,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:193,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:192,columnNumber:7},this):N?e.jsxDEV("div",{className:"student-chat",children:e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"2rem"},children:[e.jsxDEV("p",{children:N},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:204,columnNumber:11},this),e.jsxDEV("button",{onClick:k,className:"btn-primary",style:{marginTop:"1rem"},children:"Try Again"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:205,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:203,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:202,columnNumber:7},this):e.jsxDEV("div",{className:"student-chat",children:[e.jsxDEV("h2",{children:[x?"üí¨ Class Chat":"üí¨ Chat with Your Instructor",!x&&ee()&&e.jsxDEV("span",{className:"online-indicator",title:"Instructor is online",children:"üü¢"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:218,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:215,columnNumber:7},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:223,columnNumber:9},this),e.jsxDEV("p",{children:x?"Chat with your instructor and classmates":"Private conversation - only you and your instructor can see these messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:224,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:222,columnNumber:7},this),e.jsxDEV("div",{className:"chat-container",children:[e.jsxDEV("div",{className:"chat-messages",children:a.length>0?e.jsxDEV(e.Fragment,{children:[a.map(w=>e.jsxDEV("div",{className:`chat-message ${w.sender_id===i.id?"own":""}`,children:[e.jsxDEV("div",{className:"message-header",children:[e.jsxDEV("span",{className:"message-sender",children:[w.sender_id===i.id?"You":W(w),w.sender_id===s.instructor_id&&" (Instructor)",w.sender_id!==i.id&&$(w.sender_id)&&e.jsxDEV("span",{className:"online-indicator",title:"Online",children:"üü¢"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:245,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:241,columnNumber:21},this),e.jsxDEV("span",{className:"message-time",children:I(w.created_at)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:248,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:240,columnNumber:19},this),e.jsxDEV("div",{className:"message-content",children:w.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:250,columnNumber:19},this)]},w.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:236,columnNumber:17},this)),e.jsxDEV("div",{ref:T},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:253,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:234,columnNumber:13},this):e.jsxDEV("div",{className:"empty-chat",children:e.jsxDEV("p",{children:"No messages yet. Start the conversation!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:257,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:256,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:232,columnNumber:9},this),e.jsxDEV("div",{className:"chat-input-container",children:[e.jsxDEV("textarea",{value:n,onChange:w=>t(w.target.value),onKeyPress:w=>{w.key==="Enter"&&!w.shiftKey&&(w.preventDefault(),P(w))},placeholder:"Type your message...",className:"chat-input",rows:"3",disabled:h},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:263,columnNumber:11},this),e.jsxDEV("button",{onClick:P,className:"btn-primary send-button",disabled:!n.trim()||h,children:h?"Sending...":"Send"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:277,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:262,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:231,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentChat.jsx",lineNumber:214,columnNumber:5},this)}function ki({homework:r,onClose:s,onSubmit:i}){const[a,o]=m.useState(""),[n,t]=m.useState(null),[l,u]=m.useState(!1),[h,d]=m.useState(!1),N=f=>{const b=f.target.files[0];b&&t(b)},p=async()=>{if(r.submissionType==="text"&&!a.trim()){alert("Please enter your response before submitting");return}if(r.submissionType==="file"&&!n){alert("Please select a file to upload");return}u(!0),setTimeout(()=>{const f={homeworkId:r.id,submittedAt:new Date().toISOString(),content:r.submissionType==="text"?a:(n==null?void 0:n.name)||"Completed",feedback:null,feedbackAt:null};i(f),u(!1),d(!0),setTimeout(()=>{s()},1500)},500)};return h?e.jsxDEV("div",{className:"modal-overlay",onClick:s,children:e.jsxDEV("div",{className:"modal-content confirmation",onClick:f=>f.stopPropagation(),children:[e.jsxDEV("div",{className:"confirmation-icon",children:"‚úì"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:56,columnNumber:11},this),e.jsxDEV("h2",{children:"Homework Submitted!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:57,columnNumber:11},this),e.jsxDEV("p",{children:"Your instructor will review it soon."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:58,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:55,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:54,columnNumber:7},this):e.jsxDEV("div",{className:"modal-overlay",onClick:s,children:e.jsxDEV("div",{className:"modal-content",onClick:f=>f.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:"Submit Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:68,columnNumber:11},this),e.jsxDEV("button",{className:"close-button",onClick:s,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:69,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:67,columnNumber:9},this),e.jsxDEV("div",{className:"modal-body",children:[e.jsxDEV("h3",{children:r.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:73,columnNumber:11},this),e.jsxDEV("p",{className:"homework-description",children:r.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:74,columnNumber:11},this),e.jsxDEV("div",{className:"submission-info",children:[e.jsxDEV("span",{children:["üìÖ Due: ",new Date(r.dueDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:77,columnNumber:13},this),e.jsxDEV("span",{children:["üìé Type: ",r.submissionType==="text"?"Text Response":r.submissionType==="file"?"File Upload":"Checkmark Only"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:78,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:76,columnNumber:11},this),e.jsxDEV("div",{className:"submission-area",children:[r.submissionType==="text"&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"text-response",children:"Your Response *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:84,columnNumber:17},this),e.jsxDEV("textarea",{id:"text-response",value:a,onChange:f=>o(f.target.value),placeholder:"Type your response here...",rows:"8",className:"text-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:85,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:83,columnNumber:15},this),r.submissionType==="file"&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"file-upload",children:"Upload File *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:98,columnNumber:17},this),e.jsxDEV("input",{id:"file-upload",type:"file",onChange:N,className:"file-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:99,columnNumber:17},this),n&&e.jsxDEV("p",{className:"file-selected",children:["Selected: ",n.name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:106,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:97,columnNumber:15},this),r.submissionType==="checkmark"&&e.jsxDEV("div",{className:"checkmark-info",children:e.jsxDEV("p",{children:"‚úì Click submit to mark this assignment as complete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:113,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:112,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:81,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:119,columnNumber:13},this),e.jsxDEV("p",{children:"Your instructor will be notified when you submit this homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:120,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:118,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:72,columnNumber:9},this),e.jsxDEV("div",{className:"modal-footer",children:[e.jsxDEV("button",{className:"btn-secondary",onClick:s,disabled:l,children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:125,columnNumber:11},this),e.jsxDEV("button",{className:"btn-primary",onClick:p,disabled:l,children:l?"Submitting...":"Submit Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:132,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:124,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:66,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkSubmissionModal.jsx",lineNumber:65,columnNumber:5},this)}function Di({homework:r,submission:s,onClose:i}){return e.jsxDEV("div",{className:"modal-overlay",onClick:i,children:e.jsxDEV("div",{className:"modal-content",onClick:a=>a.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:"Homework Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:8,columnNumber:11},this),e.jsxDEV("button",{className:"close-button",onClick:i,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:9,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:7,columnNumber:9},this),e.jsxDEV("div",{className:"modal-body",children:[e.jsxDEV("h3",{children:r.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:13,columnNumber:11},this),e.jsxDEV("p",{className:"homework-description",children:r.description},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:14,columnNumber:11},this),e.jsxDEV("div",{className:"details-section",children:[e.jsxDEV("h4",{children:"Submission Information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:17,columnNumber:13},this),e.jsxDEV("div",{className:"info-grid",children:[e.jsxDEV("div",{className:"info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Due Date:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:20,columnNumber:17},this),e.jsxDEV("span",{className:"info-value",children:new Date(r.dueDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:21,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:19,columnNumber:15},this),e.jsxDEV("div",{className:"info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Submitted:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:30,columnNumber:17},this),e.jsxDEV("span",{className:"info-value",children:new Date(s.submittedAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit"})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:31,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:29,columnNumber:15},this),e.jsxDEV("div",{className:"info-item",children:[e.jsxDEV("span",{className:"info-label",children:"Type:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:42,columnNumber:17},this),e.jsxDEV("span",{className:"info-value",children:r.submissionType==="text"?"Text Response":r.submissionType==="file"?"File Upload":"Checkmark Only"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:43,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:41,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:18,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:16,columnNumber:11},this),r.submissionType==="text"&&s.content&&e.jsxDEV("div",{className:"details-section",children:[e.jsxDEV("h4",{children:"Your Response"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:56,columnNumber:15},this),e.jsxDEV("div",{className:"response-content",children:s.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:57,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:55,columnNumber:13},this),r.submissionType==="file"&&s.content&&e.jsxDEV("div",{className:"details-section",children:[e.jsxDEV("h4",{children:"Submitted File"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:65,columnNumber:15},this),e.jsxDEV("div",{className:"file-info",children:[e.jsxDEV("span",{className:"file-icon",children:"üìé"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:67,columnNumber:17},this),e.jsxDEV("span",{className:"file-name",children:s.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:68,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:66,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:64,columnNumber:13},this),s.feedback?e.jsxDEV("div",{className:"details-section feedback-section",children:[e.jsxDEV("h4",{children:"Instructor Feedback"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:75,columnNumber:15},this),e.jsxDEV("div",{className:"feedback-content",children:[e.jsxDEV("p",{children:s.feedback},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:77,columnNumber:17},this),s.feedbackAt&&e.jsxDEV("p",{className:"feedback-date",children:["Received: ",new Date(s.feedbackAt).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:79,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:76,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:74,columnNumber:13},this):e.jsxDEV("div",{className:"details-section",children:e.jsxDEV("div",{className:"pending-feedback-box",children:[e.jsxDEV("span",{className:"pending-icon",children:"‚è≥"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:92,columnNumber:17},this),e.jsxDEV("p",{children:"Waiting for instructor feedback..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:93,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:91,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:90,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:12,columnNumber:9},this),e.jsxDEV("div",{className:"modal-footer",children:e.jsxDEV("button",{className:"btn-primary",onClick:i,children:"Close"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:100,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:99,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:6,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/HomeworkDetailsModal.jsx",lineNumber:5,columnNumber:5},this)}function Ti(){const{courseId:r}=Ae(),s=be(),[i,a]=ls(),{user:o,activeStudent:n}=ae(),[t,l]=m.useState(null),[u,h]=m.useState([]),[d,N]=m.useState(!0),[p,f]=m.useState(""),b=i.get("tab")||"sessions",[T,C]=m.useState(0),[S,x]=m.useState(0),[k,M]=m.useState(0),[E,P]=m.useState(!1),[I,W]=m.useState(null),[$,ee]=m.useState(!1),[w,D]=m.useState(null);m.useEffect(()=>{(async()=>{if(r)try{N(!0),f(""),console.log("üìö Fetching course:",r);const H=await O(L.courses.getById,r);console.log("‚úÖ Course fetched:",H),l(H);const ie=(n==null?void 0:n.id)||o.id,oe=await O(L.sessions.getCourse,r,ie);console.log("‚úÖ Sessions fetched:",oe),h(oe||[])}catch(H){console.error("Error fetching course:",H),f("Failed to load course")}finally{N(!1)}})()},[r,o,n]),m.useEffect(()=>{y();const B=setInterval(y,5e3);return()=>clearInterval(B)},[r,o.id,b]),m.useEffect(()=>{const B=ie=>{W(ie.detail.homework),P(!0)},H=ie=>{W(ie.detail.homework),D(ie.detail.submission),ee(!0)};return window.addEventListener("openSubmissionModal",B),window.addEventListener("viewSubmissionDetails",H),()=>{window.removeEventListener("openSubmissionModal",B),window.removeEventListener("viewSubmissionDetails",H)}},[]);const y=()=>{const B=localStorage.getItem(`chat_${r}`);if(B){const ve=JSON.parse(B).filter(Se=>Se.senderRole==="instructor"&&!Se.readBy.includes(o.id)).length;C(ve)}const H=JSON.parse(localStorage.getItem(`viewed_homework_${r}_${o.id}`)||"[]"),oe=JSON.parse(localStorage.getItem(`homework_${r}`)||"[]").filter(pe=>!H.includes(pe.id)).length;x(oe);const Ne=JSON.parse(localStorage.getItem(`viewed_resources_${r}_${o.id}`)||"[]"),ke=JSON.parse(localStorage.getItem(`resources_${r}`)||"[]").filter(pe=>!Ne.includes(pe.id)).length;M(ke)},V=B=>{if(a({tab:B}),B==="chat"){C(0);const H=localStorage.getItem(`chat_${r}`);if(H){const oe=JSON.parse(H).map(Ne=>({...Ne,readBy:Ne.readBy.includes(o.id)?Ne.readBy:[...Ne.readBy,o.id]}));localStorage.setItem(`chat_${r}`,JSON.stringify(oe))}}else if(B==="homework"){x(0);const ie=JSON.parse(localStorage.getItem(`homework_${r}`)||"[]").map(oe=>oe.id);localStorage.setItem(`viewed_homework_${r}_${o.id}`,JSON.stringify(ie))}else if(B==="resources"){M(0);const ie=JSON.parse(localStorage.getItem(`resources_${r}`)||"[]").map(oe=>oe.id);localStorage.setItem(`viewed_resources_${r}_${o.id}`,JSON.stringify(ie))}},R=B=>{const H=JSON.parse(localStorage.getItem(`submissions_${r}_${o.id}`)||"{}");H[B.homeworkId]=B,localStorage.setItem(`submissions_${r}_${o.id}`,JSON.stringify(H)),P(!1),W(null),y()};if(d)return e.jsxDEV("div",{className:"student-course-view",children:e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:"Loading course..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:174,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:173,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:172,columnNumber:7},this);if(p||!t)return e.jsxDEV("div",{className:"student-course-view",children:e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"3rem"},children:[e.jsxDEV("p",{children:p||"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:184,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>s("/my-courses"),className:"btn-primary",style:{marginTop:"1rem"},children:"‚Üê Back to My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:185,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:183,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:182,columnNumber:7},this);const G=new Date,Y=u.length,me=u.filter(B=>new Date(B.session_date)<G).length,U=Y>0?Math.round(me/Y*100):0,F=B=>{const H=new Date(B.session_date);return{date:H.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric",year:"numeric"}),time:H.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}};return e.jsxDEV("div",{className:"student-course-view",children:[e.jsxDEV("div",{className:"student-course-header",children:[e.jsxDEV("button",{onClick:()=>s("/my-courses"),className:"back-button",children:"‚Üê Back to My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:220,columnNumber:9},this),e.jsxDEV("h1",{children:t.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:223,columnNumber:9},this),e.jsxDEV("p",{className:"course-instructor",children:["with ",t.instructorName]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:224,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:219,columnNumber:7},this),e.jsxDEV("div",{className:"course-tabs",children:[e.jsxDEV("button",{className:`tab-button ${b==="sessions"?"active":""}`,onClick:()=>V("sessions"),children:"üìÖ Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:228,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${b==="homework"?"active":""}`,onClick:()=>V("homework"),children:["üìù Homework",S>0&&e.jsxDEV("span",{className:"notification-badge",children:S},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:239,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:234,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${b==="resources"?"active":""}`,onClick:()=>V("resources"),children:["üìö Resources",k>0&&e.jsxDEV("span",{className:"notification-badge",children:k},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:246,columnNumber:32},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:241,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${b==="chat"?"active":""}`,onClick:()=>V("chat"),children:["üí¨ Chat",T>0&&e.jsxDEV("span",{className:"notification-badge",children:T},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:253,columnNumber:34},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:248,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:227,columnNumber:7},this),e.jsxDEV("div",{className:"tab-content",children:[b==="sessions"&&e.jsxDEV("div",{className:"tab-panel",children:[e.jsxDEV("h2",{children:"Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:260,columnNumber:13},this),Y>0&&e.jsxDEV("div",{className:"course-progress-section",children:[e.jsxDEV("div",{className:"progress-header",children:[e.jsxDEV("span",{className:"progress-label",children:"Course Progress"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:266,columnNumber:19},this),e.jsxDEV("span",{className:"progress-percentage",children:[U,"% Complete"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:267,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:265,columnNumber:17},this),e.jsxDEV("div",{className:"progress-bar",children:e.jsxDEV("div",{className:"progress-fill",style:{width:`${U}%`}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:270,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:269,columnNumber:17},this),e.jsxDEV("div",{className:"progress-stats",children:e.jsxDEV("span",{children:[me," of ",Y," sessions completed"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:273,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:272,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:264,columnNumber:15},this),t.course_type==="group"&&t.selected_days&&t.selected_days.length>0&&e.jsxDEV("div",{className:"course-schedule-info",children:[e.jsxDEV("h3",{children:"üìÖ Class Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:281,columnNumber:17},this),e.jsxDEV("div",{className:"schedule-details-grid",children:[e.jsxDEV("div",{className:"schedule-detail",children:[e.jsxDEV("span",{className:"detail-label",children:"Days:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:284,columnNumber:21},this),e.jsxDEV("span",{className:"detail-value",children:t.selected_days.join(", ")},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:285,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:283,columnNumber:19},this),e.jsxDEV("div",{className:"schedule-detail",children:[e.jsxDEV("span",{className:"detail-label",children:"Time:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:288,columnNumber:21},this),e.jsxDEV("span",{className:"detail-value",children:t.session_time||"To be announced"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:289,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:287,columnNumber:19},this),e.jsxDEV("div",{className:"schedule-detail",children:[e.jsxDEV("span",{className:"detail-label",children:"Duration:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:292,columnNumber:21},this),e.jsxDEV("span",{className:"detail-value",children:[t.session_duration," minutes"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:293,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:291,columnNumber:19},this),e.jsxDEV("div",{className:"schedule-detail",children:[e.jsxDEV("span",{className:"detail-label",children:"Frequency:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:296,columnNumber:21},this),e.jsxDEV("span",{className:"detail-value",children:t.frequency||"Weekly"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:297,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:295,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:282,columnNumber:17},this),t.start_date&&e.jsxDEV("div",{className:"schedule-dates",children:[e.jsxDEV("span",{className:"detail-label",children:"Start Date:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:302,columnNumber:21},this),e.jsxDEV("span",{className:"detail-value",children:new Date(t.start_date).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:303,columnNumber:21},this),t.has_end_date&&t.end_date&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"detail-label",style:{marginLeft:"2rem"},children:"End Date:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:306,columnNumber:25},this),e.jsxDEV("span",{className:"detail-value",children:new Date(t.end_date).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:307,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:305,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:301,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:280,columnNumber:15},this),t.course_type==="one-on-one"&&e.jsxDEV("div",{className:"course-schedule-info",children:[e.jsxDEV("h3",{children:"üìÖ Class Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:317,columnNumber:17},this),e.jsxDEV("p",{className:"schedule-note",children:"üìù Your class schedule will be arranged directly with your instructor after enrollment. They will reach out to you to find times that work best for both of you."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:318,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:316,columnNumber:15},this),u.length>0?e.jsxDEV("div",{className:"sessions-list-student",children:[e.jsxDEV("h3",{children:"All Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:328,columnNumber:17},this),u.map(B=>{const{date:H,time:ie}=F(B),oe=new Date(B.session_date)<G,Ne=B.meeting_link||t.meeting_link;return e.jsxDEV("div",{className:`session-item-student ${oe?"past":"upcoming"}`,children:[e.jsxDEV("div",{className:"session-date-time",children:[e.jsxDEV("div",{className:"session-date",children:H},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:337,columnNumber:25},this),e.jsxDEV("div",{className:"session-time",children:ie},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:338,columnNumber:25},this),e.jsxDEV("div",{className:"session-duration",children:[B.duration_minutes," min"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:339,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:336,columnNumber:23},this),e.jsxDEV("div",{className:"session-details",children:[e.jsxDEV("div",{className:"session-title",children:B.title||"Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:342,columnNumber:25},this),Ne&&e.jsxDEV("a",{href:Ne,target:"_blank",rel:"noopener noreferrer",className:"meeting-link-button",children:"üîó Join Meeting"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:346,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:341,columnNumber:23},this),e.jsxDEV("div",{className:"session-status",children:oe?e.jsxDEV("span",{className:"status-badge completed",children:"‚úì Completed"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:358,columnNumber:27},this):e.jsxDEV("span",{className:"status-badge upcoming",children:"Upcoming"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:360,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:356,columnNumber:23},this)]},B.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:335,columnNumber:21},this)})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:327,columnNumber:15},this):e.jsxDEV("div",{className:"info-banner",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:369,columnNumber:17},this),e.jsxDEV("p",{children:"Your upcoming class sessions will appear here. Check back soon!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:370,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:368,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:259,columnNumber:11},this),b==="homework"&&e.jsxDEV("div",{className:"tab-panel",children:e.jsxDEV(vi,{courseId:r,userId:o.id},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:378,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:377,columnNumber:11},this),b==="resources"&&e.jsxDEV("div",{className:"tab-panel",children:e.jsxDEV(Si,{courseId:r,userId:o.id},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:384,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:383,columnNumber:11},this),b==="chat"&&e.jsxDEV("div",{className:"tab-panel",children:e.jsxDEV(Ci,{courseId:r,userId:o.id,course:t},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:390,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:389,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:257,columnNumber:7},this),E&&I&&e.jsxDEV(ki,{homework:I,onClose:()=>{P(!1),W(null)},onSubmit:R},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:397,columnNumber:9},this),$&&I&&w&&e.jsxDEV(Di,{homework:I,submission:w,onClose:()=>{ee(!1),W(null),D(null)}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:409,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentCourseView.jsx",lineNumber:218,columnNumber:5},this)}function ys(){const{students:r,addStudent:s,updateStudent:i,deleteStudent:a,activeStudent:o,switchStudent:n,refreshStudents:t}=ae(),[l,u]=m.useState(!1),[h,d]=m.useState(null),[N,p]=m.useState({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""}),f=E=>E?E.charAt(0).toUpperCase()+E.slice(1).toLowerCase():"";m.useEffect(()=>{t()},[t]);const b=[{value:"autism",label:"Autism Spectrum"},{value:"adhd",label:"ADHD"},{value:"dyslexia",label:"Dyslexia"},{value:"multiple",label:"Multiple Conditions"},{value:"other",label:"Other"}],T=E=>{p({...N,[E.target.name]:E.target.value})},C=E=>{const P=N.neurodiversityProfile;P.includes(E)?p({...N,neurodiversityProfile:P.filter(I=>I!==E)}):p({...N,neurodiversityProfile:[...P,E]})},S=()=>{p({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""}),d(null),u(!0)},x=E=>{p({firstName:E.first_name,age:E.age,neurodiversityProfile:E.neurodiversity_profile||[],otherNeeds:E.other_needs||""}),d(E),u(!0)},k=E=>{if(E.preventDefault(),h){const P={first_name:N.firstName,age:parseInt(N.age),neurodiversity_profile:N.neurodiversityProfile,other_needs:N.otherNeeds};i(h.id,P)}else s(N);u(!1),p({firstName:"",age:"",neurodiversityProfile:[],otherNeeds:""})},M=E=>{if(r.length===1){alert("You must have at least one student profile");return}window.confirm("Are you sure you want to delete this student profile? This will remove all their enrollments.")&&a(E)};return e.jsxDEV("div",{className:"manage-students",children:[e.jsxDEV("div",{className:"students-header",children:[e.jsxDEV("h1",{children:"Manage Children Profiles"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:118,columnNumber:9},this),e.jsxDEV("button",{onClick:S,className:"btn-primary",children:"+ Add Child"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:117,columnNumber:7},this),e.jsxDEV("div",{className:"students-grid",children:r.map(E=>{var P,I;return e.jsxDEV("div",{className:`student-card ${(o==null?void 0:o.id)===E.id?"active":""}`,children:[e.jsxDEV("div",{className:"student-info",children:[e.jsxDEV("div",{className:"student-avatar",children:((P=E.first_name)==null?void 0:P.charAt(0).toUpperCase())||"?"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:131,columnNumber:15},this),e.jsxDEV("div",{className:"student-details",children:[e.jsxDEV("h3",{children:f(E.first_name)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:135,columnNumber:17},this),e.jsxDEV("p",{className:"student-age",children:["Age: ",E.age]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:136,columnNumber:17},this),E.neurodiversity_profile&&E.neurodiversity_profile.length>0&&e.jsxDEV("div",{className:"student-profile",children:E.neurodiversity_profile.map(W=>{var $;return e.jsxDEV("span",{className:"profile-badge",children:(($=b.find(ee=>ee.value===W))==null?void 0:$.label)||W},W,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:140,columnNumber:23},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:138,columnNumber:19},this),e.jsxDEV("p",{className:"student-courses",children:[((I=E.enrolledCourses)==null?void 0:I.length)||0," courses enrolled"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:146,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:134,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:130,columnNumber:13},this),e.jsxDEV("div",{className:"student-actions",children:[(o==null?void 0:o.id)!==E.id&&e.jsxDEV("button",{onClick:()=>n(E.id),className:"btn-secondary btn-sm",children:"Switch To"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:154,columnNumber:17},this),(o==null?void 0:o.id)===E.id&&e.jsxDEV("span",{className:"active-badge",children:"Active"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:162,columnNumber:17},this),e.jsxDEV("button",{onClick:()=>x(E),className:"btn-secondary btn-sm",children:"Edit"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:164,columnNumber:15},this),e.jsxDEV("button",{onClick:()=>M(E.id),className:"btn-secondary btn-sm btn-danger",children:"Delete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:170,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:152,columnNumber:13},this)]},E.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:126,columnNumber:11},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:124,columnNumber:7},this),l&&e.jsxDEV("div",{className:"modal-overlay",onClick:()=>u(!1),children:e.jsxDEV("div",{className:"modal-content",onClick:E=>E.stopPropagation(),children:[e.jsxDEV("h2",{children:h?"Edit Student":"Add New Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:184,columnNumber:13},this),e.jsxDEV("form",{onSubmit:k,children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"firstName",children:"First Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:187,columnNumber:17},this),e.jsxDEV("input",{id:"firstName",name:"firstName",type:"text",value:N.firstName,onChange:T,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:188,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:186,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"age",children:"Age"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:199,columnNumber:17},this),e.jsxDEV("input",{id:"age",name:"age",type:"number",value:N.age,onChange:T,required:!0,min:"3",max:"18"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:200,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:198,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"Learning Profile (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:213,columnNumber:17},this),e.jsxDEV("div",{className:"checkbox-group",children:b.map(E=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:N.neurodiversityProfile.includes(E.value),onChange:()=>C(E.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:217,columnNumber:23},this),e.jsxDEV("span",{children:E.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:222,columnNumber:23},this)]},E.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:216,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:214,columnNumber:17},this),N.neurodiversityProfile.includes("other")&&e.jsxDEV("div",{className:"nested-field",children:e.jsxDEV("input",{type:"text",name:"otherNeeds",placeholder:"Please describe specific needs...",value:N.otherNeeds,onChange:T},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:229,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:228,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:212,columnNumber:15},this),e.jsxDEV("div",{className:"modal-actions",children:[e.jsxDEV("button",{type:"button",onClick:()=>u(!1),className:"btn-secondary",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:241,columnNumber:17},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",children:h?"Update Student":"Add Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:244,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:240,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:185,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:183,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:182,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageStudents.jsx",lineNumber:116,columnNumber:5},this)}function xs(){const{user:r,profile:s,activePortal:i,availablePortals:a}=ae(),[o,n]=m.useState([]),[t,l]=m.useState(null),[u,h]=m.useState(!0),[d,N]=m.useState(""),[p,f]=m.useState(null);m.useEffect(()=>{r&&b()},[r]);const b=async()=>{try{h(!0);const C=await O(L.courses.getInstructorCourses,r.id);n(C||[]);const S=await O(L.enrollments.getStats,r.id);let x=0;const k=new Date;for(const M of C||[])try{const P=(await O(L.sessions.getCourse,M.id,r.id)||[]).filter(I=>new Date(I.session_date)<k).length;x+=P}catch(E){console.error(`Error fetching sessions for course ${M.id}:`,E)}l({...S,completedSessions:x}),console.log("Dashboard data loaded:",{courses:C,stats:S,completedSessions:x})}catch(C){console.error("Error fetching dashboard data:",C),N("Failed to load dashboard data")}finally{h(!1)}},T=async(C,S)=>{if(window.confirm(`Are you sure you want to delete "${S}"? This action cannot be undone.`))try{f(C),await O(L.courses.delete,C,r.id),n(o.filter(k=>k.id!==C));const x=await O(L.enrollments.getStats,r.id);l(x)}catch(x){console.error("Error deleting course:",x),alert("Failed to delete course. Please try again.")}finally{f(null)}};return e.jsxDEV("div",{className:"instructor-dashboard",children:[a&&a.length>1&&e.jsxDEV("div",{className:"dashboard-portal-switcher",children:e.jsxDEV(ts,{currentPortal:i,availablePortals:a,compact:!1},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:91,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:90,columnNumber:9},this),e.jsxDEV("div",{className:"dashboard-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{children:"Instructor Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:101,columnNumber:11},this),e.jsxDEV("div",{className:"instructor-profile-summary",children:[e.jsxDEV("p",{children:["Welcome back, ",(s==null?void 0:s.first_name)||"Instructor","!"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:103,columnNumber:13},this),(s==null?void 0:s.neurodiversity_profile)&&s.neurodiversity_profile.length>0&&e.jsxDEV(ns,{profile:s.neurodiversity_profile,size:"small",showLabel:!1},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:105,columnNumber:15},this),(!(s!=null&&s.bio)||!(s!=null&&s.neurodiversity_profile)||s.neurodiversity_profile.length===0)&&e.jsxDEV("div",{className:"profile-incomplete-notice",children:[e.jsxDEV("span",{children:"üìù Complete your instructor profile to help parents find you"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:113,columnNumber:17},this),e.jsxDEV(K,{to:"/onboarding",className:"btn-link",children:"Complete Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:114,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:112,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:102,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:100,columnNumber:9},this),e.jsxDEV(K,{to:"/teach/create-course",className:"btn-primary",children:"Create New Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:99,columnNumber:7},this),u?e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:"Loading dashboard..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:126,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:125,columnNumber:9},this):d?e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"3rem"},children:[e.jsxDEV("p",{children:d},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:130,columnNumber:11},this),e.jsxDEV("button",{onClick:b,className:"btn-primary",style:{marginTop:"1rem"},children:"Retry"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:131,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:129,columnNumber:9},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"stats-grid",children:[e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:o.length},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:139,columnNumber:15},this),e.jsxDEV("div",{className:"stat-label",children:"Total Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:140,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:138,columnNumber:13},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:(t==null?void 0:t.activeEnrollments)||0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:143,columnNumber:15},this),e.jsxDEV("div",{className:"stat-label",children:"Active Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:144,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:142,columnNumber:13},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:(t==null?void 0:t.completedSessions)||0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:147,columnNumber:15},this),e.jsxDEV("div",{className:"stat-label",children:"Sessions Completed"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:148,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:146,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:137,columnNumber:11},this),e.jsxDEV("div",{className:"dashboard-section",children:[e.jsxDEV("h2",{children:"My Courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:153,columnNumber:13},this),o.length===0?e.jsxDEV("div",{className:"empty-state",children:[e.jsxDEV("p",{children:"You haven't created any courses yet."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:156,columnNumber:17},this),e.jsxDEV(K,{to:"/teach/create-course",className:"btn-primary",children:"Create Your First Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:157,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:155,columnNumber:15},this):e.jsxDEV("div",{className:"instructor-courses-list",children:o.map(C=>{var k;const S=((k=t==null?void 0:t.enrollmentsByCourse[C.title])==null?void 0:k.active)||0,x=C.description&&C.description.length>150?C.description.substring(0,150)+"...":C.description;return e.jsxDEV("div",{className:"instructor-course-card",children:[e.jsxDEV("div",{className:"course-details",children:[e.jsxDEV("h3",{children:C.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:174,columnNumber:25},this),e.jsxDEV("div",{className:"course-stats",children:e.jsxDEV("span",{children:[S," active",C.enrollment_limit?` / ${C.enrollment_limit}`:""," students",C.enrollment_limit&&S>=C.enrollment_limit&&e.jsxDEV("span",{className:"full-indicator",children:" (FULL)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:180,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:176,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:175,columnNumber:25},this),x&&e.jsxDEV("p",{className:"course-description",children:x},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:185,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:173,columnNumber:23},this),e.jsxDEV("div",{className:"course-actions",children:[e.jsxDEV(K,{to:`/courses/${C.id}`,className:"btn-secondary",children:"View"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:189,columnNumber:25},this),e.jsxDEV(K,{to:`/teach/course/${C.id}/manage`,className:"btn-primary",children:"Manage Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:192,columnNumber:25},this),e.jsxDEV("button",{onClick:()=>T(C.id,C.title),className:"btn-danger",disabled:p===C.id,children:p===C.id?"Deleting...":"Delete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:195,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:188,columnNumber:23},this)]},C.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:172,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:162,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:152,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:136,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/InstructorDashboard.jsx",lineNumber:87,columnNumber:5},this)}function Ui(){const r=be(),{user:s}=ae(),[i,a]=m.useState(!1),[o,n]=m.useState(""),[t,l]=m.useState({title:"",description:"",category:"performing-arts",courseType:"group",price:"",sessionDuration:"",sessionTime:"",enrollmentLimit:"",meetingLink:"",startDate:"",repeatEvery:1,repeatUnit:"week",selectedDays:[],endDate:"",hasEndDate:!1}),u=N=>{const p=N.target.type==="checkbox"?N.target.checked:N.target.value;l({...t,[N.target.name]:p})},h=N=>{const p=t.selectedDays;p.includes(N)?l({...t,selectedDays:p.filter(f=>f!==N)}):l({...t,selectedDays:[...p,N]})},d=async N=>{if(N.preventDefault(),!s){n("You must be logged in to create a course");return}a(!0),n("");try{const p={title:t.title,description:t.description,category:t.category,courseType:t.courseType,sessionDuration:t.sessionDuration,enrollmentLimit:t.enrollmentLimit,meetingLink:t.meetingLink,startDate:t.startDate,sessionTime:t.sessionTime,selectedDays:t.selectedDays,hasEndDate:t.hasEndDate,endDate:t.endDate},f=await O(L.courses.create,p,s);console.log("Course created successfully:",f.course),alert(f.message),r("/instructor/dashboard")}catch(p){console.error("Error creating course:",p),n(p.message||"Failed to create course. Please try again.")}finally{a(!1)}};return e.jsxDEV("div",{className:"create-course",style:{padding:"1.5rem",maxWidth:"1200px",margin:"0 auto"},children:[e.jsxDEV("h1",{style:{marginBottom:"1rem",fontSize:"1.75rem"},children:"Create New Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:103,columnNumber:7},this),o&&e.jsxDEV("div",{className:"error-message",style:{background:"#fee2e2",border:"1px solid #fecaca",color:"#dc2626",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem"},children:o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:106,columnNumber:9},this),e.jsxDEV("form",{onSubmit:d,className:"auth-form",style:{maxWidth:"100%"},children:[e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1.5rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{children:[e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{htmlFor:"title",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Course Title *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:125,columnNumber:15},this),e.jsxDEV("input",{id:"title",name:"title",type:"text",value:t.title,onChange:u,required:!0,placeholder:"e.g., Introduction to Positive Parenting",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:126,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:124,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{htmlFor:"description",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Description *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:139,columnNumber:15},this),e.jsxDEV("textarea",{id:"description",name:"description",value:t.description,onChange:u,required:!0,rows:"3",placeholder:"Describe what students will learn...",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:140,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:138,columnNumber:13},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"category",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Category *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:154,columnNumber:17},this),e.jsxDEV("select",{id:"category",name:"category",value:t.category,onChange:u,required:!0,style:{padding:"0.5rem"},children:[e.jsxDEV("option",{value:"performing-arts",children:"Performing Arts üé≠"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:163,columnNumber:19},this),e.jsxDEV("option",{value:"visual-arts",children:"Visual Arts üé®"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:164,columnNumber:19},this),e.jsxDEV("option",{value:"parenting",children:"Parenting üë®‚Äçüë©‚Äçüëß‚Äçüë¶"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:165,columnNumber:19},this),e.jsxDEV("option",{value:"academics",children:"Academics üìö"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:166,columnNumber:19},this),e.jsxDEV("option",{value:"language",children:"Language üåç"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:167,columnNumber:19},this),e.jsxDEV("option",{value:"spirituality",children:"Spirituality üßò"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:168,columnNumber:19},this),e.jsxDEV("option",{value:"lifeskills",children:"Life Skills üê∑"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:169,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:155,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:153,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"courseType",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Course Type *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:174,columnNumber:17},this),e.jsxDEV("select",{id:"courseType",name:"courseType",value:t.courseType,onChange:u,required:!0,style:{padding:"0.5rem"},children:[e.jsxDEV("option",{value:"group",children:"Group Class üë•"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:183,columnNumber:19},this),e.jsxDEV("option",{value:"one-on-one",children:"One-on-One üë§"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:184,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:175,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:173,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:152,columnNumber:13},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"price",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Price ($)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:191,columnNumber:17},this),e.jsxDEV("input",{id:"price",name:"price",type:"number",value:"0.00",disabled:!0,style:{backgroundColor:"#f3f4f6",cursor:"not-allowed",color:"#6b7280",padding:"0.5rem"},placeholder:"0.00"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:192,columnNumber:17},this),e.jsxDEV("p",{style:{fontSize:"0.75rem",color:"#10b981",margin:"0.25rem 0 0 0"},children:"‚ú® Free for all"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:206,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:190,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"enrollmentLimit",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Max Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:212,columnNumber:17},this),e.jsxDEV("input",{id:"enrollmentLimit",name:"enrollmentLimit",type:"number",value:t.enrollmentLimit,onChange:u,min:"1",placeholder:"Unlimited",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:215,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:211,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:189,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:123,columnNumber:11},this),e.jsxDEV("div",{children:[t.courseType==="one-on-one"&&e.jsxDEV("div",{style:{background:"#dbeafe",borderLeft:"4px solid #3b82f6",padding:"0.75rem",borderRadius:"0.5rem",marginBottom:"1rem",fontSize:"0.85rem"},children:e.jsxDEV("p",{style:{margin:0,color:"#1e40af"},children:"‚ÑπÔ∏è Schedule individual sessions with each student after enrollment."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:240,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:232,columnNumber:15},this),t.courseType==="group"&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("h3",{style:{fontSize:"1.1rem",marginBottom:"0.75rem",color:"#374151"},children:"Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:248,columnNumber:17},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"sessionDuration",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Duration (min) *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:252,columnNumber:21},this),e.jsxDEV("input",{id:"sessionDuration",name:"sessionDuration",type:"number",value:t.sessionDuration,onChange:u,required:!0,min:"15",step:"15",placeholder:"60",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:253,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:251,columnNumber:19},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"sessionTime",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Time *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:268,columnNumber:21},this),e.jsxDEV("input",{id:"sessionTime",name:"sessionTime",type:"time",value:t.sessionTime,onChange:u,required:!0,style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:269,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:267,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:250,columnNumber:17},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"1rem",marginBottom:"1rem"},children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"startDate",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Start Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:283,columnNumber:21},this),e.jsxDEV("input",{id:"startDate",name:"startDate",type:"date",value:t.startDate,onChange:u,required:!0,style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:284,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:282,columnNumber:19},this),t.hasEndDate&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"endDate",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"End Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:297,columnNumber:23},this),e.jsxDEV("input",{id:"endDate",name:"endDate",type:"date",value:t.endDate,onChange:u,min:t.startDate,required:t.hasEndDate,style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:298,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:296,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:281,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Repeat Every *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:313,columnNumber:19},this),e.jsxDEV("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxDEV("input",{type:"number",name:"repeatEvery",value:t.repeatEvery,onChange:u,min:"1",max:"52",required:!0,style:{width:"80px",padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:315,columnNumber:21},this),e.jsxDEV("select",{name:"repeatUnit",value:t.repeatUnit,onChange:u,required:!0,style:{flex:1,padding:"0.5rem"},children:[e.jsxDEV("option",{value:"day",children:"Day(s)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:332,columnNumber:23},this),e.jsxDEV("option",{value:"week",children:"Week(s)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:333,columnNumber:23},this),e.jsxDEV("option",{value:"month",children:"Month(s)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:334,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:325,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:314,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:312,columnNumber:17},this),t.repeatUnit==="week"&&e.jsxDEV("div",{className:"form-group",style:{marginBottom:"1rem"},children:[e.jsxDEV("label",{style:{fontSize:"0.9rem",marginBottom:"0.5rem"},children:"On These Days *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:341,columnNumber:21},this),e.jsxDEV("div",{className:"days-selector",children:[{short:"M",full:"Monday"},{short:"T",full:"Tuesday"},{short:"W",full:"Wednesday"},{short:"T",full:"Thursday"},{short:"F",full:"Friday"},{short:"S",full:"Saturday"},{short:"S",full:"Sunday"}].map((N,p)=>e.jsxDEV("button",{type:"button",className:`day-button ${t.selectedDays.includes(N.full)?"active":""}`,onClick:()=>h(N.full),style:{padding:"0.5rem 0.75rem",fontSize:"0.9rem"},children:N.short},p,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:352,columnNumber:25},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:342,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:340,columnNumber:19},this),e.jsxDEV("div",{className:"form-group",children:e.jsxDEV("label",{style:{display:"flex",alignItems:"center",fontSize:"0.9rem"},children:[e.jsxDEV("input",{type:"checkbox",name:"hasEndDate",checked:t.hasEndDate,onChange:u,style:{marginRight:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:368,columnNumber:21},this),"Set an end date"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:367,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:366,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",style:{marginTop:"1rem"},children:[e.jsxDEV("label",{htmlFor:"meetingLink",style:{fontSize:"0.9rem",marginBottom:"0.25rem"},children:"Meeting Link (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:380,columnNumber:19},this),e.jsxDEV("input",{id:"meetingLink",name:"meetingLink",type:"url",value:t.meetingLink,onChange:u,placeholder:"https://zoom.us/j/... or https://meet.google.com/...",style:{padding:"0.5rem"}},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:383,columnNumber:19},this),e.jsxDEV("p",{style:{fontSize:"0.75rem",color:"#6b7280",margin:"0.25rem 0 0 0"},children:"üí° This link will be used for all sessions. You can add or update it later."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:392,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:379,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:247,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:230,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:120,columnNumber:9},this),e.jsxDEV("div",{style:{display:"flex",gap:"1rem",justifyContent:"flex-end",marginTop:"1.5rem",paddingTop:"1rem",borderTop:"1px solid #e5e7eb"},children:[e.jsxDEV("button",{type:"button",onClick:()=>r(-1),className:"btn-secondary",style:{minWidth:"120px"},children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:403,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",disabled:i,style:{minWidth:"120px"},children:i?"Creating...":"Create Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:406,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:402,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:118,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CreateCourse.jsx",lineNumber:102,columnNumber:5},this)}function Ps(){var Ue,De;const{courseId:r}=Ae(),s=be(),{user:i}=ae(),[a,o]=m.useState(null),[n,t]=m.useState([]),[l,u]=m.useState([]),[h,d]=m.useState(!0),[N,p]=m.useState(""),[f,b]=m.useState(""),[T,C]=m.useState(!1),[S,x]=m.useState(""),[k,M]=m.useState(null),[E,P]=m.useState({title:"",date:"",time:"",duration:60}),[I,W]=m.useState(!1),[$,ee]=m.useState({studentId:"",date:"",time:"",topic:"",meetingLink:""}),[w,D]=m.useState(!1),[y,V]=m.useState({studentId:"",selectedDays:[],time:"",duration:60,startDate:"",endDate:"",frequency:"weekly"}),[R,G]=m.useState({}),Y=(a==null?void 0:a.course_type)==="group",me=n.length;a!=null&&a.enrollment_limit;const U=Y?null:n.map(g=>({student:g,sessions:l.filter(q=>q.student_id===g.id)}));m.useEffect(()=>{r&&i&&F()},[r,i]);const F=async()=>{try{d(!0),p("");const g=await O(L.courses.getById,r);o(g),b(g.meeting_link||""),x(g.meeting_link||"");const q=await O(L.sessions.getCourse,r,i.id);if(g.course_type==="group"&&(!q||q.length===0)&&g.selected_days&&g.selected_days.length>0&&g.session_time&&g.start_date){console.log("Auto-generating sessions for group course...");const ce=await B(g);u(ce)}else u(q||[]);const se=(await O(L.enrollments.getCourse,r,i.id)).map(ce=>ce.profiles?{...ce.profiles}:null).filter(ce=>ce!==null);t(se)}catch(g){console.error("Error fetching course data:",g),p("Failed to load course data")}finally{d(!1)}},B=async g=>{const q=[],X=new Date(g.start_date),se=g.has_end_date&&g.end_date,ce=se?new Date(g.end_date):null,ne=se?1e3:5,[_e,Pe]=g.session_time.split(":");let Ee=new Date(X),Ve=1,he=0;for(;he<ne&&(!ce||Ee<=ce);){const ye=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][Ee.getDay()];if(g.selected_days.includes(ye)){const Ce=new Date(Ee);Ce.setHours(parseInt(_e),parseInt(Pe),0,0);const Me={title:`Topic ${Ve}`,description:"",session_date:Ce.toISOString(),duration:g.session_duration||60,meeting_link:g.meeting_link||"",student_id:null};try{const xe=await O(L.sessions.create,r,Me,i.id);q.push(xe),Ve++,he++}catch(xe){console.error("Error creating session:",xe)}}Ee.setDate(Ee.getDate()+1)}return console.log(`Generated ${q.length} sessions${se?"":" (5 initial sessions for open-ended course)"}`),q.sort((ye,Ce)=>new Date(ye.session_date)-new Date(Ce.session_date))};if(h)return e.jsxDEV("div",{className:"manage-sessions",children:e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"3rem"},children:e.jsxDEV("p",{children:"Loading sessions..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:242,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:241,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:240,columnNumber:7},this);if(N||!a)return e.jsxDEV("div",{className:"manage-sessions",children:e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"3rem"},children:[e.jsxDEV("p",{children:N||"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:252,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>s("/instructor/dashboard"),className:"btn-primary",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:253,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:251,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:250,columnNumber:7},this);const H=g=>{const q=new Date(g.session_date);M(g.id),P({title:g.title||"",date:q.toISOString().split("T")[0],time:q.toTimeString().slice(0,5),duration:g.duration_minutes||60})},ie=async()=>{try{await O(L.courses.update,r,{meeting_link:S},i.id),b(S),C(!1)}catch(g){console.error("Error updating meeting link:",g),alert("Failed to update meeting link")}},oe=()=>{x(f),C(!1)},Ne=async g=>{try{const q=new Date(`${E.date}T${E.time}`),X={title:E.title,session_date:q.toISOString(),duration_minutes:parseInt(E.duration)};await O(L.sessions.update,g,X,i.id),u(l.map(se=>se.id===g?{...se,...X}:se)),M(null),P({title:"",date:"",time:"",duration:60})}catch(q){console.error("Error updating session:",q),alert("Failed to update session")}},Te=()=>{M(null),P({title:"",date:"",time:"",duration:60})},ke=async g=>{if(confirm("Are you sure you want to delete this session? This action cannot be undone."))try{await O(L.sessions.delete,g,i.id),u(l.filter(q=>q.id!==g)),console.log("Session deleted successfully")}catch(q){console.error("Error deleting session:",q),alert("Failed to delete session")}},pe=async()=>{if(!$.date||!$.time){alert("Please fill in date and time");return}if(!Y&&!$.studentId){alert("Please select a student");return}try{const g=new Date(`${$.date}T${$.time}`),q=n.find(ce=>ce.id===$.studentId),X={title:$.topic||"Session",description:"",session_date:g.toISOString(),duration_minutes:60,meeting_link:$.meetingLink||f};!Y&&q&&(X.student_id=q.id);const se=await O(L.sessions.create,r,X,i.id);u([...l,se].sort((ce,ne)=>new Date(ce.session_date)-new Date(ne.session_date))),W(!1),ee({studentId:"",date:"",time:"",topic:"",meetingLink:""})}catch(g){console.error("Error creating session:",g),alert(g.message||"Failed to create session")}},ve=()=>{W(!1),ee({studentId:"",date:"",time:"",topic:"",meetingLink:""})},Se=(g=null)=>{const q=g?R[g]:R.group;V(q||{studentId:g||"",selectedDays:[],time:"",duration:60,startDate:new Date().toISOString().split("T")[0],endDate:"",frequency:"weekly"}),D(!0)},We=g=>{V(q=>({...q,selectedDays:q.selectedDays.includes(g)?q.selectedDays.filter(X=>X!==g):[...q.selectedDays,g]}))},$e=async()=>{if(!y.selectedDays.length||!y.time||!y.startDate){alert("Please fill in all required fields");return}if(!Y&&!y.studentId){alert("Please select a student");return}try{const g=[],q=new Date(y.startDate),X=y.endDate&&y.endDate.trim()!=="",se=X?new Date(y.endDate):null,ce=X?1e3:5;let ne=new Date(q),_e=1,Pe=0;for(;Pe<ce&&(!se||ne<=se);){const he=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"][ne.getDay()];if(y.selectedDays.includes(he)){const ye=new Date(ne),[Ce,Me]=y.time.split(":");ye.setHours(parseInt(Ce),parseInt(Me),0,0);const xe=n.find(Ge=>Ge.id===y.studentId),Ie={title:`Session ${_e}`,description:"",session_date:ye.toISOString(),duration_minutes:y.duration,meeting_link:f};!Y&&xe&&(Ie.student_id=xe.id);const ze=await O(L.sessions.create,r,Ie,i.id);g.push(ze),_e++,Pe++}ne.setDate(ne.getDate()+1)}u([...l,...g].sort((he,ye)=>new Date(he.session_date)-new Date(ye.session_date)));const Ee=Y?"group":y.studentId;G({...R,[Ee]:y}),D(!1);const Ve=X?`Created ${g.length} sessions from ${q.toLocaleDateString()} to ${se.toLocaleDateString()}`:`Created ${g.length} initial sessions starting ${q.toLocaleDateString()}`;alert(Ve)}catch(g){console.error("Error generating recurring sessions:",g),alert("Failed to generate sessions")}},qe=()=>{D(!1)},Fe=g=>{const q=new Date(g.session_date);return{date:q.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"}),time:q.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0})}};return e.jsxDEV("div",{className:"manage-sessions",children:[e.jsxDEV("div",{className:"sessions-header",children:e.jsxDEV("div",{children:[e.jsxDEV("button",{onClick:()=>s(-1),className:"back-button",children:"‚Üê Back"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:539,columnNumber:11},this),e.jsxDEV("h1",{children:"Manage Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:542,columnNumber:11},this),e.jsxDEV("p",{className:"course-title",children:a.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:543,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:538,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:537,columnNumber:7},this),e.jsxDEV("div",{className:"sessions-info-banner",children:e.jsxDEV("p",{children:["üí° ",Y?"Set session topics for your group classes. All enrolled students will see the same schedule.":"Set session topics based on each student's progress and learning needs. Topics help students prepare for upcoming classes."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:548,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:547,columnNumber:7},this),Y&&a.selected_days&&a.selected_days.length>0&&e.jsxDEV("div",{className:"course-schedule-info",children:[e.jsxDEV("h3",{children:"üìÖ Course Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:557,columnNumber:11},this),e.jsxDEV("div",{className:"schedule-details-grid",children:[e.jsxDEV("div",{className:"schedule-detail",children:[e.jsxDEV("span",{className:"detail-label",children:"Days:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:560,columnNumber:15},this),e.jsxDEV("span",{className:"detail-value",children:a.selected_days.join(", ")},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:561,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:559,columnNumber:13},this),e.jsxDEV("div",{className:"schedule-detail",children:[e.jsxDEV("span",{className:"detail-label",children:"Time:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:564,columnNumber:15},this),e.jsxDEV("span",{className:"detail-value",children:a.session_time||"Not set"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:565,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:563,columnNumber:13},this),e.jsxDEV("div",{className:"schedule-detail",children:[e.jsxDEV("span",{className:"detail-label",children:"Duration:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:568,columnNumber:15},this),e.jsxDEV("span",{className:"detail-value",children:[a.session_duration," minutes"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:569,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:567,columnNumber:13},this),e.jsxDEV("div",{className:"schedule-detail",children:[e.jsxDEV("span",{className:"detail-label",children:"Frequency:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:572,columnNumber:15},this),e.jsxDEV("span",{className:"detail-value",children:a.frequency||"Weekly"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:573,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:571,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:558,columnNumber:11},this),a.start_date&&e.jsxDEV("div",{className:"schedule-dates",children:[e.jsxDEV("span",{className:"detail-label",children:"Start Date:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:578,columnNumber:15},this),e.jsxDEV("span",{className:"detail-value",children:new Date(a.start_date).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:579,columnNumber:15},this),a.has_end_date&&a.end_date&&e.jsxDEV(e.Fragment,{children:[e.jsxDEV("span",{className:"detail-label",style:{marginLeft:"2rem"},children:"End Date:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:582,columnNumber:19},this),e.jsxDEV("span",{className:"detail-value",children:new Date(a.end_date).toLocaleDateString()},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:583,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:581,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:577,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:556,columnNumber:9},this),e.jsxDEV("div",{className:"course-meeting-link-section",children:[e.jsxDEV("h3",{children:"üìπ Course Meeting Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:592,columnNumber:9},this),e.jsxDEV("p",{className:"meeting-link-description",children:"Set one meeting link for all sessions in this course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:593,columnNumber:9},this),T?e.jsxDEV("div",{className:"meeting-link-edit",children:[e.jsxDEV("input",{type:"url",value:S,onChange:g=>x(g.target.value),placeholder:"https://zoom.us/j/... or https://meet.google.com/...",className:"meeting-link-input",autoFocus:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:596,columnNumber:13},this),e.jsxDEV("div",{className:"meeting-link-actions",children:[e.jsxDEV("button",{onClick:ie,className:"btn-primary btn-sm",children:"Save Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:605,columnNumber:15},this),e.jsxDEV("button",{onClick:oe,className:"btn-secondary btn-sm",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:608,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:604,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:595,columnNumber:11},this):e.jsxDEV("div",{className:"meeting-link-display-section",children:[e.jsxDEV("div",{className:"meeting-link-value",children:["üîó ",f||"No meeting link set"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:615,columnNumber:13},this),e.jsxDEV("button",{onClick:()=>C(!0),className:"btn-secondary btn-sm",children:f?"Edit Link":"Set Link"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:618,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:614,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:591,columnNumber:7},this),Y?e.jsxDEV(e.Fragment,{children:e.jsxDEV("div",{className:"sessions-container",children:[e.jsxDEV("div",{className:"sessions-header-row",children:[e.jsxDEV("h2",{children:"Group Sessions Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:629,columnNumber:15},this),e.jsxDEV("div",{className:"header-actions",children:e.jsxDEV("button",{onClick:()=>W(!0),className:"btn-primary",children:"+ Create Single Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:631,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:630,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:628,columnNumber:13},this),e.jsxDEV("div",{className:"sessions-list",children:l.map(g=>{const{date:q,time:X}=Fe(g);return e.jsxDEV("div",{className:"session-item",children:[e.jsxDEV("div",{className:"session-date-time",children:[e.jsxDEV("div",{className:"session-date",children:q},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:642,columnNumber:23},this),e.jsxDEV("div",{className:"session-time",children:X},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:643,columnNumber:23},this),e.jsxDEV("div",{className:"session-attendees",children:["üë• ",me," students"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:644,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:641,columnNumber:21},this),e.jsxDEV("div",{className:"session-topic-area",children:k===g.id?e.jsxDEV("div",{className:"topic-edit",children:[e.jsxDEV("div",{className:"edit-fields",children:[e.jsxDEV("input",{type:"text",value:E.title,onChange:se=>P({...E,title:se.target.value}),placeholder:"Enter session topic...",className:"topic-input",autoFocus:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:651,columnNumber:29},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.5rem"},children:[e.jsxDEV("input",{type:"date",value:E.date,onChange:se=>P({...E,date:se.target.value}),className:"topic-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:660,columnNumber:31},this),e.jsxDEV("input",{type:"time",value:E.time,onChange:se=>P({...E,time:se.target.value}),className:"topic-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:666,columnNumber:31},this),e.jsxDEV("input",{type:"number",value:E.duration,onChange:se=>P({...E,duration:se.target.value}),placeholder:"Duration (min)",className:"topic-input",min:"15",step:"15"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:672,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:659,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:650,columnNumber:27},this),e.jsxDEV("div",{className:"topic-actions",children:[e.jsxDEV("button",{onClick:()=>Ne(g.id),className:"btn-primary btn-sm",children:"Save"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:684,columnNumber:29},this),e.jsxDEV("button",{onClick:Te,className:"btn-secondary btn-sm",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:690,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:683,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:649,columnNumber:25},this):e.jsxDEV("div",{className:"topic-display",children:[e.jsxDEV("div",{className:"topic-info",children:g.title&&g.title.trim()?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text",children:g.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:703,columnNumber:33},this),e.jsxDEV("span",{className:"topic-status set",children:"‚úì Ready"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:704,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:702,columnNumber:31},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text empty",children:"No topic set yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:708,columnNumber:33},this),e.jsxDEV("span",{className:"topic-status pending",children:"‚ö† Pending"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:709,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:707,columnNumber:31},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:700,columnNumber:27},this),e.jsxDEV("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxDEV("button",{onClick:()=>H(g),className:"btn-secondary btn-sm",children:g.title?"Edit":"Set Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:714,columnNumber:29},this),e.jsxDEV("button",{onClick:()=>ke(g.id),className:"btn-secondary btn-sm",style:{color:"#dc2626"},children:"Delete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:720,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:713,columnNumber:27},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:699,columnNumber:25},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:647,columnNumber:21},this)]},g.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:640,columnNumber:19},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:636,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:627,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:626,columnNumber:9},this):e.jsxDEV("div",{className:"students-sessions",children:[e.jsxDEV("div",{className:"create-session-section",children:e.jsxDEV("button",{onClick:()=>W(!0),className:"btn-primary",children:"+ Create Single Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:740,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:739,columnNumber:11},this),U.map(({student:g,sessions:q})=>e.jsxDEV("div",{className:"student-section",children:[e.jsxDEV("div",{className:"student-header",children:[e.jsxDEV("div",{children:e.jsxDEV("h2",{children:[g.first_name," ",g.last_name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:749,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:748,columnNumber:17},this),e.jsxDEV("div",{className:"student-actions",children:e.jsxDEV("button",{onClick:()=>Se(g.id),className:"btn-secondary btn-sm",children:R[g.id]?"‚öôÔ∏è Edit Schedule":"üìÖ Set Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:752,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:751,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:747,columnNumber:15},this),e.jsxDEV("div",{className:"sessions-list",children:q.map(X=>{const{date:se,time:ce}=Fe(X);return e.jsxDEV("div",{className:"session-item",children:[e.jsxDEV("div",{className:"session-date-time",children:[e.jsxDEV("div",{className:"session-date",children:se},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:767,columnNumber:25},this),e.jsxDEV("div",{className:"session-time",children:ce},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:768,columnNumber:25},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:766,columnNumber:23},this),e.jsxDEV("div",{className:"session-topic-area",children:k===X.id?e.jsxDEV("div",{className:"topic-edit",children:[e.jsxDEV("div",{className:"edit-fields",children:[e.jsxDEV("input",{type:"text",value:E.title,onChange:ne=>P({...E,title:ne.target.value}),placeholder:"Enter session topic...",className:"topic-input",autoFocus:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:775,columnNumber:31},this),e.jsxDEV("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"0.5rem"},children:[e.jsxDEV("input",{type:"date",value:E.date,onChange:ne=>P({...E,date:ne.target.value}),className:"topic-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:784,columnNumber:33},this),e.jsxDEV("input",{type:"time",value:E.time,onChange:ne=>P({...E,time:ne.target.value}),className:"topic-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:790,columnNumber:33},this),e.jsxDEV("input",{type:"number",value:E.duration,onChange:ne=>P({...E,duration:ne.target.value}),placeholder:"Duration (min)",className:"topic-input",min:"15",step:"15"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:796,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:783,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:774,columnNumber:29},this),e.jsxDEV("div",{className:"topic-actions",children:[e.jsxDEV("button",{onClick:()=>Ne(X.id),className:"btn-primary btn-sm",children:"Save"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:808,columnNumber:31},this),e.jsxDEV("button",{onClick:Te,className:"btn-secondary btn-sm",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:814,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:807,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:773,columnNumber:27},this):e.jsxDEV("div",{className:"topic-display",children:[e.jsxDEV("div",{className:"topic-info",children:X.title&&X.title.trim()?e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text",children:X.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:827,columnNumber:35},this),e.jsxDEV("span",{className:"topic-status set",children:"‚úì Ready"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:828,columnNumber:35},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:826,columnNumber:33},this):e.jsxDEV(e.Fragment,{children:[e.jsxDEV("div",{className:"topic-text empty",children:"No topic set yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:832,columnNumber:35},this),e.jsxDEV("span",{className:"topic-status pending",children:"‚ö† Pending"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:833,columnNumber:35},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:831,columnNumber:33},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:824,columnNumber:29},this),e.jsxDEV("div",{style:{display:"flex",gap:"0.5rem"},children:[e.jsxDEV("button",{onClick:()=>H(X),className:"btn-secondary btn-sm",children:X.title?"Edit":"Set Details"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:838,columnNumber:31},this),e.jsxDEV("button",{onClick:()=>ke(X.id),className:"btn-secondary btn-sm",style:{color:"#dc2626"},children:"Delete"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:844,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:837,columnNumber:29},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:823,columnNumber:27},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:771,columnNumber:23},this)]},X.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:765,columnNumber:21},this)})},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:761,columnNumber:15},this)]},g.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:746,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:738,columnNumber:9},this),I&&e.jsxDEV("div",{className:"modal-overlay",onClick:ve,children:e.jsxDEV("div",{className:"modal-content",onClick:g=>g.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:"Create New Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:869,columnNumber:15},this),e.jsxDEV("button",{className:"close-button",onClick:ve,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:870,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:868,columnNumber:13},this),e.jsxDEV("div",{className:"modal-body",children:[!Y&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"student",children:"Student *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:876,columnNumber:19},this),e.jsxDEV("select",{id:"student",value:$.studentId,onChange:g=>ee({...$,studentId:g.target.value}),className:"form-input",children:[e.jsxDEV("option",{value:"",children:"Select a student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:883,columnNumber:21},this),n.map(g=>e.jsxDEV("option",{value:g.id,children:[g.first_name," ",g.last_name]},g.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:885,columnNumber:23},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:877,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:875,columnNumber:17},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"date",children:"Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:895,columnNumber:19},this),e.jsxDEV("input",{id:"date",type:"date",value:$.date,onChange:g=>ee({...$,date:g.target.value}),className:"form-input",min:new Date().toISOString().split("T")[0]},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:896,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:894,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"time",children:"Time *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:907,columnNumber:19},this),e.jsxDEV("input",{id:"time",type:"time",value:$.time,onChange:g=>ee({...$,time:g.target.value}),className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:908,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:906,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:893,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"topic",children:"Session Topic (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:919,columnNumber:17},this),e.jsxDEV("input",{id:"topic",type:"text",value:$.topic,onChange:g=>ee({...$,topic:g.target.value}),placeholder:"e.g., Review scales and introduce new piece",className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:920,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:918,columnNumber:15},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"meetingLink",children:"Meeting Link (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:931,columnNumber:17},this),e.jsxDEV("input",{id:"meetingLink",type:"url",value:$.meetingLink,onChange:g=>ee({...$,meetingLink:g.target.value}),placeholder:"https://zoom.us/j/... or https://meet.google.com/...",className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:932,columnNumber:17},this),e.jsxDEV("p",{className:"form-hint",children:["Leave blank to use course default: ",f]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:940,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:930,columnNumber:15},this),e.jsxDEV("div",{className:"info-banner-modal",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:944,columnNumber:17},this),e.jsxDEV("p",{children:Y?"This session will be visible to all enrolled students.":"After creating the session, you can discuss details with the student via chat."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:945,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:943,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:873,columnNumber:13},this),e.jsxDEV("div",{className:"modal-footer",children:[e.jsxDEV("button",{className:"btn-secondary",onClick:ve,children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:954,columnNumber:15},this),e.jsxDEV("button",{className:"btn-primary",onClick:pe,children:"Create Session"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:957,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:953,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:867,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:866,columnNumber:9},this),w&&e.jsxDEV("div",{className:"modal-overlay",onClick:qe,children:e.jsxDEV("div",{className:"modal-content modal-large",onClick:g=>g.stopPropagation(),children:[e.jsxDEV("div",{className:"modal-header",children:[e.jsxDEV("h2",{children:R[y.studentId||"group"]?"Edit Recurring Schedule":"Set up Recurring Schedule"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:970,columnNumber:15},this),e.jsxDEV("button",{className:"close-button",onClick:qe,children:"√ó"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:971,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:969,columnNumber:13},this),e.jsxDEV("div",{className:"modal-body",children:[!Y&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"recurring-student",children:"Student *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:977,columnNumber:19},this),e.jsxDEV("select",{id:"recurring-student",value:y.studentId,onChange:g=>V({...y,studentId:g.target.value}),className:"form-input",children:[e.jsxDEV("option",{value:"",children:"Select a student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:984,columnNumber:21},this),n.map(g=>e.jsxDEV("option",{value:g.id,children:[g.first_name," ",g.last_name]},g.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:986,columnNumber:23},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:978,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:976,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"On These Days *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:995,columnNumber:17},this),e.jsxDEV("div",{className:"day-selector",children:["Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday"].map(g=>e.jsxDEV("button",{type:"button",className:`day-button ${y.selectedDays.includes(g)?"selected":""}`,onClick:()=>We(g),children:g.substring(0,3)},g,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:998,columnNumber:21},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:996,columnNumber:17},this),e.jsxDEV("p",{className:"form-hint",children:"Select the days of the week when sessions will occur"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1008,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:994,columnNumber:15},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"recurring-time",children:"Session Time *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1013,columnNumber:19},this),e.jsxDEV("input",{id:"recurring-time",type:"time",value:y.time,onChange:g=>V({...y,time:g.target.value}),className:"form-input"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1014,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1012,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"duration",children:"Duration (minutes)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1024,columnNumber:19},this),e.jsxDEV("input",{id:"duration",type:"number",value:y.duration,onChange:g=>V({...y,duration:parseInt(g.target.value)}),className:"form-input",min:"15",step:"15"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1025,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1023,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1011,columnNumber:15},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"start-date",children:"Start Date *"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1039,columnNumber:19},this),e.jsxDEV("input",{id:"start-date",type:"date",value:y.startDate,onChange:g=>V({...y,startDate:g.target.value}),className:"form-input",min:new Date().toISOString().split("T")[0]},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1040,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1038,columnNumber:17},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"end-date",children:"End Date (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1051,columnNumber:19},this),e.jsxDEV("input",{id:"end-date",type:"date",value:y.endDate,onChange:g=>V({...y,endDate:g.target.value}),className:"form-input",min:y.startDate},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1052,columnNumber:19},this),e.jsxDEV("p",{className:"form-hint",children:"Leave blank to create 5 initial sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1060,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1050,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1037,columnNumber:15},this),e.jsxDEV("div",{className:"info-banner-modal",children:[e.jsxDEV("span",{className:"info-icon",children:"‚ÑπÔ∏è"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1065,columnNumber:17},this),e.jsxDEV("p",{children:Y?"This will create recurring sessions for all enrolled students on the selected days and time.":"This will create recurring sessions for the selected student. You can set different schedules for each student."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1066,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1064,columnNumber:15},this),y.selectedDays.length>0&&y.time&&y.startDate&&e.jsxDEV("div",{className:"schedule-preview",children:[e.jsxDEV("h4",{children:"Schedule Preview:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1075,columnNumber:19},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:y.selectedDays.join(", ")},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1077,columnNumber:21},this)," at ",e.jsxDEV("strong",{children:y.time},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1077,columnNumber:85},this),!Y&&y.studentId&&e.jsxDEV(e.Fragment,{children:[" for ",e.jsxDEV("strong",{children:[(Ue=n.find(g=>g.id===y.studentId))==null?void 0:Ue.first_name," ",(De=n.find(g=>g.id===y.studentId))==null?void 0:De.last_name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1079,columnNumber:30},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1079,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1076,columnNumber:19},this),e.jsxDEV("p",{className:"preview-detail",children:["Starting ",new Date(y.startDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"}),y.endDate&&e.jsxDEV(e.Fragment,{children:[" until ",new Date(y.endDate).toLocaleDateString("en-US",{month:"long",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1085,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1082,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1074,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:974,columnNumber:13},this),e.jsxDEV("div",{className:"modal-footer",children:[e.jsxDEV("button",{className:"btn-secondary",onClick:qe,children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1093,columnNumber:15},this),e.jsxDEV("button",{className:"btn-primary",onClick:$e,children:R[y.studentId||"group"]?"Update Schedule":"Generate Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1096,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:1092,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:968,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:967,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageSessions.jsx",lineNumber:536,columnNumber:5},this)}function Vi({course:r}){const{courseId:s}=Ae(),{user:i}=ae(),[a,o]=m.useState([]),[n,t]=m.useState(!0),[l,u]=m.useState(""),h=(r==null?void 0:r.course_type)==="group";m.useEffect(()=>{s&&i&&d()},[s,i]);const d=async()=>{try{t(!0),u("");const C=(await O(L.enrollments.getCourse,s,i.id)).map(S=>({...S.profiles?{id:S.profiles.id,first_name:S.profiles.first_name,last_name:S.profiles.last_name,full_name:S.profiles.full_name,neurodiversity_profile:S.profiles.neurodiversity_profile||[],avatar_url:S.profiles.avatar_url}:{},enrollmentId:S.id,enrolledAt:S.enrolled_at,status:S.status})).filter(S=>S.id);o(C)}catch(T){console.error("Error fetching enrolled students:",T),u("Failed to load enrolled students")}finally{t(!1)}},N=async T=>{const C=`${T.first_name} ${T.last_name}`;if(confirm(`Are you sure you want to remove ${C} from this course? This action cannot be undone.`))try{await O(L.enrollments.withdraw,s,T.id),o(a.filter(S=>S.id!==T.id)),alert(`${C} has been removed from the course.`)}catch(S){console.error("Error removing student:",S),alert("Failed to remove student. Please try again.")}};if(n)return e.jsxDEV("div",{className:"course-students",children:e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"2rem"},children:e.jsxDEV("p",{children:"Loading students..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:85,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:84,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:83,columnNumber:7},this);if(l)return e.jsxDEV("div",{className:"course-students",children:e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"2rem"},children:[e.jsxDEV("p",{children:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:95,columnNumber:11},this),e.jsxDEV("button",{onClick:d,className:"btn-primary",style:{marginTop:"1rem"},children:"Try Again"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:96,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:94,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:93,columnNumber:7},this);const p=a.length,f=(r==null?void 0:r.enrollment_limit)||0,b=f>0?Math.max(0,f-p):"‚àû";return e.jsxDEV("div",{className:"course-students",children:[h&&e.jsxDEV("div",{className:"course-stats-grid",children:[e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:p},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:113,columnNumber:13},this),e.jsxDEV("div",{className:"stat-label",children:"Enrolled Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:114,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:112,columnNumber:11},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:b},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:117,columnNumber:13},this),e.jsxDEV("div",{className:"stat-label",children:"Spots Remaining"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:116,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:111,columnNumber:9},this),e.jsxDEV("div",{className:"students-section",children:[e.jsxDEV("div",{className:"students-header",children:[e.jsxDEV("h2",{children:h?"üë• Enrolled Students":"üë§ Individual Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:125,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:["‚ÑπÔ∏è ",h?"All students attend the same group sessions together":"Each student has their own schedule and individual sessions"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:127,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:126,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:124,columnNumber:9},this),a.length>0?e.jsxDEV("div",{className:"students-list",children:a.map(T=>e.jsxDEV("div",{className:"student-card",children:[e.jsxDEV("div",{className:"student-info",children:[e.jsxDEV("div",{className:"student-name",children:["üë§ ",T.first_name," ",T.last_name]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:139,columnNumber:19},this),T.neurodiversity_profile&&T.neurodiversity_profile.length>0&&e.jsxDEV("div",{className:"student-profile",children:T.neurodiversity_profile.map((C,S)=>e.jsxDEV("span",{className:"profile-badge",children:["üß© ",C]},S,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:146,columnNumber:25},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:144,columnNumber:21},this),e.jsxDEV("div",{className:"student-meta",children:e.jsxDEV("span",{className:"enrolled-date",children:["Enrolled: ",new Date(T.enrolledAt).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"})]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:152,columnNumber:21},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:151,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:138,columnNumber:17},this),e.jsxDEV("div",{className:"student-actions",children:e.jsxDEV("button",{onClick:()=>N(T),className:"btn-secondary btn-sm remove-btn",children:"Remove from Course"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:163,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:162,columnNumber:17},this)]},T.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:137,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:135,columnNumber:11},this):e.jsxDEV("div",{className:"empty-state",children:e.jsxDEV("p",{children:"No students enrolled yet. Share your course link to get students!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:175,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:174,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:123,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseStudents.jsx",lineNumber:109,columnNumber:5},this)}function wi({course:r}){return e.jsxDEV("div",{className:"course-homework",children:e.jsxDEV(Ye,{featureName:"homework assignments"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseHomework.jsx",lineNumber:6,columnNumber:5},this)}function _i({course:r}){return e.jsxDEV("div",{className:"course-resources",children:e.jsxDEV(Ye,{featureName:"course resources"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:7,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseResources.jsx",lineNumber:6,columnNumber:5},this)}function Pi({course:r}){const{courseId:s}=Ae(),{user:i}=ae(),[a,o]=m.useState([]),[n,t]=m.useState(""),[l,u]=m.useState(!0),[h,d]=m.useState(!1),[N,p]=m.useState(""),[f,b]=m.useState(null),[T,C]=m.useState([]),[S,x]=m.useState(new Set),k=m.useRef(null),M=m.useRef(null),E=m.useRef(null),P=(r==null?void 0:r.course_type)==="group";m.useEffect(()=>(s&&i&&(I(),$()),()=>{M.current&&M.current.unsubscribe(),E.current&&E.current.unsubscribe()}),[s,i,f]),m.useEffect(()=>{ee()},[a]),m.useEffect(()=>{!P&&s&&i&&W()},[P,s,i,a]);const I=async()=>{try{u(!0),p("");let U;P?U=await O(L.messages.getCourse,s,i.id):f?U=await O(L.messages.getConversation,s,i.id,f):U=[],o(U||[])}catch(U){console.error("Error loading messages:",U),p("Failed to load messages")}finally{u(!1)}},W=async()=>{try{const U=await O(L.messages.getThreads,s,i.id);C(U||[])}catch(U){console.error("Error loading conversation threads:",U)}},$=()=>{M.current=ws(s,{onMessage:U=>{if(console.log("üì® Received new message:",U),U.sender_id===i.id){console.log("Skipping own message from broadcast");return}P&&!U.recipient_id?o(F=>[...F,U]):!P&&f&&(U.sender_id===f&&U.recipient_id===i.id||U.sender_id===i.id&&U.recipient_id===f)&&o(F=>[...F,U])}}),E.current=_s(s,i.id,{name:i.full_name||`${i.firstName} ${i.lastName}`,role:"instructor"},{onSync:U=>{const F=new Set;Object.values(U).forEach(B=>{B.forEach(H=>{H.user_id!==i.id&&F.add(H.user_id)})}),x(F)}})},ee=()=>{var U;(U=k.current)==null||U.scrollIntoView({behavior:"smooth"})},w=async U=>{if(U.preventDefault(),!(!n.trim()||h))try{d(!0);const F={content:n.trim(),recipient_id:!P&&f?f:null},B=await O(L.messages.send,s,F,i.id);B&&o(H=>[...H,B]),t("")}catch(F){console.error("Error sending message:",F),alert("Failed to send message. Please try again.")}finally{d(!1)}},D=U=>{b(U)},y=()=>{b(null)},V=U=>{const F=new Date(U);return(new Date-F)/(1e3*60*60)<24?F.toLocaleTimeString("en-US",{hour:"numeric",minute:"2-digit",hour12:!0}):F.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"})},R=U=>{if(!U)return"";const F=new Date(U),H=Math.floor((new Date-F)/(1e3*60));if(H<1)return"Just now";if(H<60)return`${H} min ago`;const ie=Math.floor(H/60);if(ie<24)return`${ie} hour${ie>1?"s":""} ago`;const oe=Math.floor(ie/24);return oe<7?`${oe} day${oe>1?"s":""} ago`:F.toLocaleDateString("en-US",{month:"short",day:"numeric"})},G=U=>{var F;return U.students&&U.students.first_name?`${U.students.first_name} ${U.students.last_name}`:((F=U.profiles)==null?void 0:F.full_name)||"Unknown"},Y=()=>{const U=T.find(F=>F.student.id===f);return U?U.student.full_name:""},me=U=>S.has(U);if(l)return e.jsxDEV("div",{className:"course-chat",children:e.jsxDEV("div",{className:"loading-state",style:{textAlign:"center",padding:"2rem"},children:e.jsxDEV("p",{children:"Loading chat..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:244,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:243,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:242,columnNumber:7},this);if(N)return e.jsxDEV("div",{className:"course-chat",children:e.jsxDEV("div",{className:"error-state",style:{textAlign:"center",padding:"2rem"},children:[e.jsxDEV("p",{children:N},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:254,columnNumber:11},this),e.jsxDEV("button",{onClick:I,className:"btn-primary",style:{marginTop:"1rem"},children:"Try Again"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:255,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:253,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:252,columnNumber:7},this);if(!P&&!f)return e.jsxDEV("div",{className:"course-chat",children:[e.jsxDEV("div",{className:"chat-header",children:[e.jsxDEV("h2",{children:"üí¨ Student Messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:268,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"Private conversations with each student. Click on a student to view and send messages."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:270,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:269,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:267,columnNumber:9},this),e.jsxDEV("div",{className:"chat-thread-list",children:T.length===0?e.jsxDEV("div",{className:"no-threads",children:e.jsxDEV("p",{children:"No students enrolled yet."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:280,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:279,columnNumber:13},this):T.map(U=>e.jsxDEV("div",{className:"chat-thread-item",onClick:()=>D(U.student.id),role:"button",tabIndex:0,children:[e.jsxDEV("div",{className:"thread-header",children:[e.jsxDEV("div",{className:"thread-student-info",children:[e.jsxDEV("span",{className:"thread-icon",children:"üë§"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:293,columnNumber:21},this),e.jsxDEV("span",{className:"thread-student-name",children:U.student.full_name},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:294,columnNumber:21},this),me(U.student.id)&&e.jsxDEV("span",{className:"online-indicator",title:"Online",children:"üü¢"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:296,columnNumber:23},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:292,columnNumber:19},this),U.unreadCount>0&&e.jsxDEV("span",{className:"unread-badge",children:U.unreadCount},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:300,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:291,columnNumber:17},this),e.jsxDEV("div",{className:"thread-preview",children:[e.jsxDEV("span",{className:"thread-last-message",children:U.lastMessage?U.lastMessage.content:"No messages yet"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:304,columnNumber:19},this),U.lastMessage&&e.jsxDEV("span",{className:"thread-time",children:R(U.lastMessage.created_at)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:308,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:303,columnNumber:17},this)]},U.student.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:284,columnNumber:15},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:277,columnNumber:9},this),e.jsxDEV("div",{className:"thread-list-footer",children:e.jsxDEV("p",{children:"Click a student to open chat"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:319,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:318,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:266,columnNumber:7},this);if(!P&&f){T.find(F=>F.student.id===f);const U=me(f);return e.jsxDEV("div",{className:"course-chat",children:[e.jsxDEV("div",{className:"chat-header",children:[e.jsxDEV("button",{onClick:y,className:"back-button","aria-label":"Back to messages",children:"‚Üê Back to Messages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:333,columnNumber:11},this),e.jsxDEV("h2",{children:["üí¨ Chat with ",Y(),U&&e.jsxDEV("span",{className:"online-indicator",title:"Online",children:"üü¢"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:342,columnNumber:33},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:340,columnNumber:11},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:["Private conversation - only you and ",Y()," can see these messages."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:345,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:344,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:332,columnNumber:9},this),e.jsxDEV("div",{className:"chat-messages",children:[a.length===0?e.jsxDEV("div",{className:"no-messages",children:e.jsxDEV("p",{children:"No messages yet. Start the conversation!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:354,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:353,columnNumber:13},this):a.map(F=>e.jsxDEV("div",{className:`message ${F.sender_id===i.id?"instructor-message":"student-message"}`,children:[e.jsxDEV("div",{className:"message-header",children:[e.jsxDEV("span",{className:"sender-name",children:F.sender_id===i.id?"You":G(F)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:363,columnNumber:19},this),e.jsxDEV("span",{className:"message-time",children:V(F.created_at)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:366,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:362,columnNumber:17},this),e.jsxDEV("div",{className:"message-content",children:F.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:368,columnNumber:17},this)]},F.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:358,columnNumber:15},this)),e.jsxDEV("div",{ref:k},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:374,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:351,columnNumber:9},this),e.jsxDEV("form",{onSubmit:w,className:"chat-input-form",children:[e.jsxDEV("input",{type:"text",value:n,onChange:F=>t(F.target.value),placeholder:"Type your message...",className:"chat-input","aria-label":"Message input",disabled:h},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:378,columnNumber:11},this),e.jsxDEV("button",{type:"submit",className:"btn btn-primary send-button",disabled:!n.trim()||h,children:h?"Sending...":"Send"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:387,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:377,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:331,columnNumber:7},this)}return e.jsxDEV("div",{className:"course-chat",children:[e.jsxDEV("div",{className:"chat-header",children:[e.jsxDEV("h2",{children:"üí¨ Group Chat"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:403,columnNumber:9},this),e.jsxDEV("div",{className:"info-banner",children:e.jsxDEV("p",{children:"All students can see these messages. Use this space to share updates, answer questions, and build community."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:405,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:404,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:402,columnNumber:7},this),e.jsxDEV("div",{className:"chat-messages",children:[a.length===0?e.jsxDEV("div",{className:"no-messages",children:e.jsxDEV("p",{children:"No messages yet. Start the conversation!"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:415,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:414,columnNumber:11},this):a.map(U=>e.jsxDEV("div",{className:`message ${U.sender_id===i.id?"instructor-message":"student-message"}`,children:[e.jsxDEV("div",{className:"message-header",children:[e.jsxDEV("span",{className:"sender-name",children:[U.sender_id===i.id?"You (Instructor)":G(U),me(U.sender_id)&&U.sender_id!==i.id&&e.jsxDEV("span",{className:"online-indicator",title:"Online",children:"üü¢"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:427,columnNumber:21},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:424,columnNumber:17},this),e.jsxDEV("span",{className:"message-time",children:V(U.created_at)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:430,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:423,columnNumber:15},this),e.jsxDEV("div",{className:"message-content",children:U.content},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:432,columnNumber:15},this)]},U.id,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:419,columnNumber:13},this)),e.jsxDEV("div",{ref:k},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:438,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:412,columnNumber:7},this),e.jsxDEV("form",{onSubmit:w,className:"chat-input-form",children:[e.jsxDEV("input",{type:"text",value:n,onChange:U=>t(U.target.value),placeholder:"Type your message...",className:"chat-input","aria-label":"Message input",disabled:h},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:442,columnNumber:9},this),e.jsxDEV("button",{type:"submit",className:"btn btn-primary send-button",disabled:!n.trim()||h,children:h?"Sending...":"Send"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:451,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:441,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/CourseChat.jsx",lineNumber:401,columnNumber:5},this)}function Mi(){const{courseId:r}=Ae(),s=be(),[i,a]=ls(),{user:o}=ae(),[n,t]=m.useState(0),[l,u]=m.useState(null),[h,d]=m.useState([]),[N,p]=m.useState([]),[f,b]=m.useState(!0),[T,C]=m.useState(""),S=i.get("tab")||"sessions";if(m.useEffect(()=>{r&&(async()=>{try{b(!0);const $=await O(L.courses.getById,r);u($);const ee=await O(L.sessions.getCourse,r,o.id);d(ee||[]);const w=await O(L.enrollments.getCourse,r,o.id);p(w||[])}catch($){console.error("Error fetching course:",$),C("Failed to load course")}finally{b(!1)}})()},[r,o]),m.useEffect(()=>{const W=()=>{const ee=localStorage.getItem(`chat_${r}`);if(ee){const D=JSON.parse(ee).filter(y=>y.senderRole!=="instructor"&&!y.readBy.includes(o.id)).length;t(D)}};W();const $=setInterval(W,5e3);return()=>clearInterval($)},[r,o.id,S]),f)return e.jsxDEV("div",{className:"manage-course",children:e.jsxDEV("div",{className:"loading-state",children:"Loading course..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:77,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:76,columnNumber:7},this);if(T||!l)return e.jsxDEV("div",{className:"manage-course",children:e.jsxDEV("div",{className:"error-state",children:[e.jsxDEV("p",{children:T||"Course not found"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:86,columnNumber:11},this),e.jsxDEV("button",{onClick:()=>s("/instructor/dashboard"),className:"btn-primary",children:"Back to Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:87,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:85,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:84,columnNumber:7},this);const x=W=>{a({tab:W}),W==="chat"&&t(0)},k=N.length,M=(l==null?void 0:l.enrollment_limit)||0,E=M>0?Math.max(0,M-k):"‚àû",P=new Date,I=h.filter(W=>new Date(W.session_date)>P).length;return e.jsxDEV("div",{className:"manage-course",children:[e.jsxDEV("div",{className:"manage-course-header",children:[e.jsxDEV("button",{onClick:()=>s("/instructor/dashboard"),className:"back-button",children:"‚Üê Back to Dashboard"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:115,columnNumber:9},this),e.jsxDEV("h1",{children:l.title},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:118,columnNumber:9},this),e.jsxDEV("p",{className:"course-subtitle",children:"Manage your course content and students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:119,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:114,columnNumber:7},this),e.jsxDEV("div",{className:"course-stats",children:[e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:k},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:125,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Enrolled Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:126,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:124,columnNumber:9},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:E},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:129,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Spots Remaining"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:130,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:128,columnNumber:9},this),e.jsxDEV("div",{className:"stat-card",children:[e.jsxDEV("div",{className:"stat-value",children:I},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:133,columnNumber:11},this),e.jsxDEV("div",{className:"stat-label",children:"Upcoming Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:134,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:132,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:123,columnNumber:7},this),e.jsxDEV("div",{className:"course-tabs",children:[e.jsxDEV("button",{className:`tab-button ${S==="sessions"?"active":""}`,onClick:()=>x("sessions"),children:"üìÖ Sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:139,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${S==="students"?"active":""}`,onClick:()=>x("students"),children:"üë• Students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:145,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${S==="homework"?"active":""}`,onClick:()=>x("homework"),children:"üìù Homework"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:151,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${S==="resources"?"active":""}`,onClick:()=>x("resources"),children:"üìö Resources"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:157,columnNumber:9},this),e.jsxDEV("button",{className:`tab-button ${S==="chat"?"active":""}`,onClick:()=>x("chat"),children:["üí¨ Chat",n>0&&e.jsxDEV("span",{className:"notification-badge",children:n},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:168,columnNumber:31},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:163,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:138,columnNumber:7},this),e.jsxDEV("div",{className:"tab-content",children:[S==="sessions"&&e.jsxDEV(Ps,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:173,columnNumber:38},this),S==="students"&&e.jsxDEV(Vi,{course:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:174,columnNumber:38},this),S==="homework"&&e.jsxDEV(wi,{course:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:175,columnNumber:38},this),S==="resources"&&e.jsxDEV(_i,{course:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:176,columnNumber:39},this),S==="chat"&&e.jsxDEV(Pi,{course:l},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:177,columnNumber:34},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:172,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/ManageCourse.jsx",lineNumber:113,columnNumber:5},this)}function Ri(){const{user:r,profile:s}=ae();be();const[i,a]=m.useState({firstName:(s==null?void 0:s.first_name)||"",lastName:(s==null?void 0:s.last_name)||"",email:(s==null?void 0:s.email)||(r==null?void 0:r.email)||"",neurodiversityProfile:(s==null?void 0:s.neurodiversity_profile)||[],otherNeeds:(s==null?void 0:s.other_needs)||""}),[o,n]=m.useState(!1);m.useEffect(()=>{s&&a({firstName:s.first_name||"",lastName:s.last_name||"",email:s.email||(r==null?void 0:r.email)||"",neurodiversityProfile:s.neurodiversity_profile||[],otherNeeds:s.other_needs||""})},[s,r]);const t=[{value:"autism",label:"Autism Spectrum"},{value:"adhd",label:"ADHD"},{value:"dyslexia",label:"Dyslexia"},{value:"dysgraphia",label:"Dysgraphia"},{value:"dyscalculia",label:"Dyscalculia"},{value:"other",label:"Other"}],l=p=>{const f=i.neurodiversityProfile;f.includes(p)?a({...i,neurodiversityProfile:f.filter(b=>b!==p)}):a({...i,neurodiversityProfile:[...f,p]})},u=p=>{a({...i,[p.target.name]:p.target.value})},h=p=>{p.preventDefault(),alert("Profile updated successfully!"),n(!1)},d=()=>{a({firstName:(s==null?void 0:s.first_name)||"",lastName:(s==null?void 0:s.last_name)||"",email:(s==null?void 0:s.email)||(r==null?void 0:r.email)||"",neurodiversityProfile:(s==null?void 0:s.neurodiversity_profile)||[],otherNeeds:(s==null?void 0:s.other_needs)||""}),n(!1)},N=(s==null?void 0:s.role)==="instructor";return e.jsxDEV("div",{className:"student-profile",children:[e.jsxDEV("div",{className:"profile-header",children:[e.jsxDEV("div",{children:[e.jsxDEV("h1",{children:"My Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:88,columnNumber:11},this),e.jsxDEV("p",{className:"profile-subtitle",children:N?"Manage your personal information and teaching profile":"Manage your personal information and learning preferences"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:89,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:87,columnNumber:9},this),!o&&e.jsxDEV("button",{onClick:()=>n(!0),className:"btn-primary",children:"Edit Profile"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:96,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:86,columnNumber:7},this),e.jsxDEV("form",{onSubmit:h,className:"profile-form",children:[e.jsxDEV("div",{className:"profile-section",children:[e.jsxDEV("h2",{children:"Personal Information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:104,columnNumber:11},this),e.jsxDEV("div",{className:"form-row",children:[e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"firstName",children:"First Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:107,columnNumber:15},this),e.jsxDEV("input",{id:"firstName",name:"firstName",type:"text",value:i.firstName,onChange:u,disabled:!o,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:108,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:106,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"lastName",children:"Last Name"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:119,columnNumber:15},this),e.jsxDEV("input",{id:"lastName",name:"lastName",type:"text",value:i.lastName,onChange:u,disabled:!o,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:120,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:105,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"email",children:"Email Address"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:133,columnNumber:13},this),e.jsxDEV("input",{id:"email",name:"email",type:"email",value:i.email,onChange:u,disabled:!o,required:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:134,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:132,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:103,columnNumber:9},this),e.jsxDEV("div",{className:"profile-section",children:[e.jsxDEV("h2",{children:N?"Your Unique Mind":"Your Learning Style"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:147,columnNumber:11},this),e.jsxDEV("p",{className:"section-description",children:N?"Share what makes your mind unique to help students understand your teaching approach and create a more inclusive learning environment. This information is visible to enrolled students.":"Help us understand what makes your mind unique so instructors can provide the best support. This information is private and only shared with your enrolled instructors."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:148,columnNumber:11},this),e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{children:"What's unique about your mind? (Select all that apply)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:155,columnNumber:13},this),e.jsxDEV("div",{className:"checkbox-grid",children:t.map(p=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:i.neurodiversityProfile.includes(p.value),onChange:()=>l(p.value),disabled:!o},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:159,columnNumber:19},this),e.jsxDEV("span",{children:p.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:165,columnNumber:19},this)]},p.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:158,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:156,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:154,columnNumber:11},this),i.neurodiversityProfile.includes("other")&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"otherNeeds",children:N?"Please specify other information":"Please specify other learning needs"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:173,columnNumber:15},this),e.jsxDEV("textarea",{id:"otherNeeds",name:"otherNeeds",value:i.otherNeeds,onChange:u,disabled:!o,rows:"3",placeholder:N?"Describe your teaching approach or any relevant information...":"Describe any other learning needs or accommodations..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:178,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:146,columnNumber:9},this),o&&e.jsxDEV("div",{className:"profile-actions",children:[e.jsxDEV("button",{type:"button",onClick:d,className:"btn-secondary",children:"Cancel"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:195,columnNumber:13},this),e.jsxDEV("button",{type:"submit",className:"btn-primary",children:"Save Changes"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:198,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:194,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:102,columnNumber:7},this),e.jsxDEV("div",{className:"profile-section danger-zone",children:[e.jsxDEV("h2",{children:"Account Settings"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:206,columnNumber:9},this),e.jsxDEV("button",{className:"btn-danger",children:"Change Password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:207,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:205,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/StudentProfile.jsx",lineNumber:85,columnNumber:5},this)}function Li(){return e.jsxDEV("div",{className:"legal-page",children:e.jsxDEV("div",{className:"legal-container",children:[e.jsxDEV("h1",{children:"Privacy Policy"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:7,columnNumber:9},this),e.jsxDEV("p",{className:"last-updated",children:"Last Updated: January 22, 2026"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:8,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"1. Introduction"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:11,columnNumber:11},this),e.jsxDEV("p",{children:'Welcome to UniqueBrains ("we," "our," or "us"). We are committed to protecting your privacy and ensuring the security of your personal information. This Privacy Policy explains how we collect, use, disclose, and safeguard your information when you use our online learning platform at uniquebrains.org.'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:12,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:10,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"2. Information We Collect"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:18,columnNumber:11},this),e.jsxDEV("h3",{children:"2.1 Personal Information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:20,columnNumber:11},this),e.jsxDEV("p",{children:"We collect information that you provide directly to us, including:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:21,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Name, email address, and contact information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:23,columnNumber:13},this),e.jsxDEV("li",{children:"Account credentials (username and password)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:24,columnNumber:13},this),e.jsxDEV("li",{children:"Profile information (age, grade level, learning preferences)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:25,columnNumber:13},this),e.jsxDEV("li",{children:"Payment and billing information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:26,columnNumber:13},this),e.jsxDEV("li",{children:"Communications with us"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:27,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:22,columnNumber:11},this),e.jsxDEV("h3",{children:"2.2 Student Information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:30,columnNumber:11},this),e.jsxDEV("p",{children:"For student accounts, we collect:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:31,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Student names and ages"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:33,columnNumber:13},this),e.jsxDEV("li",{children:"Grade levels and educational information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:34,columnNumber:13},this),e.jsxDEV("li",{children:"Neurodiversity profiles and learning accommodations"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:35,columnNumber:13},this),e.jsxDEV("li",{children:"Course enrollment and progress data"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:36,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:32,columnNumber:11},this),e.jsxDEV("h3",{children:"2.3 Automatically Collected Information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:39,columnNumber:11},this),e.jsxDEV("p",{children:"When you use our platform, we automatically collect:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:40,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Device information (browser type, operating system)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:42,columnNumber:13},this),e.jsxDEV("li",{children:"Usage data (pages visited, features used, time spent)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:43,columnNumber:13},this),e.jsxDEV("li",{children:"IP address and location data"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:44,columnNumber:13},this),e.jsxDEV("li",{children:"Cookies and similar tracking technologies"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:45,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:41,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:17,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"3. How We Use Your Information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:50,columnNumber:11},this),e.jsxDEV("p",{children:"We use the information we collect to:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:51,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Provide, maintain, and improve our educational services"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:53,columnNumber:13},this),e.jsxDEV("li",{children:"Process enrollments and manage course access"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:54,columnNumber:13},this),e.jsxDEV("li",{children:"Facilitate communication between students and instructors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:55,columnNumber:13},this),e.jsxDEV("li",{children:"Personalize learning experiences based on individual needs"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:56,columnNumber:13},this),e.jsxDEV("li",{children:"Process payments and prevent fraud"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:57,columnNumber:13},this),e.jsxDEV("li",{children:"Send important updates, notifications, and educational content"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:58,columnNumber:13},this),e.jsxDEV("li",{children:"Analyze usage patterns to improve our platform"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:59,columnNumber:13},this),e.jsxDEV("li",{children:"Comply with legal obligations"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:60,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:52,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:49,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"4. Information Sharing and Disclosure"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:65,columnNumber:11},this),e.jsxDEV("h3",{children:"4.1 With Your Consent"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:67,columnNumber:11},this),e.jsxDEV("p",{children:"We may share your information with third parties when you give us explicit consent to do so."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:68,columnNumber:11},this),e.jsxDEV("h3",{children:"4.2 Service Providers"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:70,columnNumber:11},this),e.jsxDEV("p",{children:"We share information with trusted service providers who assist us in operating our platform, including:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:71,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Cloud hosting services (Supabase)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:73,columnNumber:13},this),e.jsxDEV("li",{children:"Payment processors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:74,columnNumber:13},this),e.jsxDEV("li",{children:"Email service providers"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:75,columnNumber:13},this),e.jsxDEV("li",{children:"Analytics providers"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:76,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:72,columnNumber:11},this),e.jsxDEV("h3",{children:"4.3 Instructors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:79,columnNumber:11},this),e.jsxDEV("p",{children:"Course instructors have access to enrolled student information necessary to provide educational services, including names, progress data, and submitted assignments."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:80,columnNumber:11},this),e.jsxDEV("h3",{children:"4.4 Legal Requirements"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:82,columnNumber:11},this),e.jsxDEV("p",{children:"We may disclose information if required by law or in response to valid legal requests."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:83,columnNumber:11},this),e.jsxDEV("h3",{children:"4.5 What We Don't Do"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:85,columnNumber:11},this),e.jsxDEV("p",{children:"We do NOT:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:86,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Sell your personal information to third parties"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:88,columnNumber:13},this),e.jsxDEV("li",{children:"Use student data for advertising purposes"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:89,columnNumber:13},this),e.jsxDEV("li",{children:"Share information with unauthorized parties"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:90,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:87,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:64,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"5. Children's Privacy"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:95,columnNumber:11},this),e.jsxDEV("p",{children:"UniqueBrains is designed to serve students of all ages, including children under 13. We comply with the Children's Online Privacy Protection Act (COPPA) and similar regulations:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:96,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"We require parental consent before collecting information from users under 18"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:100,columnNumber:13},this),e.jsxDEV("li",{children:"We collect only the minimum information necessary to provide educational services"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:101,columnNumber:13},this),e.jsxDEV("li",{children:"Student data is never used for advertising or marketing purposes"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:102,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:99,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:94,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"6. Data Security"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:107,columnNumber:11},this),e.jsxDEV("p",{children:"We implement industry-standard security measures to protect your information, including:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:108,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Encryption of data in transit and at rest"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:112,columnNumber:13},this),e.jsxDEV("li",{children:"Secure authentication and access controls"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:113,columnNumber:13},this),e.jsxDEV("li",{children:"Regular security audits and updates"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:114,columnNumber:13},this),e.jsxDEV("li",{children:"Row-level security policies in our database"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:115,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:111,columnNumber:11},this),e.jsxDEV("p",{children:"However, no method of transmission over the internet is 100% secure. While we strive to protect your information, we cannot guarantee absolute security."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:117,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:106,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"7. Your Rights and Choices"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:123,columnNumber:11},this),e.jsxDEV("h3",{children:"7.1 Access and Update"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:125,columnNumber:11},this),e.jsxDEV("p",{children:"You can access and update your account information at any time through your profile settings."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:126,columnNumber:11},this),e.jsxDEV("h3",{children:"7.2 Data Deletion"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:128,columnNumber:11},this),e.jsxDEV("p",{children:"You can request deletion of your account and associated data by contacting us at privacy@uniquebrains.org."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:129,columnNumber:11},this),e.jsxDEV("h3",{children:"7.3 Marketing Communications"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:131,columnNumber:11},this),e.jsxDEV("p",{children:"You can opt out of marketing emails by clicking the unsubscribe link in any promotional email."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:132,columnNumber:11},this),e.jsxDEV("h3",{children:"7.4 Cookies"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:134,columnNumber:11},this),e.jsxDEV("p",{children:"You can control cookies through your browser settings, though some features may not function properly if cookies are disabled."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:135,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:122,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"8. Data Retention"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:139,columnNumber:11},this),e.jsxDEV("p",{children:"We retain your information for as long as your account is active or as needed to provide services. After account deletion, we may retain certain information for legal compliance, dispute resolution, and legitimate business purposes."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:140,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:138,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"9. International Data Transfers"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:146,columnNumber:11},this),e.jsxDEV("p",{children:"Your information may be transferred to and processed in countries other than your country of residence. We ensure appropriate safeguards are in place to protect your information in accordance with this Privacy Policy."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:147,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:145,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"10. Third-Party Links"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:153,columnNumber:11},this),e.jsxDEV("p",{children:"Our platform may contain links to third-party websites. We are not responsible for the privacy practices of these external sites. We encourage you to review their privacy policies."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:154,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:152,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"11. Changes to This Privacy Policy"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:160,columnNumber:11},this),e.jsxDEV("p",{children:'We may update this Privacy Policy from time to time. We will notify you of significant changes by posting the new policy on this page and updating the "Last Updated" date. Your continued use of our platform after changes constitutes acceptance of the updated policy.'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:161,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:159,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"12. Contact Us"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:167,columnNumber:11},this),e.jsxDEV("p",{children:"If you have questions or concerns about this Privacy Policy or our data practices, please contact us:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:168,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Email: privacy@uniquebrains.org"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:170,columnNumber:13},this),e.jsxDEV("li",{children:"Website: https://uniquebrains.org"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:171,columnNumber:13},this),e.jsxDEV("li",{children:"Instagram: @ouruniquebrains"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:172,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:169,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:166,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"13. California Privacy Rights"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:177,columnNumber:11},this),e.jsxDEV("p",{children:"California residents have additional rights under the California Consumer Privacy Act (CCPA), including the right to know what personal information we collect, the right to delete personal information, and the right to opt-out of the sale of personal information. We do not sell personal information."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:178,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:176,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"14. GDPR Compliance"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:184,columnNumber:11},this),e.jsxDEV("p",{children:"For users in the European Economic Area (EEA), we comply with the General Data Protection Regulation (GDPR). You have the right to access, rectify, erase, restrict processing, data portability, and object to processing of your personal data."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:185,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:183,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:6,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/PrivacyPolicy.jsx",lineNumber:5,columnNumber:5},this)}function Oi(){return e.jsxDEV("div",{className:"legal-page",children:e.jsxDEV("div",{className:"legal-container",children:[e.jsxDEV("h1",{children:"Terms of Service"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:7,columnNumber:9},this),e.jsxDEV("p",{className:"last-updated",children:"Last Updated: January 22, 2026"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:8,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"1. Acceptance of Terms"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:11,columnNumber:11},this),e.jsxDEV("p",{children:'Welcome to UniqueBrains! By accessing or using our online learning platform at uniquebrains.org ("Platform"), you agree to be bound by these Terms of Service ("Terms"). If you do not agree to these Terms, please do not use our Platform.'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:12,columnNumber:11},this),e.jsxDEV("p",{children:'These Terms constitute a legally binding agreement between you and UniqueBrains ("we," "us," or "our").'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:15,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:10,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"2. Description of Service"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:21,columnNumber:11},this),e.jsxDEV("p",{children:"UniqueBrains provides an online learning platform that connects students with instructors for educational courses. Our services include:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:22,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Course marketplace and enrollment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:26,columnNumber:13},this),e.jsxDEV("li",{children:"Live online classes and recorded sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:27,columnNumber:13},this),e.jsxDEV("li",{children:"Educational resources and materials"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:28,columnNumber:13},this),e.jsxDEV("li",{children:"Homework assignments and progress tracking"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:29,columnNumber:13},this),e.jsxDEV("li",{children:"Communication tools between students and instructors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:30,columnNumber:13},this),e.jsxDEV("li",{children:"Support for neurodiverse learners"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:31,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:25,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:20,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"3. User Accounts"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:36,columnNumber:11},this),e.jsxDEV("h3",{children:"3.1 Account Creation"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:38,columnNumber:11},this),e.jsxDEV("p",{children:"To use certain features of our Platform, you must create an account. You agree to:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:39,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Provide accurate, current, and complete information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:41,columnNumber:13},this),e.jsxDEV("li",{children:"Maintain and update your information to keep it accurate"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:42,columnNumber:13},this),e.jsxDEV("li",{children:"Maintain the security of your password"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:43,columnNumber:13},this),e.jsxDEV("li",{children:"Accept responsibility for all activities under your account"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:44,columnNumber:13},this),e.jsxDEV("li",{children:"Notify us immediately of any unauthorized use"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:45,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:40,columnNumber:11},this),e.jsxDEV("h3",{children:"3.2 Account Types"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:48,columnNumber:11},this),e.jsxDEV("p",{children:"We offer two types of accounts:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:49,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Student Accounts:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:51,columnNumber:17},this)," For individual learners"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:51,columnNumber:13},this),e.jsxDEV("li",{children:[e.jsxDEV("strong",{children:"Instructor Accounts:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:52,columnNumber:17},this)," For educators creating and teaching courses"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:52,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:50,columnNumber:11},this),e.jsxDEV("h3",{children:"3.3 Age Requirements"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:55,columnNumber:11},this),e.jsxDEV("p",{children:"Users under 18 should have parental consent to use the Platform."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:56,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:35,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"4. User Conduct"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:62,columnNumber:11},this),e.jsxDEV("p",{children:"You agree NOT to:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:63,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Violate any applicable laws or regulations"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:65,columnNumber:13},this),e.jsxDEV("li",{children:"Infringe on intellectual property rights of others"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:66,columnNumber:13},this),e.jsxDEV("li",{children:"Upload malicious code, viruses, or harmful content"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:67,columnNumber:13},this),e.jsxDEV("li",{children:"Harass, bully, or threaten other users"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:68,columnNumber:13},this),e.jsxDEV("li",{children:"Share inappropriate or offensive content"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:69,columnNumber:13},this),e.jsxDEV("li",{children:"Impersonate others or misrepresent your identity"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:70,columnNumber:13},this),e.jsxDEV("li",{children:"Attempt to gain unauthorized access to the Platform"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:71,columnNumber:13},this),e.jsxDEV("li",{children:"Interfere with the proper functioning of the Platform"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:72,columnNumber:13},this),e.jsxDEV("li",{children:"Use the Platform for commercial purposes without authorization"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:73,columnNumber:13},this),e.jsxDEV("li",{children:"Share your account credentials with others"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:74,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:64,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:61,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"5. Course Enrollment and Payment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:79,columnNumber:11},this),e.jsxDEV("h3",{children:"5.1 Course Enrollment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:81,columnNumber:11},this),e.jsxDEV("p",{children:"When you enroll in a course, you agree to participate actively and respectfully. Course availability, schedules, and content are subject to change."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:82,columnNumber:11},this),e.jsxDEV("h3",{children:"5.2 Payment Terms"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:86,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Course fees are displayed at the time of enrollment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:88,columnNumber:13},this),e.jsxDEV("li",{children:"Payment is required before accessing course content"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:89,columnNumber:13},this),e.jsxDEV("li",{children:"All fees are in USD unless otherwise stated"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:90,columnNumber:13},this),e.jsxDEV("li",{children:"We use secure third-party payment processors"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:91,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:87,columnNumber:11},this),e.jsxDEV("h3",{children:"5.3 Refund Policy"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:94,columnNumber:11},this),e.jsxDEV("p",{children:"Refund requests must be submitted within 7 days of enrollment. Refunds are granted at our discretion based on:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:95,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Course attendance and participation"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:99,columnNumber:13},this),e.jsxDEV("li",{children:"Amount of content accessed"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:100,columnNumber:13},this),e.jsxDEV("li",{children:"Reason for refund request"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:101,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:98,columnNumber:11},this),e.jsxDEV("p",{children:"No refunds are provided after 14 days of enrollment or after 50% of the course has been completed."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:103,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:78,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"6. Instructor Responsibilities"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:109,columnNumber:11},this),e.jsxDEV("p",{children:"If you are an instructor, you agree to:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:110,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Provide accurate course descriptions and information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:112,columnNumber:13},this),e.jsxDEV("li",{children:"Deliver courses as described and scheduled"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:113,columnNumber:13},this),e.jsxDEV("li",{children:"Maintain professional conduct with students"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:114,columnNumber:13},this),e.jsxDEV("li",{children:"Protect student privacy and data"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:115,columnNumber:13},this),e.jsxDEV("li",{children:"Provide quality educational content"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:116,columnNumber:13},this),e.jsxDEV("li",{children:"Respond to student questions and concerns promptly"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:117,columnNumber:13},this),e.jsxDEV("li",{children:"Comply with all applicable educational regulations"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:118,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:111,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:108,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"7. Intellectual Property"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:123,columnNumber:11},this),e.jsxDEV("h3",{children:"7.1 Platform Content"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:125,columnNumber:11},this),e.jsxDEV("p",{children:"All content on the Platform, including text, graphics, logos, images, and software, is owned by UniqueBrains or our licensors and is protected by copyright and other intellectual property laws."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:126,columnNumber:11},this),e.jsxDEV("h3",{children:"7.2 Course Content"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:130,columnNumber:11},this),e.jsxDEV("p",{children:"Instructors retain ownership of their course content but grant us a license to display, distribute, and promote their courses on the Platform."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:131,columnNumber:11},this),e.jsxDEV("h3",{children:"7.3 User Content"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:135,columnNumber:11},this),e.jsxDEV("p",{children:"You retain ownership of content you submit (assignments, messages, etc.) but grant us a license to use it as necessary to provide our services."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:136,columnNumber:11},this),e.jsxDEV("h3",{children:"7.4 Restrictions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:140,columnNumber:11},this),e.jsxDEV("p",{children:"You may NOT:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:141,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Copy, modify, or distribute Platform content without permission"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:143,columnNumber:13},this),e.jsxDEV("li",{children:"Record or share course materials without instructor consent"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:144,columnNumber:13},this),e.jsxDEV("li",{children:"Use content for commercial purposes"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:145,columnNumber:13},this),e.jsxDEV("li",{children:"Remove copyright or proprietary notices"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:146,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:142,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:122,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"8. Privacy and Data Protection"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:151,columnNumber:11},this),e.jsxDEV("p",{children:["Your privacy is important to us. Our collection and use of personal information is governed by our ",e.jsxDEV("a",{href:"/privacy-policy",children:"Privacy Policy"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:153,columnNumber:112},this),", which is incorporated into these Terms by reference."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:152,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:150,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"9. Disclaimers and Limitations of Liability"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:158,columnNumber:11},this),e.jsxDEV("h3",{children:'9.1 Service "As Is"'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:160,columnNumber:11},this),e.jsxDEV("p",{children:'The Platform is provided "as is" and "as available" without warranties of any kind, either express or implied. We do not guarantee that the Platform will be uninterrupted, secure, or error-free.'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:161,columnNumber:11},this),e.jsxDEV("h3",{children:"9.2 Educational Outcomes"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:165,columnNumber:11},this),e.jsxDEV("p",{children:"We do not guarantee specific educational outcomes or results. Learning success depends on many factors including student effort, engagement, and individual circumstances."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:166,columnNumber:11},this),e.jsxDEV("h3",{children:"9.3 Third-Party Content"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:170,columnNumber:11},this),e.jsxDEV("p",{children:"We are not responsible for the accuracy, quality, or appropriateness of instructor-created content or third-party links."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:171,columnNumber:11},this),e.jsxDEV("h3",{children:"9.4 Limitation of Liability"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:175,columnNumber:11},this),e.jsxDEV("p",{children:"To the maximum extent permitted by law, UniqueBrains shall not be liable for any indirect, incidental, special, consequential, or punitive damages, or any loss of profits or revenues, whether incurred directly or indirectly, or any loss of data, use, goodwill, or other intangible losses."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:176,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:157,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"10. Indemnification"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:182,columnNumber:11},this),e.jsxDEV("p",{children:"You agree to indemnify and hold harmless UniqueBrains, its officers, directors, employees, and agents from any claims, damages, losses, liabilities, and expenses (including legal fees) arising from:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:183,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Your use of the Platform"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:187,columnNumber:13},this),e.jsxDEV("li",{children:"Your violation of these Terms"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:188,columnNumber:13},this),e.jsxDEV("li",{children:"Your violation of any rights of another party"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:189,columnNumber:13},this),e.jsxDEV("li",{children:"Content you submit to the Platform"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:190,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:186,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:181,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"11. Termination"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:195,columnNumber:11},this),e.jsxDEV("h3",{children:"11.1 By You"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:197,columnNumber:11},this),e.jsxDEV("p",{children:"You may terminate your account at any time by contacting us or using account settings."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:198,columnNumber:11},this),e.jsxDEV("h3",{children:"11.2 By Us"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:200,columnNumber:11},this),e.jsxDEV("p",{children:"We may suspend or terminate your account if you:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:201,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Violate these Terms"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:203,columnNumber:13},this),e.jsxDEV("li",{children:"Engage in fraudulent or illegal activity"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:204,columnNumber:13},this),e.jsxDEV("li",{children:"Pose a security or legal risk"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:205,columnNumber:13},this),e.jsxDEV("li",{children:"Fail to pay required fees"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:206,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:202,columnNumber:11},this),e.jsxDEV("h3",{children:"11.3 Effect of Termination"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:209,columnNumber:11},this),e.jsxDEV("p",{children:"Upon termination, your right to use the Platform ceases immediately. We may delete your account data in accordance with our Privacy Policy."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:194,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"12. Modifications to Terms"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:216,columnNumber:11},this),e.jsxDEV("p",{children:'We reserve the right to modify these Terms at any time. We will notify users of significant changes by posting the updated Terms on the Platform and updating the "Last Updated" date. Your continued use after changes constitutes acceptance of the modified Terms.'},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:217,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:215,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"13. Modifications to Service"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:223,columnNumber:11},this),e.jsxDEV("p",{children:"We reserve the right to modify, suspend, or discontinue any part of the Platform at any time, with or without notice. We are not liable for any modification, suspension, or discontinuation of the service."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:224,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:222,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"14. Dispute Resolution"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:230,columnNumber:11},this),e.jsxDEV("h3",{children:"14.1 Informal Resolution"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:232,columnNumber:11},this),e.jsxDEV("p",{children:"If you have a dispute with us, please contact us first at support@uniquebrains.org to attempt to resolve it informally."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:233,columnNumber:11},this),e.jsxDEV("h3",{children:"14.2 Governing Law"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:237,columnNumber:11},this),e.jsxDEV("p",{children:"These Terms are governed by the laws of the United States, without regard to conflict of law principles."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:238,columnNumber:11},this),e.jsxDEV("h3",{children:"14.3 Arbitration"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:242,columnNumber:11},this),e.jsxDEV("p",{children:"Any disputes that cannot be resolved informally shall be resolved through binding arbitration, except where prohibited by law."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:243,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:229,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"15. General Provisions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:249,columnNumber:11},this),e.jsxDEV("h3",{children:"15.1 Entire Agreement"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:251,columnNumber:11},this),e.jsxDEV("p",{children:"These Terms, together with our Privacy Policy, constitute the entire agreement between you and UniqueBrains."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:252,columnNumber:11},this),e.jsxDEV("h3",{children:"15.2 Severability"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:256,columnNumber:11},this),e.jsxDEV("p",{children:"If any provision of these Terms is found to be unenforceable, the remaining provisions will remain in full effect."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:257,columnNumber:11},this),e.jsxDEV("h3",{children:"15.3 Waiver"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:261,columnNumber:11},this),e.jsxDEV("p",{children:"Our failure to enforce any right or provision of these Terms does not constitute a waiver of that right or provision."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:262,columnNumber:11},this),e.jsxDEV("h3",{children:"15.4 Assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:266,columnNumber:11},this),e.jsxDEV("p",{children:"You may not assign or transfer these Terms without our written consent. We may assign our rights and obligations without restriction."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:267,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:248,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"16. Contact Information"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:273,columnNumber:11},this),e.jsxDEV("p",{children:"If you have questions about these Terms, please contact us:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:274,columnNumber:11},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"Email: support@uniquebrains.org"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:276,columnNumber:13},this),e.jsxDEV("li",{children:"Website: https://uniquebrains.org"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:277,columnNumber:13},this),e.jsxDEV("li",{children:"Instagram: @ouruniquebrains"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:278,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:275,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:272,columnNumber:9},this),e.jsxDEV("section",{children:[e.jsxDEV("h2",{children:"17. Acknowledgment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:283,columnNumber:11},this),e.jsxDEV("p",{children:"By using the Platform, you acknowledge that you have read, understood, and agree to be bound by these Terms of Service."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:284,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:282,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:6,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/TermsOfService.jsx",lineNumber:5,columnNumber:5},this)}function Ai(){const r=be(),[s,i]=m.useState(null),a=m.useRef(!1);return m.useEffect(()=>{if(a.current)return;(async()=>{var n,t,l;a.current=!0;try{const{data:{session:u},error:h}=await j.auth.getSession();if(h)throw h;if(u){console.log("=== OAuth Callback Debug ==="),console.log("User ID:",u.user.id),console.log("User Email:",u.user.email),console.log("User Metadata:",u.user.user_metadata),console.log("========================");let d=null,N=null;try{const b=await j.from("profiles").select("*").eq("id",u.user.id).single();d=b.data,N=b.error}catch(b){console.log("Profile query error (will attempt to create):",b.message),N=b}if(console.log("üîç Profile check result:",{profile:d,profileError:N}),!d||N){console.log("üîÑ No profile found, creating new profile...");try{const b=u.user.user_metadata||{};console.log("User metadata:",b);let T="User",C="";if(b.given_name)T=b.given_name,C=b.family_name||"";else if(b.full_name){const M=b.full_name.split(" ");T=M[0]||"User",C=M.slice(1).join(" ")||""}else if(b.name){const M=b.name.split(" ");T=M[0]||"User",C=M.slice(1).join(" ")||""}const S=localStorage.getItem("oauth_role_preference")||"parent";console.log("üîç OAuth role preference from localStorage:",S),localStorage.removeItem("oauth_role_preference"),console.log("Attempting to create profile with:",{id:u.user.id,email:u.user.email,first_name:T,last_name:C,role:S,avatar_url:b.avatar_url||b.picture||null});const{data:x,error:k}=await j.from("profiles").insert({id:u.user.id,email:u.user.email,first_name:T,last_name:C,role:S,avatar_url:b.avatar_url||b.picture||null,neurodiversity_profile:[],expertise:[]}).select();if(k)if(k.code==="23505"){console.log("‚úÖ Profile already exists (returning user)");const{data:M}=await j.from("profiles").select("*").eq("id",u.user.id).single();if(d=M,d&&d.role!=="instructor"&&d.role!=="student"&&S!==d.role){console.log(`üîß Updating existing profile role from '${d.role}' to '${S}'`);const{error:E}=await j.from("profiles").update({role:S}).eq("id",u.user.id);E?console.error("‚ùå Failed to update profile role:",E):(d.role=S,console.log("‚úÖ Profile role updated successfully"))}}else console.error("‚ùå Error creating profile:",k),console.error("Error code:",k.code),console.error("Error message:",k.message),console.error("Error details:",k.details);else{console.log("‚úÖ Profile created successfully! (new user)"),console.log("Profile data:",x),console.log("Name:",T,C),d=(x==null?void 0:x[0])||{role:"parent"},console.log("Redirecting new user to onboarding..."),r("/onboarding",{state:{userId:u.user.id,userName:T},replace:!0});return}}catch(b){console.error("Insert error:",b)}}else if(console.log("‚úÖ Profile already exists"),console.log("üìã Existing profile role:",d==null?void 0:d.role),d&&d.role!=="instructor"&&d.role!=="student"){console.log("üîß Existing profile has invalid role, checking for role preference...");const b=localStorage.getItem("oauth_role_preference")||"student";if(console.log("üîç OAuth role preference from localStorage:",b),localStorage.removeItem("oauth_role_preference"),b!=="student"){console.log(`üîß Updating existing profile role from 'student' to '${b}'`);try{const{error:T}=await j.from("profiles").update({role:b}).eq("id",u.user.id);T?console.error("‚ùå Failed to update profile role:",T):(d.role=b,console.log("‚úÖ Profile role updated successfully"))}catch(T){console.error("‚ùå Update error:",T)}}}const p=(d==null?void 0:d.role)||"parent",f=!(d!=null&&d.bio)&&!((n=d==null?void 0:d.neurodiversity_profile)!=null&&n.length);console.log("User role:",p),console.log("Needs onboarding:",f),console.log("Profile completeness:",{bio:d==null?void 0:d.bio,neurodiversity_profile:d==null?void 0:d.neurodiversity_profile}),f?(console.log("Redirecting to onboarding (incomplete profile)"),r("/onboarding",{state:{userId:u.user.id,userName:(d==null?void 0:d.first_name)||((l=(t=u.user.user_metadata)==null?void 0:t.full_name)==null?void 0:l.split(" ")[0])||"there"},replace:!0})):(console.log("Redirecting returning user with role:",p),p==="instructor"?r("/teach/dashboard",{replace:!0}):p==="student"?r("/learn/dashboard",{replace:!0}):r("/marketplace",{replace:!0}))}else r("/login")}catch(u){console.error("Auth callback error:",u),i(u.message),setTimeout(()=>{r("/login")},3e3)}})()},[r]),s?e.jsxDEV("div",{className:"auth-callback",children:e.jsxDEV("div",{className:"auth-callback-error",children:[e.jsxDEV("h2",{children:"Authentication Error"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:264,columnNumber:11},this),e.jsxDEV("p",{children:s},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:265,columnNumber:11},this),e.jsxDEV("p",{children:"Redirecting to login..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:266,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:263,columnNumber:9},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:262,columnNumber:7},this):e.jsxDEV("div",{className:"auth-callback",children:e.jsxDEV("div",{className:"auth-callback-loading",children:[e.jsxDEV("div",{className:"spinner"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:275,columnNumber:9},this),e.jsxDEV("p",{children:"Completing sign in..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:276,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:274,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/AuthCallback.jsx",lineNumber:273,columnNumber:5},this)}function vs(){var b,T,C,S;const r=be(),s=Ss(),{user:i}=ae(),a=(i==null?void 0:i.id)||((b=s.state)==null?void 0:b.userId),o=((T=s.state)==null?void 0:T.userName)||((S=(C=i==null?void 0:i.user_metadata)==null?void 0:C.full_name)==null?void 0:S.split(" ")[0])||"there",[n,t]=m.useState({neurodiversityProfile:[],expertise:[],bio:"",otherNeurodiversity:"",otherExpertise:"",role:"student"}),[l,u]=m.useState(!1);m.useEffect(()=>{(async()=>{if(!a){console.error("No user ID available for onboarding");return}console.log("Fetching profile for user ID:",a);try{const{data:k,error:M}=await j.from("profiles").select("*").eq("id",a).single();if(M){console.error("Error fetching profile:",M);return}k&&t({neurodiversityProfile:k.neurodiversity_profile||[],expertise:k.expertise||[],bio:k.bio||"",otherNeurodiversity:"",otherExpertise:"",role:k.role||"student"})}catch(k){console.error("Profile fetch error:",k)}})()},[a]);const h=[{value:"autism",label:"Autism Spectrum"},{value:"adhd",label:"ADHD"},{value:"dyslexia",label:"Dyslexia"},{value:"dysgraphia",label:"Dysgraphia"},{value:"dyscalculia",label:"Dyscalculia"},{value:"other",label:"Other"}],d=x=>{const k=n.neurodiversityProfile;k.includes(x)?t({...n,neurodiversityProfile:k.filter(M=>M!==x)}):t({...n,neurodiversityProfile:[...k,x]})},N=x=>{const k=n.expertise||[];k.includes(x)?t({...n,expertise:k.filter(M=>M!==x)}):t({...n,expertise:[...k,x]})},p=x=>{t({...n,role:x})},f=async x=>{if(x.preventDefault(),u(!0),!a){alert("User ID not found. Please try logging in again."),u(!1);return}try{let k=[...n.neurodiversityProfile];k.includes("other")&&n.otherNeurodiversity.trim()&&(k=k.filter(P=>P!=="other"),k.push(n.otherNeurodiversity.trim()));let M=[...n.expertise||[]];M.includes("other")&&n.otherExpertise.trim()&&(M=M.filter(P=>P!=="other"),M.push(n.otherExpertise.trim()));const{error:E}=await j.from("profiles").update({role:n.role,neurodiversity_profile:k,expertise:n.role==="instructor"?M:[],bio:n.bio.trim()||null,onboarding_completed:!0}).eq("id",a);if(E){console.error("Error updating profile:",E),alert("Failed to save profile. Please try again."),u(!1);return}n.role==="instructor"?r("/teach/dashboard"):r("/learn/dashboard")}catch(k){console.error("Onboarding error:",k),alert("An error occurred. Please try again."),u(!1)}};return e.jsxDEV("div",{className:"onboarding-container",children:e.jsxDEV("div",{className:"onboarding-content",children:[e.jsxDEV("div",{className:"onboarding-header",children:[e.jsxDEV("h1",{children:["Welcome to UniqueBrains, ",o,"! üéâ"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:172,columnNumber:11},this),e.jsxDEV("p",{children:"Let's set up your profile to get started"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:173,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:171,columnNumber:9},this),e.jsxDEV("form",{onSubmit:f,className:"onboarding-form",children:[e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"I am a..."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:179,columnNumber:13},this),e.jsxDEV("div",{className:"role-cards",children:[e.jsxDEV("div",{className:`role-card ${n.role==="student"?"selected":""}`,onClick:()=>p("student"),children:[e.jsxDEV("div",{className:"role-icon",children:"üéì"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:185,columnNumber:17},this),e.jsxDEV("h3",{children:"Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:186,columnNumber:17},this),e.jsxDEV("p",{children:"Enroll in courses and learn"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:187,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:181,columnNumber:15},this),e.jsxDEV("div",{className:`role-card ${n.role==="instructor"?"selected":""}`,onClick:()=>p("instructor"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:194,columnNumber:17},this),e.jsxDEV("h3",{children:"Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:195,columnNumber:17},this),e.jsxDEV("p",{children:"Create and teach courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:196,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:190,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:180,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:178,columnNumber:11},this),n.role==="instructor"&&e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"Your Teaching Specializations"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:204,columnNumber:15},this),e.jsxDEV("p",{className:"section-description",children:"What neurodiversity areas do you specialize in or have experience teaching?"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:205,columnNumber:15},this),e.jsxDEV("div",{className:"checkbox-group",children:h.map(x=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:n.expertise.includes(x.value),onChange:()=>N(x.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:212,columnNumber:21},this),e.jsxDEV("span",{children:x.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:217,columnNumber:21},this)]},x.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:211,columnNumber:19},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:209,columnNumber:15},this),n.expertise.includes("other")&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"otherExpertise",children:"Please specify:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:224,columnNumber:19},this),e.jsxDEV("input",{type:"text",id:"otherExpertise",value:n.otherExpertise,onChange:x=>t({...n,otherExpertise:x.target.value}),placeholder:"e.g., Sensory Processing Disorder"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:225,columnNumber:19},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:223,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:203,columnNumber:13},this),e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"Your Neurodiversity Profile (Optional)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:239,columnNumber:13},this),e.jsxDEV("p",{className:"section-description",children:n.role==="instructor"?"Share your own neurodiversity profile if you'd like. This helps build trust with families.":"Help us personalize your learning experience by sharing your neurodiversity profile."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:240,columnNumber:13},this),e.jsxDEV("div",{className:"checkbox-group",children:h.map(x=>e.jsxDEV("label",{className:"checkbox-label",children:[e.jsxDEV("input",{type:"checkbox",checked:n.neurodiversityProfile.includes(x.value),onChange:()=>d(x.value)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:250,columnNumber:19},this),e.jsxDEV("span",{children:x.label},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:255,columnNumber:19},this)]},x.value,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:249,columnNumber:17},this))},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:247,columnNumber:13},this),n.neurodiversityProfile.includes("other")&&e.jsxDEV("div",{className:"form-group",children:[e.jsxDEV("label",{htmlFor:"otherNeurodiversity",children:"Please specify:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:262,columnNumber:17},this),e.jsxDEV("input",{type:"text",id:"otherNeurodiversity",value:n.otherNeurodiversity,onChange:x=>t({...n,otherNeurodiversity:x.target.value}),placeholder:"e.g., Sensory Processing Disorder"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:263,columnNumber:17},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:261,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:238,columnNumber:11},this),e.jsxDEV("div",{className:"form-section",children:[e.jsxDEV("h2",{children:"About You"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:276,columnNumber:13},this),e.jsxDEV("p",{className:"section-description",children:n.role==="instructor"?"Tell families about your teaching experience and approach.":"Tell us a bit about yourself and your learning goals."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:277,columnNumber:13},this),e.jsxDEV("div",{className:"form-group",children:e.jsxDEV("textarea",{value:n.bio,onChange:x=>t({...n,bio:x.target.value}),placeholder:n.role==="instructor"?"e.g., I'm a certified special education teacher with 10 years of experience...":"e.g., I love art and music, and I'm excited to learn new things...",rows:"4"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:285,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:284,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:275,columnNumber:11},this),e.jsxDEV("div",{className:"form-actions",children:e.jsxDEV("button",{type:"submit",className:"btn-primary btn-full",disabled:l,children:l?"Saving...":"Complete Setup"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:299,columnNumber:13},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:298,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:176,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:170,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/Onboarding.jsx",lineNumber:169,columnNumber:5},this)}function qi(){const r=be(),{user:s}=ae(),[i,a]=m.useState("student"),[o,n]=m.useState(!1),[t,l]=m.useState(""),u=async()=>{if(!s){l("You must be logged in to update your role");return}n(!0),l("");try{const{error:h}=await j.from("profiles").update({role:i}).eq("id",s.id);if(h)throw h;i==="instructor"?r("/instructor/dashboard",{replace:!0}):i==="student"&&r("/onboarding",{replace:!0})}catch(h){console.error("Error updating role:",h),l("Failed to update role. Please try again.")}finally{n(!1)}};return e.jsxDEV("div",{className:"auth-container",children:e.jsxDEV("div",{className:"auth-card",children:[e.jsxDEV("h2",{children:"Select Your Role"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:50,columnNumber:9},this),e.jsxDEV("p",{className:"auth-subtitle",children:"We need to know your role to set up your account properly"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:51,columnNumber:9},this),t&&e.jsxDEV("div",{className:"error-message",children:t},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:55,columnNumber:19},this),e.jsxDEV("div",{className:"role-selection",children:e.jsxDEV("div",{className:"role-cards",children:[e.jsxDEV("div",{className:`role-card ${i==="student"?"selected":""}`,onClick:()=>a("student"),children:[e.jsxDEV("div",{className:"role-icon",children:"üéì"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:63,columnNumber:15},this),e.jsxDEV("h3",{children:"Student"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:64,columnNumber:15},this),e.jsxDEV("p",{children:"Enroll in courses and learn"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:65,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:59,columnNumber:13},this),e.jsxDEV("div",{className:`role-card ${i==="instructor"?"selected":""}`,onClick:()=>a("instructor"),children:[e.jsxDEV("div",{className:"role-icon",children:"üë®‚Äçüè´"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:71,columnNumber:15},this),e.jsxDEV("h3",{children:"Instructor"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:72,columnNumber:15},this),e.jsxDEV("p",{children:"Teach and inspire"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:73,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:67,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:58,columnNumber:11},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:57,columnNumber:9},this),e.jsxDEV("button",{onClick:u,disabled:o,className:"btn-primary btn-full",children:o?"Updating...":`Continue as ${i==="instructor"?"Instructor":"Student"}`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:78,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:49,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/pages/RoleSelection.jsx",lineNumber:48,columnNumber:5},this)}function $i(){var d;const{user:r}=ae(),[s,i]=m.useState(!1),[a,o]=m.useState([]),[n,t]=m.useState(""),l=(N,p)=>{o(f=>[...f,{test:N,result:p,timestamp:new Date().toLocaleTimeString()}])},u=async()=>{if(!r){t("Please log in as an instructor first");return}i(!0),t(""),o([]);try{l("Creating course...","Starting");const N={title:"Backend Test Course",description:"This course tests the backend integration",category:"parenting",courseType:"group",sessionDuration:60,enrollmentLimit:10,isSelfPaced:!1,startDate:"2024-02-01",sessionTime:"10:00",selectedDays:["Monday","Wednesday"],hasEndDate:!0,endDate:"2024-04-01"},p=await O(L.courses.create,N,r);l("Course Creation",`‚úÖ Success: ${p.course.title}`);const f=p.course.id;l("Creating homework...","Starting");const b={title:"Test Assignment",description:"This is a test assignment",due_date:"2024-02-08T23:59:59Z",points:100,submission_type:"text",is_published:!0},T=await O(L.homework.create,f,b,r.id);l("Homework Creation",`‚úÖ Success: ${T.title}`),l("Creating resource...","Starting");const C={title:"Test Resource",description:"This is a test resource",resource_type:"link",link_url:"https://example.com/test.pdf"},S=await O(L.resources.create,f,C,r.id);l("Resource Creation",`‚úÖ Success: ${S.title}`),l("Sending message...","Starting");const x={content:"This is a test message from the backend integration test.",is_announcement:!1},k=await O(L.messages.send,f,x,r.id);l("Message Sending","‚úÖ Success: Message sent"),l("Fetching courses...","Starting");const M=await O(L.courses.getInstructorCourses,r.id);l("Fetch Courses",`‚úÖ Success: Found ${M.length} courses`),l("Getting statistics...","Starting");const E=await O(L.courses.getStats,r.id);l("Course Statistics",`‚úÖ Success: ${E.totalCourses} total courses`),l("All Tests","üéâ All tests completed successfully!")}catch(N){console.error("Test failed:",N),t(N.message),l("Test Failed",`‚ùå Error: ${N.message}`)}finally{i(!1)}},h=()=>{o([]),t("")};return r?e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #3b82f6",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"üß™ Backend Integration Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:125,columnNumber:7},this),e.jsxDEV("p",{children:["User: ",r.email," (Role: ",((d=r.user_metadata)==null?void 0:d.role)||"Unknown",")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:126,columnNumber:7},this),e.jsxDEV("div",{style:{marginBottom:"1rem"},children:[e.jsxDEV("button",{onClick:u,disabled:s,style:{padding:"0.75rem 1.5rem",backgroundColor:s?"#9ca3af":"#3b82f6",color:"white",border:"none",borderRadius:"0.5rem",marginRight:"0.5rem"},children:s?"Running Tests...":"Run All Tests"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:129,columnNumber:9},this),e.jsxDEV("button",{onClick:h,style:{padding:"0.75rem 1.5rem",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"0.5rem"},children:"Clear Results"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:144,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:128,columnNumber:7},this),n&&e.jsxDEV("div",{style:{padding:"1rem",backgroundColor:"#fee2e2",border:"1px solid #fecaca",borderRadius:"0.5rem",color:"#dc2626",marginBottom:"1rem"},children:[e.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:167,columnNumber:11},this)," ",n]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:159,columnNumber:9},this),a.length>0&&e.jsxDEV("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1rem",maxHeight:"400px",overflowY:"auto"},children:[e.jsxDEV("h4",{children:"Test Results:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:180,columnNumber:11},this),a.map((N,p)=>e.jsxDEV("div",{style:{padding:"0.5rem",borderBottom:"1px solid #e2e8f0",fontFamily:"monospace",fontSize:"0.875rem"},children:[e.jsxDEV("span",{style:{color:"#6b7280"},children:["[",N.timestamp,"]"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:188,columnNumber:15},this)," ",e.jsxDEV("strong",{children:[N.test,":"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:189,columnNumber:15},this)," ",N.result]},p,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:182,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:172,columnNumber:9},this),e.jsxDEV("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#f0f9ff",border:"1px solid #bae6fd",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[e.jsxDEV("h4",{children:"What this test does:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:203,columnNumber:9},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"‚úÖ Creates a test course with sessions"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:205,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Creates a homework assignment"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:206,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Creates a course resource"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:207,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Sends a test message"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:208,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Fetches instructor courses"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:209,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Gets course statistics"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:210,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:204,columnNumber:9},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Note:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:212,columnNumber:12},this)," This creates real data in your database. You may want to delete the test course afterward."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:212,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:195,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:124,columnNumber:5},this):e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #f59e0b",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"Backend Integration Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:117,columnNumber:9},this),e.jsxDEV("p",{children:"Please log in as an instructor to test the backend integration."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:118,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/BackendTestComponent.jsx",lineNumber:116,columnNumber:7},this)}function Fi(){var N;const{user:r}=ae(),[s,i]=m.useState(!1),[a,o]=m.useState([]),[n,t]=m.useState(""),l=(p,f,b="info")=>{o(T=>[...T,{test:p,result:f,status:b,timestamp:new Date().toLocaleTimeString()}])},u=async()=>{var p,f;if(!r){t("Please log in first");return}i(!0),t(""),o([]);try{l("Security Test Suite","Starting RLS policy verification...","info"),l("Current User",`${r.email} (Role: ${((p=r.user_metadata)==null?void 0:p.role)||"Unknown"})`,"info"),l("Course Policies","Testing course access control...","info");try{const b=await O(L.courses.getInstructorCourses,r.id);l("Course Access",`‚úÖ Can access ${b.length} courses as expected`,"success")}catch(b){l("Course Access",`‚ùå Unexpected error: ${b.message}`,"error")}if(((f=r.user_metadata)==null?void 0:f.role)==="instructor"){l("Course Creation","Testing instructor course creation...","info");try{const b={title:"RLS Test Course",description:"Testing RLS policies",category:"parenting",courseType:"group",sessionDuration:60,enrollmentLimit:5,isSelfPaced:!1,startDate:"2024-02-01",sessionTime:"14:00",selectedDays:["Tuesday"],hasEndDate:!0,endDate:"2024-03-01"},T=await O(L.courses.create,b,r);l("Course Creation",`‚úÖ Successfully created course: ${T.course.title}`,"success"),l("Homework Policies","Testing homework creation for owned course...","info");try{const C={title:"RLS Test Assignment",description:"Testing homework RLS",due_date:"2024-02-15T23:59:59Z",points:50,submission_type:"text",is_published:!0},S=await O(L.homework.create,T.course.id,C,r.id);l("Homework Creation",`‚úÖ Successfully created homework: ${S.title}`,"success")}catch(C){l("Homework Creation",`‚ùå Failed: ${C.message}`,"error")}l("Resource Policies","Testing resource creation for owned course...","info");try{const C={title:"RLS Test Resource",description:"Testing resource RLS",resource_type:"link",link_url:"https://example.com/test-resource"},S=await O(L.resources.create,T.course.id,C,r.id);l("Resource Creation",`‚úÖ Successfully created resource: ${S.title}`,"success")}catch(C){l("Resource Creation",`‚ùå Failed: ${C.message}`,"error")}l("Message Policies","Testing message sending for owned course...","info");try{const C={content:"RLS test message - verifying security policies",is_announcement:!1};await O(L.messages.send,T.course.id,C,r.id),l("Message Sending","‚úÖ Successfully sent message","success")}catch(C){l("Message Sending",`‚ùå Failed: ${C.message}`,"error")}}catch(b){l("Course Creation",`‚ùå Failed: ${b.message}`,"error")}}else l("Course Creation","‚ö†Ô∏è Skipped - User is not an instructor","warning");l("Statistics Policies","Testing statistics access...","info");try{const b=await O(L.courses.getStats,r.id);l("Statistics Access",`‚úÖ Successfully retrieved stats: ${b.totalCourses} courses`,"success")}catch(b){l("Statistics Access",`‚ùå Failed: ${b.message}`,"error")}l("Profile Policies","Testing profile access...","info"),l("Profile Access","‚úÖ Can access own profile data","success"),l("Security Test Complete","üîí RLS policy verification completed!","success")}catch(b){console.error("Security test failed:",b),t(b.message),l("Security Test Failed",`‚ùå Error: ${b.message}`,"error")}finally{i(!1)}},h=()=>{o([]),t("")};if(!r)return e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #f59e0b",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"üîí RLS Security Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:162,columnNumber:9},this),e.jsxDEV("p",{children:"Please log in to test Row Level Security policies."},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:163,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:161,columnNumber:7},this);const d=p=>{switch(p){case"success":return"#10b981";case"error":return"#ef4444";case"warning":return"#f59e0b";default:return"#6b7280"}};return e.jsxDEV("div",{style:{padding:"2rem",border:"2px solid #8b5cf6",borderRadius:"0.5rem",margin:"1rem"},children:[e.jsxDEV("h3",{children:"üîí RLS Security Policy Test"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:179,columnNumber:7},this),e.jsxDEV("p",{children:["User: ",r.email," (Role: ",((N=r.user_metadata)==null?void 0:N.role)||"Unknown",")"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:180,columnNumber:7},this),e.jsxDEV("div",{style:{marginBottom:"1rem"},children:[e.jsxDEV("button",{onClick:u,disabled:s,style:{padding:"0.75rem 1.5rem",backgroundColor:s?"#9ca3af":"#8b5cf6",color:"white",border:"none",borderRadius:"0.5rem",marginRight:"0.5rem"},children:s?"Running Security Tests...":"Run Security Tests"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:183,columnNumber:9},this),e.jsxDEV("button",{onClick:h,style:{padding:"0.75rem 1.5rem",backgroundColor:"#6b7280",color:"white",border:"none",borderRadius:"0.5rem"},children:"Clear Results"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:198,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:182,columnNumber:7},this),n&&e.jsxDEV("div",{style:{padding:"1rem",backgroundColor:"#fee2e2",border:"1px solid #fecaca",borderRadius:"0.5rem",color:"#dc2626",marginBottom:"1rem"},children:[e.jsxDEV("strong",{children:"Error:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:221,columnNumber:11},this)," ",n]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:213,columnNumber:9},this),a.length>0&&e.jsxDEV("div",{style:{backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"0.5rem",padding:"1rem",maxHeight:"500px",overflowY:"auto"},children:[e.jsxDEV("h4",{children:"Security Test Results:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:234,columnNumber:11},this),a.map((p,f)=>e.jsxDEV("div",{style:{padding:"0.5rem",borderBottom:"1px solid #e2e8f0",fontFamily:"monospace",fontSize:"0.875rem"},children:[e.jsxDEV("span",{style:{color:"#6b7280"},children:["[",p.timestamp,"]"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:242,columnNumber:15},this)," ",e.jsxDEV("strong",{style:{color:d(p.status)},children:[p.test,":"]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:243,columnNumber:15},this)," ",e.jsxDEV("span",{style:{color:d(p.status)},children:p.result},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:244,columnNumber:15},this)]},f,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:236,columnNumber:13},this))]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:226,columnNumber:9},this),e.jsxDEV("div",{style:{marginTop:"1rem",padding:"1rem",backgroundColor:"#fef3c7",border:"1px solid #fcd34d",borderRadius:"0.5rem",fontSize:"0.875rem"},children:[e.jsxDEV("h4",{children:"üîí What this security test verifies:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:258,columnNumber:9},this),e.jsxDEV("ul",{children:[e.jsxDEV("li",{children:"‚úÖ Course access control (instructors can only see their courses)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:260,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Course creation permissions (only instructors can create)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:261,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Homework management (only course owners can create)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:262,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Resource management (only course owners can add)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:263,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Message permissions (only course participants can send)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:264,columnNumber:11},this),e.jsxDEV("li",{children:"‚úÖ Statistics access (users can only see their own data)"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:265,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:259,columnNumber:9},this),e.jsxDEV("p",{children:[e.jsxDEV("strong",{children:"Security Note:"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:267,columnNumber:12},this)," This test creates real data to verify RLS policies work correctly."]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:267,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:250,columnNumber:7},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/components/RLSSecurityTest.jsx",lineNumber:178,columnNumber:5},this)}er(()=>import("./fixProfile-2qfYEjEw.js"),__vite__mapDeps([0,1,2]));function ue({children:r,requirePortal:s}){const{user:i,profile:a,availablePortals:o}=ae();if(!i)return e.jsxDEV(He,{to:"/login"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:36,columnNumber:12},this);if(s&&!o.includes(s)){const n=(a==null?void 0:a.role)==="instructor"?"teach":"learn";return e.jsxDEV(He,{to:`/${n}/dashboard`},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:43,columnNumber:12},this)}return r}function Ii(){return e.jsxDEV(tr,{children:e.jsxDEV(Gs,{children:[e.jsxDEV(ur,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:53,columnNumber:9},this),e.jsxDEV(Js,{children:[e.jsxDEV(Z,{path:"/login",element:e.jsxDEV(dr,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:56,columnNumber:41},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:56,columnNumber:11},this),e.jsxDEV(Z,{path:"/register",element:e.jsxDEV(Nr,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:57,columnNumber:44},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:57,columnNumber:11},this),e.jsxDEV(Z,{path:"/auth/callback",element:e.jsxDEV(Ai,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:58,columnNumber:49},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:58,columnNumber:11},this),e.jsxDEV(Z,{path:"/onboarding",element:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:59,columnNumber:46},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:59,columnNumber:11},this),e.jsxDEV(Z,{path:"/role-selection",element:e.jsxDEV(qi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:60,columnNumber:50},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:60,columnNumber:11},this),e.jsxDEV(Z,{path:"/",element:e.jsxDEV(cr,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:63,columnNumber:36},this),children:[e.jsxDEV(Z,{index:!0,element:e.jsxDEV(mr,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:64,columnNumber:35},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:64,columnNumber:13},this),e.jsxDEV(Z,{path:"marketplace",element:e.jsxDEV(rs,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:65,columnNumber:48},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:65,columnNumber:13},this),e.jsxDEV(Z,{path:"courses/:courseId",element:e.jsxDEV(yi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:66,columnNumber:54},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:66,columnNumber:13},this),e.jsxDEV(Z,{path:"privacy-policy",element:e.jsxDEV(Li,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:67,columnNumber:51},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:67,columnNumber:13},this),e.jsxDEV(Z,{path:"terms-of-service",element:e.jsxDEV(Oi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:68,columnNumber:53},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:68,columnNumber:13},this),e.jsxDEV(Z,{path:"teach",children:[e.jsxDEV(Z,{path:"dashboard",element:e.jsxDEV(ue,{requirePortal:"teach",children:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:74,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:73,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:72,columnNumber:15},this),e.jsxDEV(Z,{path:"marketplace",element:e.jsxDEV(ue,{requirePortal:"teach",children:e.jsxDEV(rs,{portal:"teach"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:80,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:79,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:78,columnNumber:15},this),e.jsxDEV(Z,{path:"my-courses",element:e.jsxDEV(ue,{requirePortal:"teach",children:e.jsxDEV(xs,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:86,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:85,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:84,columnNumber:15},this),e.jsxDEV(Z,{path:"create-course",element:e.jsxDEV(ue,{requirePortal:"teach",children:e.jsxDEV(Ui,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:92,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:91,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:90,columnNumber:15},this),e.jsxDEV(Z,{path:"sessions/:courseId",element:e.jsxDEV(ue,{requirePortal:"teach",children:e.jsxDEV(Ps,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:98,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:97,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:96,columnNumber:15},this),e.jsxDEV(Z,{path:"course/:courseId/manage",element:e.jsxDEV(ue,{requirePortal:"teach",children:e.jsxDEV(Mi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:104,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:103,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:102,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:71,columnNumber:13},this),e.jsxDEV(Z,{path:"learn",children:[e.jsxDEV(Z,{path:"dashboard",element:e.jsxDEV(ue,{requirePortal:"learn",children:e.jsxDEV(is,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:113,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:112,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:111,columnNumber:15},this),e.jsxDEV(Z,{path:"marketplace",element:e.jsxDEV(ue,{requirePortal:"learn",children:e.jsxDEV(rs,{portal:"learn"},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:119,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:118,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:117,columnNumber:15},this),e.jsxDEV(Z,{path:"my-courses",element:e.jsxDEV(ue,{requirePortal:"learn",children:e.jsxDEV(is,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:125,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:124,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:123,columnNumber:15},this),e.jsxDEV(Z,{path:"course/:courseId/view",element:e.jsxDEV(ue,{requirePortal:"learn",children:e.jsxDEV(Ti,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:131,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:130,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:129,columnNumber:15},this),e.jsxDEV(Z,{path:"onboarding",element:e.jsxDEV(ue,{requirePortal:"learn",children:e.jsxDEV(vs,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:137,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:136,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:135,columnNumber:15},this),e.jsxDEV(Z,{path:"manage-students",element:e.jsxDEV(ue,{requirePortal:"learn",children:e.jsxDEV(ys,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:143,columnNumber:19},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:142,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:141,columnNumber:15},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:110,columnNumber:13},this),e.jsxDEV(Z,{path:"my-courses",element:e.jsxDEV(ue,{children:e.jsxDEV(is,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:151,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:150,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:149,columnNumber:13},this),e.jsxDEV(Z,{path:"manage-students",element:e.jsxDEV(ue,{children:e.jsxDEV(ys,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:157,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:156,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:155,columnNumber:13},this),e.jsxDEV(Z,{path:"instructor/dashboard",element:e.jsxDEV(He,{to:"/teach/dashboard",replace:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:162,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:161,columnNumber:13},this),e.jsxDEV(Z,{path:"instructor/create-course",element:e.jsxDEV(He,{to:"/teach/create-course",replace:!0},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:166,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:165,columnNumber:13},this),e.jsxDEV(Z,{path:"profile",element:e.jsxDEV(ue,{children:e.jsxDEV(Ri,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:171,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:170,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:169,columnNumber:13},this),e.jsxDEV(Z,{path:"test-backend",element:e.jsxDEV(ue,{requirePortal:"teach",children:e.jsxDEV($i,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:177,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:176,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:175,columnNumber:13},this),e.jsxDEV(Z,{path:"test-security",element:e.jsxDEV(ue,{children:e.jsxDEV(Fi,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:183,columnNumber:17},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:182,columnNumber:15},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:181,columnNumber:13},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:63,columnNumber:11},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:54,columnNumber:9},this)]},void 0,!0,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:52,columnNumber:7},this)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/App.jsx",lineNumber:51,columnNumber:5},this)}os.createRoot(document.getElementById("root")).render(e.jsxDEV(Ks.StrictMode,{children:e.jsxDEV(Ii,{},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/main.jsx",lineNumber:8,columnNumber:5},void 0)},void 0,!1,{fileName:"C:/Users/goyalanj/.kiro/NEST/src/main.jsx",lineNumber:7,columnNumber:3},void 0));export{j as s};
