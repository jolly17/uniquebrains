{"version":3,"file":"makeAdmin-DX42RVg4.js","sources":["../../src/utils/makeAdmin.js"],"sourcesContent":["/**\r\n * Development utility to make a user an admin\r\n * \r\n * IMPORTANT: This is for development/testing only!\r\n * In production, admin roles should be assigned directly in Supabase dashboard\r\n * \r\n * Usage:\r\n * 1. Open browser console on your app\r\n * 2. Import this function (if using dev tools)\r\n * 3. Call: makeAdmin('user-email@example.com')\r\n */\r\n\r\nimport { supabase } from '../lib/supabase'\r\n\r\nexport async function makeAdmin(email) {\r\n  try {\r\n    // Check if user is already authenticated as admin\r\n    const { data: { user } } = await supabase.auth.getUser()\r\n    \r\n    if (!user) {\r\n      console.error('‚ùå You must be logged in to use this utility')\r\n      return\r\n    }\r\n\r\n    // Update the user's role to admin\r\n    const { data, error } = await supabase\r\n      .from('profiles')\r\n      .update({ role: 'admin' })\r\n      .eq('email', email)\r\n      .select()\r\n      .single()\r\n\r\n    if (error) {\r\n      console.error('‚ùå Error making user admin:', error.message)\r\n      return\r\n    }\r\n\r\n    console.log('‚úÖ Successfully made user admin:', data)\r\n    console.log('üîÑ Please refresh the page for changes to take effect')\r\n    \r\n    return data\r\n  } catch (err) {\r\n    console.error('‚ùå Error:', err)\r\n  }\r\n}\r\n\r\n// Make it available in browser console during development\r\nif (import.meta.env.DEV) {\r\n  window.makeAdmin = makeAdmin\r\n}\r\n"],"names":["makeAdmin","email","user","supabase","data","error","err"],"mappings":"2gBAcA,eAAsBA,EAAUC,EAAO,CACrC,GAAI,CAEF,KAAM,CAAE,KAAM,CAAE,KAAAC,CAAA,GAAW,MAAMC,EAAS,KAAK,QAAA,EAE/C,GAAI,CAACD,EAAM,CACT,QAAQ,MAAM,6CAA6C,EAC3D,MACF,CAGA,KAAM,CAAE,KAAAE,EAAM,MAAAC,CAAA,EAAU,MAAMF,EAC3B,KAAK,UAAU,EACf,OAAO,CAAE,KAAM,OAAA,CAAS,EACxB,GAAG,QAASF,CAAK,EACjB,OAAA,EACA,OAAA,EAEH,GAAII,EAAO,CACT,QAAQ,MAAM,6BAA8BA,EAAM,OAAO,EACzD,MACF,CAEA,eAAQ,IAAI,kCAAmCD,CAAI,EACnD,QAAQ,IAAI,uDAAuD,EAE5DA,CACT,OAASE,EAAK,CACZ,QAAQ,MAAM,WAAYA,CAAG,CAC/B,CACF,CAIE,OAAO,UAAYN"}